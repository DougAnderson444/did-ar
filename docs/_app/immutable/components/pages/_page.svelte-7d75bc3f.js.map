{"version":3,"mappings":"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","names":["memoize","fn","options","cache","cacheDefault","serializer","serializerDefault","strategy","strategyDefault","isPrimitive","value","monadic","arg","cacheKey","computedValue","variadic","args","assemble","context","serialize","ObjectWithoutPrototypeCache","key","memoize_default","DEFAULT_CLASS","draggable","node","_a","_b","tick","active","translateX","translateY","initialX","initialY","clientToNodeOffsetX","clientToNodeOffsetY","xOffset","yOffset","position","setTranslate","gpuAcceleration","canMoveInX","canMoveInY","bodyOriginalUserSelectVal","computedBounds","nodeRect","dragEl","cancelEl","isControlled","getEventData","fireSvelteDragStartEvent","node2","data","onDragStart","fireSvelteDragStopEvent","onDragEnd","fireSvelteDragEvent","translateX2","translateY2","onDrag","listen","dragStart","dragEnd","drag","calculateInverseScale","inverseScale","e","disabled","ignoreMultitouch","defaultClass","getDragEl","handle","getCancelElement","cancel","axis","bounds","computeBoundRect","isString","applyUserSelectHack","isTouchEvent","clientX","clientY","defaultClassDragging","defaultClassDragged","finalX","finalY","virtualClientBounds","clamp","grid","xSnap","ySnap","deltaX","deltaY","snapToGrid","unlisten","options2","_a2","_b2","_c","_d","_e","_f","_g","_h","_i","_j","_k","dragged","event","val","min","max","pendingX","pendingY","x","y","handleEl","rootNode","windowWidth","windowHeight","computedRight","right","computedBottom","bottom","xPos","yPos","el","insert_hydration","target","append_hydration","div","svg","defs1","radialGradient","ctx","div4","div3","navOpen","handleNav","$$invalidate","func_1","MessageType","Resolution","ErrorCode","NativeErrorName","NativeEventType","localName","log","callbacks","destroyed","error","callback","createLogger","debug","DEFAULT_PORT_BY_PROTOCOL","URL_REGEX","opaqueOriginSchemes","getOriginFromSrc","src","scheme","location","regexResult","protocol","hostname","port","portSuffix","serializeError","deserializeError","obj","deserializedError","connectCallReceiver","info","serializedMethods","handleMessageEvent","remote","originForReceiving","callMessage","methodName","createPromiseHandler","resolution","returnValue","message","originForSending","err","errorReplyMessage","resolve","local","id","generateId","KEY_PATH_DELIMITER","keyPathToSegments","keyPath","segmentsToKeyPath","segments","createKeyPath","prefix","setAtKeyPath","subject","prevSubject","idx","serializeMethods","methods","flattenedMethods","deserializeMethods","connectCallSender","callSender","methodKeyPaths","destroyConnection","createMethodProxy","iframeRemoved","reject","replyMessage","api","name","handleAckMessageFactory","childOrigin","destructor","destroyCallReceiver","receiverMethodNames","onDestroy","receiverMethodName","destroyCallSender","destroy","handleSynMessageFactory","synAckMessage","CHECK_IFRAME_IN_DOC_INTERVAL","monitorIframeRemoval","iframe","checkIframeInDocIntervalId","startConnectionTimeout","timeout","timeoutId","validateIframeHasSrcOrSrcDoc","connectToChild","createDestructor","handleSynMessage","handleAckMessage","stopConnectionTimeout","handleMessage","div_transition","if_block0","create_if_block_3","if_block1","create_if_block_2","if_block2","create_if_block_1","if_block3","create_if_block","button","createEventDispatcher","dispatch","attr","set_data","dirty","div6","a","div1","div5","is_function","iframeOffsetWidth","focused","saveInputURL","onMount","INPUT_URL","ImmortalDB","storedValue","connect","handleIframeLoad","pending","height","width","show","hide","wallet","inputUrl","disconnect","togglePopup","blur_handler","topOffsetHeight","topOffsetWidth","$$value","popupIcon","connectionIcon","mounted","RSAPublicKey","Ed25519PublicKey","srcTx","ready"],"sources":["../../../../../../../node_modules/svelte-drag/dist/index.js","../../../../../../../node_modules/@peerpiper/web3-wallet-connector/assets/Logo.svelte","../../../../../../../node_modules/@peerpiper/web3-wallet-connector/MenuWrapper.svelte","../../../../../../../node_modules/penpal/lib/enums.js","../../../../../../../node_modules/penpal/lib/createDestructor.js","../../../../../../../node_modules/penpal/lib/createLogger.js","../../../../../../../node_modules/penpal/lib/parent/getOriginFromSrc.js","../../../../../../../node_modules/penpal/lib/errorSerialization.js","../../../../../../../node_modules/penpal/lib/connectCallReceiver.js","../../../../../../../node_modules/penpal/lib/generateId.js","../../../../../../../node_modules/penpal/lib/methodSerialization.js","../../../../../../../node_modules/penpal/lib/connectCallSender.js","../../../../../../../node_modules/penpal/lib/parent/handleAckMessageFactory.js","../../../../../../../node_modules/penpal/lib/parent/handleSynMessageFactory.js","../../../../../../../node_modules/penpal/lib/parent/monitorIframeRemoval.js","../../../../../../../node_modules/penpal/lib/startConnectionTimeout.js","../../../../../../../node_modules/penpal/lib/parent/validateIframeHasSrcOrSrcDoc.js","../../../../../../../node_modules/penpal/lib/parent/connectToChild.js","../../../../../../../node_modules/@peerpiper/web3-wallet-connector/components/WalletSelectorIcons.svelte","../../../../../../../node_modules/@peerpiper/web3-wallet-connector/ConnectorInside.svelte","../../../../../../../node_modules/@peerpiper/web3-wallet-connector/Web3WalletMenu.svelte","../../../../../../../src/routes/+page.svelte"],"sourcesContent":["// src/memoize.js\nfunction memoize(fn, options) {\n  var cache = options && options.cache ? options.cache : cacheDefault;\n  var serializer = options && options.serializer ? options.serializer : serializerDefault;\n  var strategy = options && options.strategy ? options.strategy : strategyDefault;\n  return strategy(fn, {\n    cache,\n    serializer\n  });\n}\nfunction isPrimitive(value) {\n  return value == null || typeof value === \"number\" || typeof value === \"boolean\";\n}\nfunction monadic(fn, cache, serializer, arg) {\n  var cacheKey = isPrimitive(arg) ? arg : serializer(arg);\n  var computedValue = cache.get(cacheKey);\n  if (typeof computedValue === \"undefined\") {\n    computedValue = fn.call(this, arg);\n    cache.set(cacheKey, computedValue);\n  }\n  return computedValue;\n}\nfunction variadic(fn, cache, serializer) {\n  var args = Array.prototype.slice.call(arguments, 3);\n  var cacheKey = serializer(args);\n  var computedValue = cache.get(cacheKey);\n  if (typeof computedValue === \"undefined\") {\n    computedValue = fn.apply(this, args);\n    cache.set(cacheKey, computedValue);\n  }\n  return computedValue;\n}\nfunction assemble(fn, context, strategy, cache, serialize) {\n  return strategy.bind(context, fn, cache, serialize);\n}\nfunction strategyDefault(fn, options) {\n  var strategy = fn.length === 1 ? monadic : variadic;\n  return assemble(fn, this, strategy, options.cache.create(), options.serializer);\n}\nfunction serializerDefault() {\n  return JSON.stringify(arguments);\n}\nfunction ObjectWithoutPrototypeCache() {\n  this.cache = /* @__PURE__ */ Object.create(null);\n}\nObjectWithoutPrototypeCache.prototype.has = function(key) {\n  return key in this.cache;\n};\nObjectWithoutPrototypeCache.prototype.get = function(key) {\n  return this.cache[key];\n};\nObjectWithoutPrototypeCache.prototype.set = function(key, value) {\n  this.cache[key] = value;\n};\nvar cacheDefault = {\n  create: function create() {\n    return new ObjectWithoutPrototypeCache();\n  }\n};\nvar memoize_default = memoize;\n\n// src/index.ts\nvar DEFAULT_CLASS = {\n  MAIN: \"svelte-draggable\",\n  DRAGGING: \"svelte-draggable-dragging\",\n  DRAGGED: \"svelte-draggable-dragged\"\n};\nvar draggable = (node, options = {}) => {\n  var _a, _b;\n  let {\n    bounds,\n    axis = \"both\",\n    gpuAcceleration = true,\n    applyUserSelectHack = true,\n    disabled = false,\n    ignoreMultitouch = false,\n    grid,\n    position,\n    cancel,\n    handle,\n    defaultClass = DEFAULT_CLASS.MAIN,\n    defaultClassDragging = DEFAULT_CLASS.DRAGGING,\n    defaultClassDragged = DEFAULT_CLASS.DRAGGED,\n    defaultPosition = { x: 0, y: 0 },\n    onDragStart,\n    onDrag,\n    onDragEnd\n  } = options;\n  const tick = new Promise(requestAnimationFrame);\n  let active = false;\n  let [translateX, translateY] = [0, 0];\n  let [initialX, initialY] = [0, 0];\n  let [clientToNodeOffsetX, clientToNodeOffsetY] = [0, 0];\n  let { x: xOffset, y: yOffset } = { x: (_a = position == null ? void 0 : position.x) != null ? _a : 0, y: (_b = position == null ? void 0 : position.y) != null ? _b : 0 };\n  setTranslate(xOffset, yOffset, node, gpuAcceleration);\n  let canMoveInX;\n  let canMoveInY;\n  let bodyOriginalUserSelectVal = \"\";\n  let computedBounds;\n  let nodeRect;\n  let dragEl;\n  let cancelEl;\n  let isControlled = !!position;\n  const getEventData = () => ({\n    offsetX: translateX,\n    offsetY: translateY,\n    domRect: node.getBoundingClientRect()\n  });\n  function fireSvelteDragStartEvent(node2) {\n    const data = getEventData();\n    node2.dispatchEvent(new CustomEvent(\"svelte-drag:start\", { detail: data }));\n    onDragStart == null ? void 0 : onDragStart(data);\n  }\n  function fireSvelteDragStopEvent(node2) {\n    const data = getEventData();\n    node2.dispatchEvent(new CustomEvent(\"svelte-drag:end\", { detail: data }));\n    onDragEnd == null ? void 0 : onDragEnd(data);\n  }\n  function fireSvelteDragEvent(node2, translateX2, translateY2) {\n    const data = getEventData();\n    node2.dispatchEvent(new CustomEvent(\"svelte-drag\", { detail: data }));\n    onDrag == null ? void 0 : onDrag(data);\n  }\n  const listen = addEventListener;\n  listen(\"touchstart\", dragStart, false);\n  listen(\"touchend\", dragEnd, false);\n  listen(\"touchmove\", drag, false);\n  listen(\"mousedown\", dragStart, false);\n  listen(\"mouseup\", dragEnd, false);\n  listen(\"mousemove\", drag, false);\n  node.style.touchAction = \"none\";\n  const calculateInverseScale = () => {\n    let inverseScale = node.offsetWidth / nodeRect.width;\n    if (isNaN(inverseScale))\n      inverseScale = 1;\n    return inverseScale;\n  };\n  function dragStart(e) {\n    if (disabled)\n      return;\n    if (ignoreMultitouch && e.type === \"touchstart\" && e.touches.length > 1)\n      return;\n    node.classList.add(defaultClass);\n    dragEl = getDragEl(handle, node);\n    cancelEl = getCancelElement(cancel, node);\n    canMoveInX = [\"both\", \"x\"].includes(axis);\n    canMoveInY = [\"both\", \"y\"].includes(axis);\n    if (typeof bounds !== \"undefined\") {\n      computedBounds = computeBoundRect(bounds, node);\n    }\n    nodeRect = node.getBoundingClientRect();\n    if (isString(handle) && isString(cancel) && handle === cancel)\n      throw new Error(\"`handle` selector can't be same as `cancel` selector\");\n    if (cancelEl == null ? void 0 : cancelEl.contains(dragEl))\n      throw new Error(\"Element being dragged can't be a child of the element on which `cancel` is applied\");\n    if (dragEl.contains(e.target) && !(cancelEl == null ? void 0 : cancelEl.contains(e.target)))\n      active = true;\n    if (!active)\n      return;\n    if (applyUserSelectHack) {\n      bodyOriginalUserSelectVal = document.body.style.userSelect;\n      document.body.style.userSelect = \"none\";\n    }\n    fireSvelteDragStartEvent(node);\n    const { clientX, clientY } = isTouchEvent(e) ? e.touches[0] : e;\n    const inverseScale = calculateInverseScale();\n    if (canMoveInX)\n      initialX = clientX - xOffset / inverseScale;\n    if (canMoveInY)\n      initialY = clientY - yOffset / inverseScale;\n    if (computedBounds) {\n      clientToNodeOffsetX = clientX - nodeRect.left;\n      clientToNodeOffsetY = clientY - nodeRect.top;\n    }\n  }\n  function dragEnd() {\n    if (!active)\n      return;\n    node.classList.remove(defaultClassDragging);\n    node.classList.add(defaultClassDragged);\n    if (applyUserSelectHack)\n      document.body.style.userSelect = bodyOriginalUserSelectVal;\n    fireSvelteDragStopEvent(node);\n    if (canMoveInX)\n      initialX = translateX;\n    if (canMoveInX)\n      initialY = translateY;\n    active = false;\n  }\n  function drag(e) {\n    if (!active)\n      return;\n    node.classList.add(defaultClassDragging);\n    e.preventDefault();\n    nodeRect = node.getBoundingClientRect();\n    const { clientX, clientY } = isTouchEvent(e) ? e.touches[0] : e;\n    let [finalX, finalY] = [clientX, clientY];\n    const inverseScale = calculateInverseScale();\n    if (computedBounds) {\n      const virtualClientBounds = {\n        left: computedBounds.left + clientToNodeOffsetX,\n        top: computedBounds.top + clientToNodeOffsetY,\n        right: computedBounds.right + clientToNodeOffsetX - nodeRect.width,\n        bottom: computedBounds.bottom + clientToNodeOffsetY - nodeRect.height\n      };\n      finalX = clamp(finalX, virtualClientBounds.left, virtualClientBounds.right);\n      finalY = clamp(finalY, virtualClientBounds.top, virtualClientBounds.bottom);\n    }\n    if (Array.isArray(grid)) {\n      let [xSnap, ySnap] = grid;\n      if (isNaN(+xSnap) || xSnap < 0)\n        throw new Error(\"1st argument of `grid` must be a valid positive number\");\n      if (isNaN(+ySnap) || ySnap < 0)\n        throw new Error(\"2nd argument of `grid` must be a valid positive number\");\n      let [deltaX, deltaY] = [finalX - initialX, finalY - initialY];\n      [deltaX, deltaY] = snapToGrid([Math.floor(xSnap / inverseScale), Math.floor(ySnap / inverseScale)], deltaX, deltaY);\n      [finalX, finalY] = [initialX + deltaX, initialY + deltaY];\n    }\n    if (canMoveInX)\n      translateX = (finalX - initialX) * inverseScale;\n    if (canMoveInY)\n      translateY = (finalY - initialY) * inverseScale;\n    [xOffset, yOffset] = [translateX, translateY];\n    fireSvelteDragEvent(node, translateX, translateY);\n    tick.then(() => setTranslate(translateX, translateY, node, gpuAcceleration));\n  }\n  return {\n    destroy: () => {\n      const unlisten = removeEventListener;\n      unlisten(\"touchstart\", dragStart, false);\n      unlisten(\"touchend\", dragEnd, false);\n      unlisten(\"touchmove\", drag, false);\n      unlisten(\"mousedown\", dragStart, false);\n      unlisten(\"mouseup\", dragEnd, false);\n      unlisten(\"mousemove\", drag, false);\n    },\n    update: (options2) => {\n      var _a2, _b2, _c, _d, _e, _f, _g, _h, _i, _j, _k;\n      axis = options2.axis || \"both\";\n      disabled = (_a2 = options2.disabled) != null ? _a2 : false;\n      ignoreMultitouch = (_b2 = options2.ignoreMultitouch) != null ? _b2 : false;\n      handle = options2.handle;\n      bounds = options2.bounds;\n      cancel = options2.cancel;\n      applyUserSelectHack = (_c = options2.applyUserSelectHack) != null ? _c : true;\n      grid = options2.grid;\n      gpuAcceleration = (_d = options2.gpuAcceleration) != null ? _d : true;\n      const dragged = node.classList.contains(defaultClassDragged);\n      node.classList.remove(defaultClass, defaultClassDragged);\n      defaultClass = (_e = options2.defaultClass) != null ? _e : DEFAULT_CLASS.MAIN;\n      defaultClassDragging = (_f = options2.defaultClassDragging) != null ? _f : DEFAULT_CLASS.DRAGGING;\n      defaultClassDragged = (_g = options2.defaultClassDragged) != null ? _g : DEFAULT_CLASS.DRAGGED;\n      node.classList.add(defaultClass);\n      if (dragged)\n        node.classList.add(defaultClassDragged);\n      if (isControlled) {\n        xOffset = translateX = (_i = (_h = options2.position) == null ? void 0 : _h.x) != null ? _i : translateX;\n        yOffset = translateY = (_k = (_j = options2.position) == null ? void 0 : _j.y) != null ? _k : translateY;\n        tick.then(() => setTranslate(translateX, translateY, node, gpuAcceleration));\n      }\n    }\n  };\n};\nfunction isTouchEvent(event) {\n  return Boolean(event.touches && event.touches.length);\n}\nfunction clamp(val, min, max) {\n  return Math.min(Math.max(val, min), max);\n}\nfunction isString(val) {\n  return typeof val === \"string\";\n}\nvar snapToGrid = memoize_default(([xSnap, ySnap], pendingX, pendingY) => {\n  const x = Math.round(pendingX / xSnap) * xSnap;\n  const y = Math.round(pendingY / ySnap) * ySnap;\n  return [x, y];\n});\nfunction getDragEl(handle, node) {\n  if (!handle)\n    return node;\n  const handleEl = node.querySelector(handle);\n  if (handleEl === null)\n    throw new Error(\"Selector passed for `handle` option should be child of the element on which the action is applied\");\n  return handleEl;\n}\nfunction getCancelElement(cancel, node) {\n  if (!cancel)\n    return;\n  const cancelEl = node.querySelector(cancel);\n  if (cancelEl === null)\n    throw new Error(\"Selector passed for `cancel` option should be child of the element on which the action is applied\");\n  return cancelEl;\n}\nfunction computeBoundRect(bounds, rootNode) {\n  if (typeof bounds === \"object\") {\n    const [windowWidth, windowHeight] = [window.innerWidth, window.innerHeight];\n    const { top = 0, left = 0, right = 0, bottom = 0 } = bounds;\n    const computedRight = windowWidth - right;\n    const computedBottom = windowHeight - bottom;\n    return { top, right: computedRight, bottom: computedBottom, left };\n  }\n  if (bounds === \"parent\") {\n    const boundRect = rootNode.parentNode.getBoundingClientRect();\n    return boundRect;\n  }\n  const node = document.querySelector(bounds);\n  if (node === null)\n    throw new Error(\"The selector provided for bound doesn't exists in the document.\");\n  const computedBounds = node.getBoundingClientRect();\n  return computedBounds;\n}\nfunction setTranslate(xPos, yPos, el, gpuAcceleration) {\n  el.style.transform = gpuAcceleration ? `translate3d(${+xPos}px, ${+yPos}px, 0)` : `translate(${+xPos}px, ${+yPos}px)`;\n}\nexport {\n  draggable\n};\n//# sourceMappingURL=index.js.map","<div>\r\n\t<svg\r\n\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\txmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n\t\tviewBox=\"0 0 1440 1440\"\r\n\t\twidth=\"100\"\r\n\t\theight=\"100\"\r\n\t>\r\n\t\t<defs />\r\n\t\t<defs>\r\n\t\t\t<path\r\n\t\t\t\tid=\"a\"\r\n\t\t\t\td=\"M258 1321c9-304 6-917 0-1191 52-161 1082-280 1083 330 1 609-618 545-701 538-2 67-2 208 0 422-222 56-349 23-382-99z\"\r\n\t\t\t/>\r\n\t\t\t<path\r\n\t\t\t\tid=\"c\"\r\n\t\t\t\td=\"M1122 560c-107 223-284 293-529 209l-38 79c-1 2-4 2-5-1l-99-287c-1-5 1-11 6-13l273-106c3-1 6 2 5 5l-36 75c70 126 211 139 423 39z\"\r\n\t\t\t/>\r\n\t\t\t<path\r\n\t\t\t\tid=\"d\"\r\n\t\t\t\td=\"M451 447c107-223 284-292 529-209l38-78c1-3 5-2 5 0l99 288c1 5-1 10-6 12L843 567c-3 1-6-3-5-6l37-75c-71-126-212-139-424-39z\"\r\n\t\t\t/>\r\n\t\t\t<radialGradient id=\"b\" cx=\"992.3\" cy=\"174.2\" r=\"1312.8\" gradientUnits=\"userSpaceOnUse\">\r\n\t\t\t\t<stop offset=\"0%\" stop-color=\"#69ed66\" />\r\n\t\t\t\t<stop offset=\"100%\" stop-color=\"#279c19\" />\r\n\t\t\t</radialGradient>\r\n\t\t</defs>\r\n\t\t<use fill=\"url(#b)\" xlink:href=\"#a\" />\r\n\t\t<use fill=\"#fff\" xlink:href=\"#c\" />\r\n\t\t<use fill=\"#fff\" xlink:href=\"#d\" />\r\n\t</svg>\r\n</div>\r\n\r\n<style>\r\n\tsvg {\r\n\t\twidth: auto;\r\n\t\theight: 2em;\r\n\t\tdisplay: block;\r\n\t}\r\n</style>\r\n","<script>\r\n\timport { draggable } from 'svelte-drag';\r\n\timport Logo from './assets/Logo.svelte'; // https://peerpiper.io\r\n\r\n\tlet navOpen = false;\r\n\r\n\tfunction handleNav() {\r\n\t\tnavOpen = !navOpen;\r\n\t}\r\n\r\n\tfunction onClickOutside(event) {\r\n\t\tnavOpen = false;\r\n\t}\r\n</script>\r\n\r\n<!-- Use Menu Icon to open the sidenav -->\r\n<div class=\"container\" class:change={navOpen} on:click={handleNav} use:draggable>\r\n\t<Logo />\r\n\t<div class=\"menu-icon\">\r\n\t\t<div class=\"bar1\" />\r\n\t\t<div class=\"bar2\" />\r\n\t\t<div class=\"bar3\" />\r\n\t</div>\r\n</div>\r\n\r\n<div class:mask={navOpen} on:click={onClickOutside} />\r\n<div class=\"sidenav\" class:open={navOpen}>\r\n\t<slot openNav={() => (navOpen = true)} hideNav={() => (navOpen = false)} />\r\n</div>\r\n\r\n<style>\r\n\t.container {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tposition: absolute;\r\n\t\ttop: 15px;\r\n\t\tright: 6px;\r\n\t\tz-index: 100;\r\n\t\tcursor: pointer;\r\n\t\t/* \tbackground-color: black; */\r\n\t\tmargin: 1.618em;\r\n\t\topacity: 0.95;\r\n\t\twidth: auto;\r\n\t}\r\n\r\n\t.menu-icon {\r\n\t\tdisplay: inline-block;\r\n\t}\r\n\t.bar1,\r\n\t.bar2,\r\n\t.bar3 {\r\n\t\twidth: 35px;\r\n\t\theight: 5px;\r\n\t\tbackground-color: #0bb113;\r\n\t\tmargin: 6px 0;\r\n\t\ttransition: 0.4s;\r\n\t}\r\n\r\n\t.change .bar1 {\r\n\t\t-webkit-transform: rotate(-45deg) translate(-9px, 6px);\r\n\t\ttransform: rotate(-45deg) translate(-9px, 6px);\r\n\t}\r\n\r\n\t.change .bar2 {\r\n\t\topacity: 0;\r\n\t}\r\n\r\n\t.change .bar3 {\r\n\t\t-webkit-transform: rotate(45deg) translate(-8px, -8px);\r\n\t\ttransform: rotate(45deg) translate(-8px, -8px);\r\n\t}\r\n\r\n\t/* The side navigation menu */\r\n\t.sidenav {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tright: 0;\r\n\t\theight: 15%;\r\n\t\twidth: 0; /* 0 width - change this with JavaScript */\r\n\t\tz-index: 50;\r\n\t\tbackground-color: #111;\r\n\t\toverflow-x: inherit; /* Disable horizontal scroll */\r\n\t\tpadding-top: 30px;\r\n\t\ttransition: 0.25s;\r\n\t}\r\n\r\n\t.open {\r\n\t\twidth: 80%;\r\n\t\theight: 100%;\r\n\t\toverflow-x: scroll;\r\n\t}\r\n\r\n\t.mask {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\topacity: 0.5;\r\n\t\tbackground-color: #444;\r\n\t\ttransition: 0.4s;\r\n\t}\r\n\r\n\t/* On smaller screens, where height is less than 450px, change the style of the sidenav (less padding and a smaller font size) */\r\n\t@media screen and (max-height: 450px) {\r\n\t\t.sidenav {\r\n\t\t\tpadding-top: 15px;\r\n\t\t}\r\n\t}\r\n</style>\r\n","export var MessageType;\n(function (MessageType) {\n    MessageType[\"Call\"] = \"call\";\n    MessageType[\"Reply\"] = \"reply\";\n    MessageType[\"Syn\"] = \"syn\";\n    MessageType[\"SynAck\"] = \"synAck\";\n    MessageType[\"Ack\"] = \"ack\";\n})(MessageType || (MessageType = {}));\nexport var Resolution;\n(function (Resolution) {\n    Resolution[\"Fulfilled\"] = \"fulfilled\";\n    Resolution[\"Rejected\"] = \"rejected\";\n})(Resolution || (Resolution = {}));\nexport var ErrorCode;\n(function (ErrorCode) {\n    ErrorCode[\"ConnectionDestroyed\"] = \"ConnectionDestroyed\";\n    ErrorCode[\"ConnectionTimeout\"] = \"ConnectionTimeout\";\n    ErrorCode[\"NoIframeSrc\"] = \"NoIframeSrc\";\n})(ErrorCode || (ErrorCode = {}));\nexport var NativeErrorName;\n(function (NativeErrorName) {\n    NativeErrorName[\"DataCloneError\"] = \"DataCloneError\";\n})(NativeErrorName || (NativeErrorName = {}));\nexport var NativeEventType;\n(function (NativeEventType) {\n    NativeEventType[\"Message\"] = \"message\";\n})(NativeEventType || (NativeEventType = {}));\n","export default (localName, log) => {\n    const callbacks = [];\n    let destroyed = false;\n    return {\n        destroy(error) {\n            if (!destroyed) {\n                destroyed = true;\n                log(`${localName}: Destroying connection`);\n                callbacks.forEach((callback) => {\n                    callback(error);\n                });\n            }\n        },\n        onDestroy(callback) {\n            destroyed ? callback() : callbacks.push(callback);\n        },\n    };\n};\n","export default (debug) => {\n    /**\n     * Logs a message if debug is enabled.\n     */\n    return (...args) => {\n        if (debug) {\n            console.log('[Penpal]', ...args); // eslint-disable-line no-console\n        }\n    };\n};\n","const DEFAULT_PORT_BY_PROTOCOL = {\n    'http:': '80',\n    'https:': '443',\n};\nconst URL_REGEX = /^(https?:)?\\/\\/([^/:]+)?(:(\\d+))?/;\nconst opaqueOriginSchemes = ['file:', 'data:'];\n/**\n * Converts a src value into an origin.\n */\nexport default (src) => {\n    if (src && opaqueOriginSchemes.find((scheme) => src.startsWith(scheme))) {\n        // The origin of the child document is an opaque origin and its\n        // serialization is \"null\"\n        // https://html.spec.whatwg.org/multipage/origin.html#origin\n        return 'null';\n    }\n    // Note that if src is undefined, then srcdoc is being used instead of src\n    // and we can follow this same logic below to get the origin of the parent,\n    // which is the origin that we will need to use.\n    const location = document.location;\n    const regexResult = URL_REGEX.exec(src);\n    let protocol;\n    let hostname;\n    let port;\n    if (regexResult) {\n        // It's an absolute URL. Use the parsed info.\n        // regexResult[1] will be undefined if the URL starts with //\n        protocol = regexResult[1] ? regexResult[1] : location.protocol;\n        hostname = regexResult[2];\n        port = regexResult[4];\n    }\n    else {\n        // It's a relative path. Use the current location's info.\n        protocol = location.protocol;\n        hostname = location.hostname;\n        port = location.port;\n    }\n    // If the port is the default for the protocol, we don't want to add it to the origin string\n    // or it won't match the message's event.origin.\n    const portSuffix = port && port !== DEFAULT_PORT_BY_PROTOCOL[protocol] ? `:${port}` : '';\n    return `${protocol}//${hostname}${portSuffix}`;\n};\n","/**\n * Converts an error object into a plain object.\n */\nexport const serializeError = ({ name, message, stack, }) => ({\n    name,\n    message,\n    stack,\n});\n/**\n * Converts a plain object into an error object.\n */\nexport const deserializeError = (obj) => {\n    const deserializedError = new Error();\n    // @ts-ignore\n    Object.keys(obj).forEach((key) => (deserializedError[key] = obj[key]));\n    return deserializedError;\n};\n","import { serializeError } from './errorSerialization';\nimport { MessageType, NativeEventType, NativeErrorName, Resolution, } from './enums';\n/**\n * Listens for \"call\" messages coming from the remote, executes the corresponding method, and\n * responds with the return value.\n */\nexport default (info, serializedMethods, log) => {\n    const { localName, local, remote, originForSending, originForReceiving, } = info;\n    let destroyed = false;\n    const handleMessageEvent = (event) => {\n        if (event.source !== remote || event.data.penpal !== MessageType.Call) {\n            return;\n        }\n        if (originForReceiving !== '*' && event.origin !== originForReceiving) {\n            log(`${localName} received message from origin ${event.origin} which did not match expected origin ${originForReceiving}`);\n            return;\n        }\n        const callMessage = event.data;\n        const { methodName, args, id } = callMessage;\n        log(`${localName}: Received ${methodName}() call`);\n        const createPromiseHandler = (resolution) => {\n            return (returnValue) => {\n                log(`${localName}: Sending ${methodName}() reply`);\n                if (destroyed) {\n                    // It's possible to throw an error here, but it would need to be thrown asynchronously\n                    // and would only be catchable using window.onerror. This is because the consumer\n                    // is merely returning a value from their method and not calling any function\n                    // that they could wrap in a try-catch. Even if the consumer were to catch the error,\n                    // the value of doing so is questionable. Instead, we'll just log a message.\n                    log(`${localName}: Unable to send ${methodName}() reply due to destroyed connection`);\n                    return;\n                }\n                const message = {\n                    penpal: MessageType.Reply,\n                    id,\n                    resolution,\n                    returnValue,\n                };\n                if (resolution === Resolution.Rejected &&\n                    returnValue instanceof Error) {\n                    message.returnValue = serializeError(returnValue);\n                    message.returnValueIsError = true;\n                }\n                try {\n                    remote.postMessage(message, originForSending);\n                }\n                catch (err) {\n                    // If a consumer attempts to send an object that's not cloneable (e.g., window),\n                    // we want to ensure the receiver's promise gets rejected.\n                    if (err.name === NativeErrorName.DataCloneError) {\n                        const errorReplyMessage = {\n                            penpal: MessageType.Reply,\n                            id,\n                            resolution: Resolution.Rejected,\n                            returnValue: serializeError(err),\n                            returnValueIsError: true,\n                        };\n                        remote.postMessage(errorReplyMessage, originForSending);\n                    }\n                    throw err;\n                }\n            };\n        };\n        new Promise((resolve) => resolve(serializedMethods[methodName].apply(serializedMethods, args))).then(createPromiseHandler(Resolution.Fulfilled), createPromiseHandler(Resolution.Rejected));\n    };\n    local.addEventListener(NativeEventType.Message, handleMessageEvent);\n    return () => {\n        destroyed = true;\n        local.removeEventListener(NativeEventType.Message, handleMessageEvent);\n    };\n};\n","let id = 0;\n/**\n * @return {number} A unique ID (not universally unique)\n */\nexport default () => ++id;\n","const KEY_PATH_DELIMITER = '.';\nconst keyPathToSegments = (keyPath) => keyPath ? keyPath.split(KEY_PATH_DELIMITER) : [];\nconst segmentsToKeyPath = (segments) => segments.join(KEY_PATH_DELIMITER);\nconst createKeyPath = (key, prefix) => {\n    const segments = keyPathToSegments(prefix || '');\n    segments.push(key);\n    return segmentsToKeyPath(segments);\n};\n/**\n * Given a `keyPath`, set it to be `value` on `subject`, creating any intermediate\n * objects along the way.\n *\n * @param {Object} subject The object on which to set value.\n * @param {string} keyPath The key path at which to set value.\n * @param {Object} value The value to store at the given key path.\n * @returns {Object} Updated subject.\n */\nexport const setAtKeyPath = (subject, keyPath, value) => {\n    const segments = keyPathToSegments(keyPath);\n    segments.reduce((prevSubject, key, idx) => {\n        if (typeof prevSubject[key] === 'undefined') {\n            prevSubject[key] = {};\n        }\n        if (idx === segments.length - 1) {\n            prevSubject[key] = value;\n        }\n        return prevSubject[key];\n    }, subject);\n    return subject;\n};\n/**\n * Given a dictionary of (nested) keys to function, flatten them to a map\n * from key path to function.\n *\n * @param {Object} methods The (potentially nested) object to serialize.\n * @param {string} prefix A string with which to prefix entries. Typically not intended to be used by consumers.\n * @returns {Object} An map from key path in `methods` to functions.\n */\nexport const serializeMethods = (methods, prefix) => {\n    const flattenedMethods = {};\n    Object.keys(methods).forEach((key) => {\n        const value = methods[key];\n        const keyPath = createKeyPath(key, prefix);\n        if (typeof value === 'object') {\n            // Recurse into any nested children.\n            Object.assign(flattenedMethods, serializeMethods(value, keyPath));\n        }\n        if (typeof value === 'function') {\n            // If we've found a method, expose it.\n            flattenedMethods[keyPath] = value;\n        }\n    });\n    return flattenedMethods;\n};\n/**\n * Given a map of key paths to functions, unpack the key paths to an object.\n *\n * @param {Object} flattenedMethods A map of key paths to functions to unpack.\n * @returns {Object} A (potentially nested) map of functions.\n */\nexport const deserializeMethods = (flattenedMethods) => {\n    const methods = {};\n    for (const keyPath in flattenedMethods) {\n        setAtKeyPath(methods, keyPath, flattenedMethods[keyPath]);\n    }\n    return methods;\n};\n","import generateId from './generateId';\nimport { deserializeError } from './errorSerialization';\nimport { deserializeMethods } from './methodSerialization';\nimport { ErrorCode, MessageType, NativeEventType, Resolution } from './enums';\n/**\n * Augments an object with methods that match those defined by the remote. When these methods are\n * called, a \"call\" message will be sent to the remote, the remote's corresponding method will be\n * executed, and the method's return value will be returned via a message.\n * @param {Object} callSender Sender object that should be augmented with methods.\n * @param {Object} info Information about the local and remote windows.\n * @param {Array} methodKeyPaths Key paths of methods available to be called on the remote.\n * @param {Promise} destructionPromise A promise resolved when destroy() is called on the penpal\n * connection.\n * @returns {Object} The call sender object with methods that may be called.\n */\nexport default (callSender, info, methodKeyPaths, destroyConnection, log) => {\n    const { localName, local, remote, originForSending, originForReceiving, } = info;\n    let destroyed = false;\n    log(`${localName}: Connecting call sender`);\n    const createMethodProxy = (methodName) => {\n        return (...args) => {\n            log(`${localName}: Sending ${methodName}() call`);\n            // This handles the case where the iframe has been removed from the DOM\n            // (and therefore its window closed), the consumer has not yet\n            // called destroy(), and the user calls a method exposed by\n            // the remote. We detect the iframe has been removed and force\n            // a destroy() immediately so that the consumer sees the error saying\n            // the connection has been destroyed. We wrap this check in a try catch\n            // because Edge throws an \"Object expected\" error when accessing\n            // contentWindow.closed on a contentWindow from an iframe that's been\n            // removed from the DOM.\n            let iframeRemoved;\n            try {\n                if (remote.closed) {\n                    iframeRemoved = true;\n                }\n            }\n            catch (e) {\n                iframeRemoved = true;\n            }\n            if (iframeRemoved) {\n                destroyConnection();\n            }\n            if (destroyed) {\n                const error = new Error(`Unable to send ${methodName}() call due ` + `to destroyed connection`);\n                error.code = ErrorCode.ConnectionDestroyed;\n                throw error;\n            }\n            return new Promise((resolve, reject) => {\n                const id = generateId();\n                const handleMessageEvent = (event) => {\n                    if (event.source !== remote ||\n                        event.data.penpal !== MessageType.Reply ||\n                        event.data.id !== id) {\n                        return;\n                    }\n                    if (originForReceiving !== '*' &&\n                        event.origin !== originForReceiving) {\n                        log(`${localName} received message from origin ${event.origin} which did not match expected origin ${originForReceiving}`);\n                        return;\n                    }\n                    const replyMessage = event.data;\n                    log(`${localName}: Received ${methodName}() reply`);\n                    local.removeEventListener(NativeEventType.Message, handleMessageEvent);\n                    let returnValue = replyMessage.returnValue;\n                    if (replyMessage.returnValueIsError) {\n                        returnValue = deserializeError(returnValue);\n                    }\n                    (replyMessage.resolution === Resolution.Fulfilled ? resolve : reject)(returnValue);\n                };\n                local.addEventListener(NativeEventType.Message, handleMessageEvent);\n                const callMessage = {\n                    penpal: MessageType.Call,\n                    id,\n                    methodName,\n                    args,\n                };\n                remote.postMessage(callMessage, originForSending);\n            });\n        };\n    };\n    // Wrap each method in a proxy which sends it to the corresponding receiver.\n    const flattenedMethods = methodKeyPaths.reduce((api, name) => {\n        api[name] = createMethodProxy(name);\n        return api;\n    }, {});\n    // Unpack the structure of the provided methods object onto the CallSender, exposing\n    // the methods in the same shape they were provided.\n    Object.assign(callSender, deserializeMethods(flattenedMethods));\n    return () => {\n        destroyed = true;\n    };\n};\n","import connectCallReceiver from '../connectCallReceiver';\nimport connectCallSender from '../connectCallSender';\n/**\n * Handles an ACK handshake message.\n */\nexport default (serializedMethods, childOrigin, originForSending, destructor, log) => {\n    const { destroy, onDestroy } = destructor;\n    let destroyCallReceiver;\n    let receiverMethodNames;\n    // We resolve the promise with the call sender. If the child reconnects\n    // (for example, after refreshing or navigating to another page that\n    // uses Penpal, we'll update the call sender with methods that match the\n    // latest provided by the child.\n    const callSender = {};\n    return (event) => {\n        if (childOrigin !== '*' && event.origin !== childOrigin) {\n            log(`Parent: Handshake - Received ACK message from origin ${event.origin} which did not match expected origin ${childOrigin}`);\n            return;\n        }\n        log('Parent: Handshake - Received ACK');\n        const info = {\n            localName: 'Parent',\n            local: window,\n            remote: event.source,\n            originForSending: originForSending,\n            originForReceiving: childOrigin,\n        };\n        // If the child reconnected, we need to destroy the prior call receiver\n        // before setting up a new one.\n        if (destroyCallReceiver) {\n            destroyCallReceiver();\n        }\n        destroyCallReceiver = connectCallReceiver(info, serializedMethods, log);\n        onDestroy(destroyCallReceiver);\n        // If the child reconnected, we need to remove the methods from the\n        // previous call receiver off the sender.\n        if (receiverMethodNames) {\n            receiverMethodNames.forEach((receiverMethodName) => {\n                delete callSender[receiverMethodName];\n            });\n        }\n        receiverMethodNames = event.data.methodNames;\n        const destroyCallSender = connectCallSender(callSender, info, receiverMethodNames, destroy, log);\n        onDestroy(destroyCallSender);\n        return callSender;\n    };\n};\n","import { MessageType } from '../enums';\n/**\n * Handles a SYN handshake message.\n */\nexport default (log, serializedMethods, childOrigin, originForSending) => {\n    return (event) => {\n        // Under specific timing circumstances, we can receive an event\n        // whose source is null. This seems to happen when the child iframe is\n        // removed from the DOM about the same time it has sent the SYN event.\n        // https://github.com/Aaronius/penpal/issues/85\n        if (!event.source) {\n            return;\n        }\n        if (childOrigin !== '*' && event.origin !== childOrigin) {\n            log(`Parent: Handshake - Received SYN message from origin ${event.origin} which did not match expected origin ${childOrigin}`);\n            return;\n        }\n        log('Parent: Handshake - Received SYN, responding with SYN-ACK');\n        const synAckMessage = {\n            penpal: MessageType.SynAck,\n            methodNames: Object.keys(serializedMethods),\n        };\n        event.source.postMessage(synAckMessage, originForSending);\n    };\n};\n","const CHECK_IFRAME_IN_DOC_INTERVAL = 60000;\n/**\n * Monitors for iframe removal and destroys connection if iframe\n * is found to have been removed from DOM. This is to prevent memory\n * leaks when the iframe is removed from the document and the consumer\n * hasn't called destroy(). Without this, event listeners attached to\n * the window would stick around and since the event handlers have a\n * reference to the iframe in their closures, the iframe would stick\n * around too.\n */\nexport default (iframe, destructor) => {\n    const { destroy, onDestroy } = destructor;\n    const checkIframeInDocIntervalId = setInterval(() => {\n        if (!iframe.isConnected) {\n            clearInterval(checkIframeInDocIntervalId);\n            destroy();\n        }\n    }, CHECK_IFRAME_IN_DOC_INTERVAL);\n    onDestroy(() => {\n        clearInterval(checkIframeInDocIntervalId);\n    });\n};\n","import { ErrorCode } from './enums';\n/**\n * Starts a timeout and calls the callback with an error\n * if the timeout completes before the stop function is called.\n */\nexport default (timeout, callback) => {\n    let timeoutId;\n    if (timeout !== undefined) {\n        timeoutId = window.setTimeout(() => {\n            const error = new Error(`Connection timed out after ${timeout}ms`);\n            error.code = ErrorCode.ConnectionTimeout;\n            callback(error);\n        }, timeout);\n    }\n    return () => {\n        clearTimeout(timeoutId);\n    };\n};\n","import { ErrorCode } from '../enums';\nexport default (iframe) => {\n    if (!iframe.src && !iframe.srcdoc) {\n        const error = new Error('Iframe must have src or srcdoc property defined.');\n        error.code = ErrorCode.NoIframeSrc;\n        throw error;\n    }\n};\n","import { MessageType, NativeEventType } from '../enums';\nimport createDestructor from '../createDestructor';\nimport createLogger from '../createLogger';\nimport getOriginFromSrc from './getOriginFromSrc';\nimport handleAckMessageFactory from './handleAckMessageFactory';\nimport handleSynMessageFactory from './handleSynMessageFactory';\nimport { serializeMethods } from '../methodSerialization';\nimport monitorIframeRemoval from './monitorIframeRemoval';\nimport startConnectionTimeout from '../startConnectionTimeout';\nimport validateIframeHasSrcOrSrcDoc from './validateIframeHasSrcOrSrcDoc';\n/**\n * Attempts to establish communication with an iframe.\n */\nexport default (options) => {\n    let { iframe, methods = {}, childOrigin, timeout, debug = false } = options;\n    const log = createLogger(debug);\n    const destructor = createDestructor('Parent', log);\n    const { onDestroy, destroy } = destructor;\n    if (!childOrigin) {\n        validateIframeHasSrcOrSrcDoc(iframe);\n        childOrigin = getOriginFromSrc(iframe.src);\n    }\n    // If event.origin is \"null\", the remote protocol is file: or data: and we\n    // must post messages with \"*\" as targetOrigin when sending messages.\n    // https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage#Using_window.postMessage_in_extensions\n    const originForSending = childOrigin === 'null' ? '*' : childOrigin;\n    const serializedMethods = serializeMethods(methods);\n    const handleSynMessage = handleSynMessageFactory(log, serializedMethods, childOrigin, originForSending);\n    const handleAckMessage = handleAckMessageFactory(serializedMethods, childOrigin, originForSending, destructor, log);\n    const promise = new Promise((resolve, reject) => {\n        const stopConnectionTimeout = startConnectionTimeout(timeout, destroy);\n        const handleMessage = (event) => {\n            if (event.source !== iframe.contentWindow || !event.data) {\n                return;\n            }\n            if (event.data.penpal === MessageType.Syn) {\n                handleSynMessage(event);\n                return;\n            }\n            if (event.data.penpal === MessageType.Ack) {\n                const callSender = handleAckMessage(event);\n                if (callSender) {\n                    stopConnectionTimeout();\n                    resolve(callSender);\n                }\n                return;\n            }\n        };\n        window.addEventListener(NativeEventType.Message, handleMessage);\n        log('Parent: Awaiting handshake');\n        monitorIframeRemoval(iframe, destructor);\n        onDestroy((error) => {\n            window.removeEventListener(NativeEventType.Message, handleMessage);\n            if (error) {\n                reject(error);\n            }\n        });\n    });\n    return {\n        promise,\n        destroy() {\n            // Don't allow consumer to pass an error into destroy.\n            destroy();\n        },\n    };\n};\n","<script >import { fade } from 'svelte/transition';\r\nimport { createEventDispatcher } from 'svelte';\r\nexport let icon; // props\r\nconst dispatch = createEventDispatcher();\r\n</script>\r\n\r\n<button on:click={() => dispatch('click', 'detail value')}>\r\n\t<div class=\"img-container\">\r\n\t\t{#if icon === 'close'}\r\n\t\t\t<div transition:fade={{ delay: 100, duration: 100 }}>\r\n\t\t\t\t<svg\r\n\t\t\t\t\tv-if=\"icon === 'close'\"\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tenable-background=\"new 0 0 24 24\"\r\n\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t><rect fill=\"none\" height=\"24\" width=\"24\" /><path\r\n\t\t\t\t\t\td=\"M3,3v18h18V3H3z M17,15.59L15.59,17L12,13.41L8.41,17L7,15.59L10.59,12L7,8.41L8.41,7L12,10.59L15.59,7L17,8.41L13.41,12 L17,15.59z\"\r\n\t\t\t\t\t/></svg\r\n\t\t\t\t>\r\n\t\t\t</div>\r\n\t\t{/if}\r\n\t\t{#if icon === 'launch'}\r\n\t\t\t<div transition:fade={{ delay: 100, duration: 100 }}>\r\n\t\t\t\t<svg\r\n\t\t\t\t\tv-else-if=\"icon === 'launch'\"\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t><path d=\"M0 0h24v24H0z\" fill=\"none\" /><path\r\n\t\t\t\t\t\td=\"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z\"\r\n\t\t\t\t\t/></svg\r\n\t\t\t\t>\r\n\t\t\t</div>\r\n\t\t{/if}\r\n\t\t{#if icon === 'plug'}\r\n\t\t\t<div transition:fade={{ delay: 100, duration: 100 }}>\r\n\t\t\t\t<svg\r\n\t\t\t\t\tv-else-if=\"icon === 'plug'\"\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t><path d=\"M0 0h24v24H0z\" fill=\"none\" /><path\r\n\t\t\t\t\t\td=\"M16.01 7L16 3h-2v4h-4V3H8v4h-.01C7 6.99 6 7.99 6 8.99v5.49L9.5 18v3h5v-3l3.5-3.51v-5.5c0-1-1-2-1.99-1.99z\"\r\n\t\t\t\t\t/></svg\r\n\t\t\t\t>\r\n\t\t\t</div>\r\n\t\t{/if}\r\n\t\t{#if icon === 'unplug'}\r\n\t\t\t<div transition:fade={{ delay: 100, duration: 100 }}>\r\n\t\t\t\t<svg\r\n\t\t\t\t\tv-else-if=\"icon === 'unplug'\"\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t><path d=\"M0 0h24v24H0V0z\" fill=\"none\" /><path\r\n\t\t\t\t\t\td=\"M18 14.49V9c0-1-1.01-2.01-2-2V3h-2v4h-4V3H8v2.48l9.51 9.5.49-.49zm-1.76 1.77L7.2 7.2l-.01.01L3.98 4 2.71 5.25l3.36 3.36C6.04 8.74 6 8.87 6 9v5.48L9.5 18v3h5v-3l.48-.48L19.45 22l1.26-1.28-4.47-4.46z\"\r\n\t\t\t\t\t/></svg\r\n\t\t\t\t>\r\n\t\t\t</div>\r\n\t\t{/if}\r\n\t</div>\r\n\t<slot />\r\n</button>\r\n\r\n<style>\r\n\tbutton {\r\n\t\tcursor: pointer;\r\n\t\tflex: 0 0 auto;\r\n\t\tposition: relative;\r\n\t\topacity: 0.8;\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\tbutton {\r\n\t\tcolor: inherit;\r\n\t\tbackground: none;\r\n\t\tborder: none;\r\n\t\tmargin: 0;\r\n\t\tpadding: 0;\r\n\t\tfont-size: 1em;\r\n\t\tcursor: pointer;\r\n\t}\r\n\r\n\t.img-container {\r\n\t\tmargin: calc(var(--spacing) / 2);\r\n\t\twidth: 1.6em;\r\n\t\theight: 1.6em;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\tsvg {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\ttop: 0;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tposition: absolute;\r\n\t}\r\n</style>\r\n","<script >// svelte stuff\r\nimport { onMount, createEventDispatcher } from 'svelte';\r\nimport { fade } from 'svelte/transition';\r\nimport { connectToChild } from 'penpal';\r\nimport IconButton from './components/WalletSelectorIcons.svelte';\r\nimport Logo from './assets/Logo.svelte';\r\nexport let wallet = null;\r\nexport let inputUrl = 'https://peerpiper.github.io/iframe-wallet-sdk/';\r\n// flex dimensions\r\nexport let topOffsetHeight = 0;\r\nexport let topOffsetWidth = 0;\r\nexport let iframeParentHeight = 0;\r\nexport let iframeParentWidth = 0;\r\nlet iframeOffsetWidth;\r\nexport let show;\r\nexport let hide;\r\nconst dispatch = createEventDispatcher();\r\nlet src;\r\nlet placeholder = 'Enter Wallet Url';\r\nlet iframe;\r\nlet focused;\r\nlet saveInputURL;\r\nlet timer;\r\nconst INPUT_URL = 'INPUT_URL';\r\nconst data = {\r\n    loading: true // load right away\r\n};\r\n// cache user's preferred wallet URL to their browser\r\nonMount(async () => {\r\n    const { ImmortalDB } = await import('immortal-db');\r\n    saveInputURL = async () => {\r\n        try {\r\n            await ImmortalDB.set(INPUT_URL, src);\r\n        }\r\n        catch (error) {\r\n            console.warn('Did not save', src, error);\r\n        }\r\n    };\r\n    // check for URL\r\n    try {\r\n        const storedValue = await ImmortalDB.get(INPUT_URL, null);\r\n        if (storedValue) {\r\n            inputUrl = storedValue;\r\n        }\r\n    }\r\n    catch (error) {\r\n        console.warn('Did not get', error);\r\n    }\r\n    connect();\r\n});\r\n$: src && saveInputURL && saveInputURL();\r\nasync function handleIframeLoad() {\r\n    // console.log('Iframe loaded');\r\n    data.loading = false;\r\n    let pending;\r\n    const connection = connectToChild({\r\n        // The iframe to which a connection should be made.\r\n        iframe,\r\n        // Methods the parent is exposing to the child.\r\n        methods: {\r\n            setIframeParentHeight(height) {\r\n                iframeParentHeight = height;\r\n            },\r\n            setIframeParentWidth(width) {\r\n                // console.log('Rx width', width);\r\n                iframeParentWidth = width;\r\n            },\r\n            show() {\r\n                show();\r\n            },\r\n            hide() {\r\n                hide();\r\n            },\r\n            walletReady() {\r\n                wallet = pending; // when using svelte bind:wallet\r\n                dispatch('walletReady', { wallet }); // when using vanilla JS\r\n                // overwrite any other arweave wallets on the window object\r\n                // @ts-ignore\r\n                window.arweaveWallet = wallet.arweaveWalletAPI;\r\n                return true;\r\n            }\r\n        }\r\n    });\r\n    pending = await connection.promise;\r\n    show();\r\n}\r\nconst connect = () => {\r\n    if (src === inputUrl)\r\n        return;\r\n    src = '';\r\n    src = inputUrl;\r\n    data.loading = true;\r\n};\r\nconst disconnect = () => wallet.disconnect();\r\nconst togglePopup = () => window.open(inputUrl);\r\nfunction handleKeydown(event) {\r\n    if (event.key === 'Enter' && focused)\r\n        connect();\r\n}\r\n$: iframe && iframe.addEventListener('load', handleIframeLoad);\r\n$: popupIcon = wallet?.keepPopup ? 'close' : 'launch';\r\n$: connectionIcon = wallet?.address ? 'unplug' : 'plug';\r\n$: iframeOffsetWidth && wallet && wallet?.setWidth(iframeOffsetWidth);\r\n</script>\r\n\r\n<svelte:window on:keydown={handleKeydown} />\r\n\r\n<div class=\"connector-container\">\r\n\t<div\r\n\t\tclass=\"top\"\r\n\t\tbind:offsetHeight={topOffsetHeight}\r\n\t\tbind:offsetWidth={topOffsetWidth}\r\n\t\tstyle=\"--topOffsetHeight: {topOffsetHeight};\"\r\n\t>\r\n\t\t<a href=\"https://PeerPiper.io\" target=\"_blank\" rel=\"noreferrer\">\r\n\t\t\t<div class=\"actions logo\">\r\n\t\t\t\t<Logo />\r\n\t\t\t</div></a\r\n\t\t>\r\n\t\t<div class=\"url-input-container\">\r\n\t\t\t<input\r\n\t\t\t\tclass=\"url\"\r\n\t\t\t\t{placeholder}\r\n\t\t\t\ton:focus={() => (focused = true)}\r\n\t\t\t\ton:blur={() => (focused = false)}\r\n\t\t\t\tbind:value={inputUrl}\r\n\t\t\t\ton:input={saveInputURL}\r\n\t\t\t/>\r\n\t\t\t<span class=\"green-line\" />\r\n\t\t</div>\r\n\t\t<div class=\"actions\">\r\n\t\t\t{#if wallet?.address || inputUrl}\r\n\t\t\t\t<div\r\n\t\t\t\t\ttransition:fade={{ delay: 100, duration: 100 }}\r\n\t\t\t\t\tclass={!wallet?.keepPopup ? 'action dim' : 'action'}\r\n\t\t\t\t>\r\n\t\t\t\t\t<IconButton icon={popupIcon} on:click={togglePopup} />\r\n\t\t\t\t</div>\r\n\t\t\t{/if}\r\n\r\n\t\t\t<div\r\n\t\t\t\tclass={data?.loading\r\n\t\t\t\t\t? 'action dim'\r\n\t\t\t\t\t: 'action' && wallet?.address\r\n\t\t\t\t\t? ' connected '\r\n\t\t\t\t\t: ' disconnected '}\r\n\t\t\t>\r\n\t\t\t\t<IconButton\r\n\t\t\t\t\ticon={connectionIcon}\r\n\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\twallet?.address ? disconnect() : connect();\r\n\t\t\t\t\t}}\r\n\t\t\t\t\t><span class={wallet?.address ? ' connected ' : ' disconnected '}>\r\n\t\t\t\t\t\t{data.loading || !src ? 'Loading...' : 'Load'}\r\n\t\t\t\t\t</span></IconButton\r\n\t\t\t\t>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div\r\n\t\tclass=\"iframe\"\r\n\t\tstyle=\"height: calc({iframeParentHeight}px + 18px)\"\r\n\t\tbind:offsetWidth={iframeOffsetWidth}\r\n\t>\r\n\t\t<iframe\r\n\t\t\ttitle=\"Web Wallet\"\r\n\t\t\tbind:this={iframe}\r\n\t\t\t{src}\r\n\t\t\tallow=\"clipboard-read 'self' 'src'; clipboard-write 'self' 'src';\"\r\n\t\t/>\r\n\t\t<!-- allow=\"clipboard-read 'self' 'src' {src}; clipboard-write 'self' 'src' {src};\" -->\r\n\t</div>\r\n</div>\r\n\r\n<style>\r\n\tdiv {\r\n\t\t--spacing: 1em;\r\n\t}\r\n\t.connector-container {\r\n\t\tpadding: 1.618em;\r\n\t}\r\n\tdiv {\r\n\t\t--background: #161616;\r\n\t}\r\n\t.top {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t}\r\n\tiframe {\r\n\t\tborder: none;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\t.iframe {\r\n\t\tdisplay: flex;\r\n\t\theight: 100%;\r\n\t}\r\n\t.logo {\r\n\t\tflex: 0 0 auto;\r\n\t\tposition: relative;\r\n\t\topacity: 1;\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tpadding: calc(var(--spacing) / 2);\r\n\t}\r\n\r\n\t.url {\r\n\t\tpadding: var(--spacing);\r\n\t\tpadding-right: 0;\r\n\t\tflex: 1 1 0;\r\n\t\tmin-width: 0;\r\n\t\toutline: none;\r\n\t\tbackground-color: var(--background);\r\n\t}\r\n\r\n\t.green-line {\r\n\t\tborder-bottom: 4px solid #0eff02;\r\n\t\tmargin-left: var(--spacing);\r\n\t\tflex: 1;\r\n\t\tposition: relative;\r\n\t\ttop: -8px;\r\n\t}\r\n\r\n\t.actions {\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.actions:last-child {\r\n\t\tpadding-right: calc(var(--spacing) / 2);\r\n\t}\r\n\r\n\t.action.dim {\r\n\t\topacity: 0.9;\r\n\t\tcolor: #e0f7fa;\r\n\t}\r\n\r\n\t.connected {\r\n\t\tcolor: greenyellow;\r\n\t\ttext-shadow: 1px 1px 3px black;\r\n\t}\r\n\r\n\t.disconnected {\r\n\t\tcolor: #e0f7fa;\r\n\t\ttext-shadow: 1px 1px 3px black;\r\n\t}\r\n\r\n\t.url-input-container {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\tinput {\r\n\t\tflex: 1 1 0;\r\n\t\tcolor: whitesmoke;\r\n\t\tbackground: none;\r\n\t\tborder: none;\r\n\t\tmargin: 0;\r\n\t\tpadding: 0;\r\n\t\tfont-size: 0.95em;\r\n\t\tmin-width: 15ch;\r\n\t}\r\n</style>\r\n","<script>\r\n\timport { onMount } from 'svelte';\r\n\timport MenuWrapper from './MenuWrapper.svelte';\r\n\timport ConnectorInside from './ConnectorInside.svelte';\r\n\r\n\texport let inputUrl;\r\n\texport let wallet = null;\r\n\r\n\tlet mounted;\r\n\r\n\tonMount(() => {\r\n\t\tmounted = true;\r\n\t});\r\n</script>\r\n\r\n{#if mounted}\r\n\t<MenuWrapper let:openNav let:hideNav>\r\n\t\t<ConnectorInside bind:wallet {inputUrl} show={openNav} hide={hideNav} on:walletReady />\r\n\t</MenuWrapper>\r\n{/if}\r\n","<script lang=\"ts\">\r\n\timport { onMount } from 'svelte';\r\n\timport { DIDAr } from '@peerpiper/did-ar';\r\n\timport { Web3WalletMenu } from '@peerpiper/web3-wallet-connector';\r\n\t// @ts-ignore\r\n\timport type { handlers } from '@peerpiper/iframe-wallet-sdk';\r\n\r\n\tlet wallet: handlers;\r\n\tlet RSAPublicKey: { kty: string; n: string; e: string; kid?: string };\r\n\tlet Ed25519PublicKey: Uint8Array;\r\n\tlet srcTx: string | null;\r\n\tlet ready: boolean;\r\n\r\n\tconst walletReady = async (e: CustomEvent) => {\r\n\t\twallet = e.detail.wallet;\r\n\t\tRSAPublicKey = await wallet.arweaveWalletAPI.getActivePublicKey();\r\n\t\tEd25519PublicKey = await wallet.proxcryptor.getPublicKey();\r\n\t};\r\n\r\n\tonMount(async () => {\r\n\t\t// check if localStorage has  srcTx, else leave as null\r\n\t\tsrcTx = localStorage.getItem('srcTx'); // || '0BkUeNAfOF6NzYmVJ__4eDdeKoFshJ5BzxOxOitJmXk'; // https://sonar.warp.cc/#/app/source/0BkUeNAfOF6NzYmVJ__4eDdeKoFshJ5BzxOxOitJmXk#code\r\n\t\tready = true;\r\n\t});\r\n\r\n\t$: if (srcTx) {\r\n\t\t// svae to localstorage\r\n\t\tlocalStorage.setItem('srcTx', srcTx);\r\n\t}\r\n</script>\r\n\r\n<Web3WalletMenu on:walletReady={walletReady} />\r\n\r\n<div class=\"flex flex-col items-center m-2 p-2\">\r\n\t{#if ready}\r\n\t\t<DIDAr {wallet} {RSAPublicKey} {Ed25519PublicKey} bind:srcTx />\r\n\t{/if}\r\n</div>\r\n"],"file":"_app/immutable/components/pages/_page.svelte-7d75bc3f.js"}