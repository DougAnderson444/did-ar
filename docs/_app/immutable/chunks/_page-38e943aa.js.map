{"version":3,"mappings":"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","names":["_catch","body","recover","result","inMemoryCache","cache","parsed","resolve","_temp2","_result","_exit","cached","_result$didResolution","_temp","_await$resolve","noCache","PCT_ENCODED","ID_CHAR","METHOD","METHOD_ID","PARAM_CHAR","PARAM","PARAMS","PATH","QUERY","FRAGMENT","DID_MATCHER","parse","didUrl","sections","parts","params","p","kv","EMPTY_RESULT","wrapLegacyResolver","did","resolver","doc","e","Resolver","registry","options","methodName","_this","STATE","useState","newState","opts","currentState","getContext","_newState","nextState","setContext","ctx","insert_hydration","target","append_hydration","span1","_expanded","event","set_store_value","$expanded","expandable","writable","key","keyPath","level","i","dirty","$expandable","displayMode","defaultExpanded","shouldExpandNode","controlled","onMount","isParentExpanded","value","expanded","toggleExpand","index","$$invalidate","child_expanded","keys","create_if_block_2","previewKeys","t1_value","t_value","preview","t2_value","attr","ENTRIES","indexes","items","_indexes","_items","entry","previewItems","name","values","_keys","_values","toggle_class","set_data","stack","objType","obj","type","create_if_block","map","_","if_block0","create_if_block_3","if_block1","PROTO","FUNCTION","isClass","isAsync","isGenerator","fnName","args","isArrow","str","match","classMatch","getValue","toString","parseFunction","filterKeys","STORE_VALUE","storeValue","objectKeys","$value","isWritableStore","internalKeys","TO_STRING_TAG","getComponentAndProps","nodeType","JsonSvelteStoreNode","JSONObjectNode","ErrorNode","JSONArrayNode","JSONIterableMapNode","JsonStringNode","JSONValueNode","JsonFunctionNode","RegExpNode","componentType","props","$nodeType","getShouldExpandNode","defaultExpandedPathsParts","defaultExpandedPaths","path","matchPath","outer","length","defaultExpandedLevel","readable","cubicOut","t","f","quintOut","fade","node","linear","o","fly","style","target_opacity","transform","od","opacity","u","x","y","div1","clip","copied","copy","promise","$$value","details","div3","div2","didDocument","isOpen","arResolver","didArResolver","create_if_block_1","createEventDispatcher","allContracts","makeDid","contractTxId","local","Arweave","arweave","ownerAddress","txIds","query","res","edge","tag","_b","dispatch","is_function","span","didar","existing","creating","handleCreateDID","urlParams","init","jwk","address","interval","wallet","memoize","fn","cacheDefault","serializer","serializerDefault","strategy","strategyDefault","isPrimitive","monadic","arg","cacheKey","computedValue","variadic","assemble","context","serialize","ObjectWithoutPrototypeCache","memoize_default","DEFAULT_CLASS","draggable","_a","tick","active","translateX","translateY","initialX","initialY","clientToNodeOffsetX","clientToNodeOffsetY","xOffset","yOffset","position","setTranslate","gpuAcceleration","canMoveInX","canMoveInY","bodyOriginalUserSelectVal","computedBounds","nodeRect","dragEl","cancelEl","isControlled","getEventData","fireSvelteDragStartEvent","node2","data","onDragStart","fireSvelteDragStopEvent","onDragEnd","fireSvelteDragEvent","translateX2","translateY2","onDrag","listen","dragStart","dragEnd","drag","calculateInverseScale","inverseScale","disabled","ignoreMultitouch","defaultClass","getDragEl","handle","getCancelElement","cancel","axis","bounds","computeBoundRect","isString","applyUserSelectHack","isTouchEvent","clientX","clientY","defaultClassDragging","defaultClassDragged","finalX","finalY","virtualClientBounds","clamp","grid","xSnap","ySnap","deltaX","deltaY","snapToGrid","unlisten","options2","_a2","_b2","_c","_d","_e","_f","_g","_h","_i","_j","_k","dragged","val","min","max","pendingX","pendingY","handleEl","rootNode","windowWidth","windowHeight","computedRight","right","computedBottom","bottom","xPos","yPos","el","div","svg","defs1","radialGradient","div4","navOpen","handleNav","func_1","MessageType","Resolution","ErrorCode","NativeErrorName","NativeEventType","localName","log","callbacks","destroyed","error","callback","createLogger","debug","DEFAULT_PORT_BY_PROTOCOL","URL_REGEX","opaqueOriginSchemes","getOriginFromSrc","src","scheme","location","regexResult","protocol","hostname","port","portSuffix","serializeError","deserializeError","deserializedError","connectCallReceiver","info","serializedMethods","handleMessageEvent","remote","originForReceiving","callMessage","createPromiseHandler","resolution","returnValue","message","originForSending","err","errorReplyMessage","id","generateId","KEY_PATH_DELIMITER","keyPathToSegments","segmentsToKeyPath","segments","createKeyPath","prefix","setAtKeyPath","subject","prevSubject","idx","serializeMethods","methods","flattenedMethods","deserializeMethods","connectCallSender","callSender","methodKeyPaths","destroyConnection","createMethodProxy","iframeRemoved","reject","replyMessage","api","handleAckMessageFactory","childOrigin","destructor","destroyCallReceiver","receiverMethodNames","onDestroy","receiverMethodName","destroyCallSender","destroy","handleSynMessageFactory","synAckMessage","CHECK_IFRAME_IN_DOC_INTERVAL","monitorIframeRemoval","iframe","checkIframeInDocIntervalId","startConnectionTimeout","timeout","timeoutId","validateIframeHasSrcOrSrcDoc","connectToChild","createDestructor","handleSynMessage","handleAckMessage","stopConnectionTimeout","handleMessage","div_transition","if_block2","if_block3","button","div6","a","div5","iframeOffsetWidth","focused","saveInputURL","INPUT_URL","ImmortalDB","storedValue","connect","handleIframeLoad","pending","height","width","show","hide","inputUrl","disconnect","togglePopup","blur_handler","topOffsetHeight","topOffsetWidth","popupIcon","connectionIcon","mounted","RSAPublicKey","Ed25519PublicKey","srcTx","ready"],"sources":["../../../../../../node_modules/did-resolver/lib/resolver.module.js","../../../../../../node_modules/svelte-json-tree/_/utils/context.js","../../../../../../node_modules/svelte-json-tree/_/JSONArrow.svelte","../../../../../../node_modules/svelte-json-tree/_/Summary.svelte","../../../../../../node_modules/svelte-json-tree/_/Expandable.svelte","../../../../../../node_modules/svelte-json-tree/_/JSONNested.svelte","../../../../../../node_modules/svelte-json-tree/_/PreviewList.svelte","../../../../../../node_modules/svelte-json-tree/_/JSONObjectNode.svelte","../../../../../../node_modules/svelte-json-tree/_/JSONArrayNode.svelte","../../../../../../node_modules/svelte-json-tree/_/JSONIterableArrayNode.svelte","../../../../../../node_modules/svelte-json-tree/_/JSONIterableMapNode.svelte","../../../../../../node_modules/svelte-json-tree/_/JSONValueNode.svelte","../../../../../../node_modules/svelte-json-tree/_/ErrorStack.svelte","../../../../../../node_modules/svelte-json-tree/_/ErrorNode.svelte","../../../../../../node_modules/svelte-json-tree/_/utils/objType.js","../../../../../../node_modules/svelte-json-tree/_/JSONStringNode.svelte","../../../../../../node_modules/svelte-json-tree/_/JSONFunctionNode.svelte","../../../../../../node_modules/svelte-json-tree/_/JSONSvelteStoreNode.svelte","../../../../../../node_modules/svelte-json-tree/_/TypedArrayNode.svelte","../../../../../../node_modules/svelte-json-tree/_/RegExpNode.svelte","../../../../../../node_modules/svelte-json-tree/_/JSONNode.svelte","../../../../../../node_modules/svelte-json-tree/_/utils/expand.js","../../../../../../node_modules/svelte-json-tree/_/Root.svelte","../../../../../../node_modules/svelte/easing/index.mjs","../../../../../../node_modules/svelte/transition/index.mjs","../../../../../../src/lib/Clipboard.svelte","../../../../../../src/lib/ResolveDID.svelte","../../../../../../src/lib/ListDIDs.svelte","../../../../../../src/lib/DIDAr.svelte","../../../../../../node_modules/svelte-drag/dist/index.js","../../../../../../node_modules/@peerpiper/web3-wallet-connector/assets/Logo.svelte","../../../../../../node_modules/@peerpiper/web3-wallet-connector/MenuWrapper.svelte","../../../../../../node_modules/penpal/lib/enums.js","../../../../../../node_modules/penpal/lib/createDestructor.js","../../../../../../node_modules/penpal/lib/createLogger.js","../../../../../../node_modules/penpal/lib/parent/getOriginFromSrc.js","../../../../../../node_modules/penpal/lib/errorSerialization.js","../../../../../../node_modules/penpal/lib/connectCallReceiver.js","../../../../../../node_modules/penpal/lib/generateId.js","../../../../../../node_modules/penpal/lib/methodSerialization.js","../../../../../../node_modules/penpal/lib/connectCallSender.js","../../../../../../node_modules/penpal/lib/parent/handleAckMessageFactory.js","../../../../../../node_modules/penpal/lib/parent/handleSynMessageFactory.js","../../../../../../node_modules/penpal/lib/parent/monitorIframeRemoval.js","../../../../../../node_modules/penpal/lib/startConnectionTimeout.js","../../../../../../node_modules/penpal/lib/parent/validateIframeHasSrcOrSrcDoc.js","../../../../../../node_modules/penpal/lib/parent/connectToChild.js","../../../../../../node_modules/@peerpiper/web3-wallet-connector/components/WalletSelectorIcons.svelte","../../../../../../node_modules/@peerpiper/web3-wallet-connector/ConnectorInside.svelte","../../../../../../node_modules/@peerpiper/web3-wallet-connector/Web3WalletMenu.svelte","../../../../../../src/routes/+page.svelte"],"sourcesContent":["// Copyright 2018 Consensys AG\nfunction _catch(body, recover) {\n  try {\n    var result = body();\n  } catch (e) {\n    return recover(e);\n  }\n\n  if (result && result.then) {\n    return result.then(void 0, recover);\n  }\n\n  return result;\n}\n\nfunction inMemoryCache() {\n  const cache = new Map();\n  return function (parsed, resolve) {\n    try {\n      let _exit;\n\n      function _temp2(_result) {\n        if (_exit) return _result;\n        const cached = cache.get(parsed.didUrl);\n        return cached !== undefined ? cached : Promise.resolve(resolve()).then(function (result) {\n          var _result$didResolution;\n\n          if (((_result$didResolution = result.didResolutionMetadata) == null ? void 0 : _result$didResolution.error) !== 'notFound') {\n            cache.set(parsed.didUrl, result);\n          }\n\n          return result;\n        });\n      }\n\n      const _temp = function () {\n        if (parsed.params && parsed.params['no-cache'] === 'true') {\n          return Promise.resolve(resolve()).then(function (_await$resolve) {\n            _exit = 1;\n            return _await$resolve;\n          });\n        }\n      }();\n\n      return Promise.resolve(_temp && _temp.then ? _temp.then(_temp2) : _temp2(_temp));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n}\nfunction noCache(parsed, resolve) {\n  return resolve();\n}\nconst PCT_ENCODED = '(?:%[0-9a-fA-F]{2})';\nconst ID_CHAR = `(?:[a-zA-Z0-9._-]|${PCT_ENCODED})`;\nconst METHOD = '([a-z0-9]+)';\nconst METHOD_ID = `((?:${ID_CHAR}*:)*(${ID_CHAR}+))`;\nconst PARAM_CHAR = '[a-zA-Z0-9_.:%-]';\nconst PARAM = `;${PARAM_CHAR}+=${PARAM_CHAR}*`;\nconst PARAMS = `((${PARAM})*)`;\nconst PATH = `(/[^#?]*)?`;\nconst QUERY = `([?][^#]*)?`;\nconst FRAGMENT = `(#.*)?`;\nconst DID_MATCHER = new RegExp(`^did:${METHOD}:${METHOD_ID}${PARAMS}${PATH}${QUERY}${FRAGMENT}$`);\nfunction parse(didUrl) {\n  if (didUrl === '' || !didUrl) return null;\n  const sections = didUrl.match(DID_MATCHER);\n\n  if (sections) {\n    const parts = {\n      did: `did:${sections[1]}:${sections[2]}`,\n      method: sections[1],\n      id: sections[2],\n      didUrl\n    };\n\n    if (sections[4]) {\n      const params = sections[4].slice(1).split(';');\n      parts.params = {};\n\n      for (const p of params) {\n        const kv = p.split('=');\n        parts.params[kv[0]] = kv[1];\n      }\n    }\n\n    if (sections[6]) parts.path = sections[6];\n    if (sections[7]) parts.query = sections[7].slice(1);\n    if (sections[8]) parts.fragment = sections[8].slice(1);\n    return parts;\n  }\n\n  return null;\n}\nconst EMPTY_RESULT = {\n  didResolutionMetadata: {},\n  didDocument: null,\n  didDocumentMetadata: {}\n};\nfunction wrapLegacyResolver(resolve) {\n  return function (did, parsed, resolver) {\n    try {\n      return Promise.resolve(_catch(function () {\n        return Promise.resolve(resolve(did, parsed, resolver)).then(function (doc) {\n          return { ...EMPTY_RESULT,\n            didResolutionMetadata: {\n              contentType: 'application/did+ld+json'\n            },\n            didDocument: doc\n          }; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        });\n      }, function (e) {\n        return { ...EMPTY_RESULT,\n          didResolutionMetadata: {\n            error: 'notFound',\n            message: e.toString() // This is not in spec, but may be helpful\n\n          }\n        };\n      }));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n}\nclass Resolver {\n  constructor(registry = {}, options = {}) {\n    this.registry = void 0;\n    this.cache = void 0;\n    this.registry = registry;\n    this.cache = options.cache === true ? inMemoryCache() : options.cache || noCache;\n\n    if (options.legacyResolvers) {\n      Object.keys(options.legacyResolvers).map(methodName => {\n        if (!this.registry[methodName]) {\n          this.registry[methodName] = wrapLegacyResolver( // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n          options.legacyResolvers[methodName]);\n        }\n      });\n    }\n  }\n\n  resolve(didUrl, options = {}) {\n    try {\n      const _this = this;\n\n      const parsed = parse(didUrl);\n\n      if (parsed === null) {\n        return Promise.resolve({ ...EMPTY_RESULT,\n          didResolutionMetadata: {\n            error: 'invalidDid'\n          }\n        });\n      }\n\n      const resolver = _this.registry[parsed.method];\n\n      if (!resolver) {\n        return Promise.resolve({ ...EMPTY_RESULT,\n          didResolutionMetadata: {\n            error: 'unsupportedDidMethod'\n          }\n        });\n      }\n\n      return Promise.resolve(_this.cache(parsed, () => resolver(parsed.did, parsed, _this, options)));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  }\n\n}\n\nexport { Resolver, inMemoryCache, noCache, parse, wrapLegacyResolver };\n//# sourceMappingURL=resolver.module.js.map\n","import { getContext, setContext } from 'svelte';\nconst STATE = {};\nexport function useState(newState, opts) {\n    const currentState = getContext(STATE);\n    const _newState = typeof newState === 'function' ? newState(currentState) : newState;\n    const nextState = { ...currentState, ..._newState };\n    if (opts?.expandable)\n        nextState.isParentExpanded = nextState.expanded;\n    setContext(STATE, nextState);\n    return currentState;\n}\n","<script >import { useState } from './utils/context';\nconst { expanded: _expanded, expandable } = useState();\nexport let expanded = _expanded;\n</script>\n\n{#if $expandable}\n  <span\n    class=\"container\"\n    on:click={(event) => {\n      event.stopPropagation();\n      $expanded = !$expanded;\n    }}\n  >\n    <span class=\"arrow\" class:expanded={$expanded}>{'\\u25B6'}</span>\n  </span>\n{/if}\n\n<style>\n  .container {\n    display: inline-block;\n    transform: translate(calc(0px - var(--li-identation)), -50%);\n    position: absolute;\n    top: 50%;\n    padding-right: 100%;\n  }\n  .arrow {\n    transform-origin: 25% 50%;\n    position: relative;\n    line-height: 1.1em;\n    font-size: 0.75em;\n    margin-left: 0;\n    transition: 150ms;\n    color: var(--arrow-color);\n    user-select: none;\n    font-family: 'Courier New', Courier, monospace;\n    display: block;\n  }\n  .expanded {\n    transform: rotateZ(90deg) translateX(-3px);\n  }\n</style>\n","<script >import { useState } from './utils/context';\nuseState({ displayMode: 'summary' });\n</script>\n\n<slot />\n","<script >import { writable } from 'svelte/store';\nimport { useState } from './utils/context';\nexport let expanded;\nexport let key;\nconst expandable = writable(false);\nuseState(({ keyPath, level }) => {\n    if (key !== '[[Entries]]') {\n        keyPath = [...keyPath, key];\n        level = level + 1;\n    }\n    return {\n        keyPath,\n        level,\n        expanded,\n        expandable,\n    };\n});\n</script>\n\n<slot />\n","<script >/* eslint-disable @typescript-eslint/no-empty-function */\nimport { onMount } from 'svelte';\nimport JSONArrow from './JSONArrow.svelte';\nimport { useState } from './utils/context';\nimport { writable } from 'svelte/store';\nimport Summary from './Summary.svelte';\nimport Expandable from './Expandable.svelte';\nexport let keys;\nexport let shouldShowColon = undefined;\nexport let expandKey = (key) => key;\nexport let defaultExpanded = false;\nconst { isParentExpanded, displayMode, root, expanded, expandable, keyPath, level, shouldExpandNode } = useState({ root: false }, { expandable: true });\n$expandable = true;\nif (displayMode !== 'summary') {\n    // if not internally control to open\n    if (!defaultExpanded) {\n        const controlled = shouldExpandNode({ keyPath, level });\n        if (controlled !== undefined) {\n            defaultExpanded = controlled;\n        }\n    }\n    onMount(() => {\n        return isParentExpanded.subscribe((value) => {\n            if (!value)\n                expanded.set(false);\n            else\n                expanded.set(defaultExpanded);\n        });\n    });\n}\nfunction toggleExpand() {\n    $expanded = !$expanded;\n}\n$: child_expanded = keys.map(() => writable(false));\n</script>\n\n{#if displayMode === 'summary'}\n  <slot name=\"summary\" />\n{:else}\n  <span class=\"root\" on:click={toggleExpand}>\n    {#if root}\n      <JSONArrow {expanded} />\n    {/if}\n    <Summary>\n      <slot name=\"preview\" />\n    </Summary>\n  </span>\n\n  {#if $expanded}\n    <ul on:click|stopPropagation={toggleExpand}>\n      {#each keys as key, index}\n        <li class:indent={$expanded} on:click|stopPropagation={() => {}}>\n          <Expandable key={expandKey(key)} expanded={child_expanded[index]}>\n            <span class=\"label\" on:click={() => child_expanded[index].update((value) => !value)}>\n              <JSONArrow /><slot name=\"item_key\" {key} {index} />{#if !shouldShowColon || shouldShowColon(key)}<span class=\"operator\">:</span>{/if}\n            </span><slot name=\"item_value\" {key} {index} />\n          </Expandable>\n        </li>\n      {/each}\n    </ul>\n  {/if}\n{/if}\n\n<style>\n  .root {\n    display: inline-block;\n    position: relative;\n  }\n  .indent {\n    padding-left: var(--li-identation);\n  }\n  .label {\n    position: relative;\n  }\n</style>\n","<script >export let list;\nexport let hasMore;\nexport let label = undefined;\nexport let prefix = undefined;\nexport let postfix = undefined;\n</script>\n\n{#if prefix}{#if label}<span class=\"label\">{label}</span>{/if}<span class=\"operator\">{prefix}</span>{/if}\n{#each list as item, index}\n  <slot name=\"item\" {item} {index} />\n  {#if index < list.length - 1}\n    <span class=\"comma operator\">,</span>\n  {/if}\n{/each}\n{#if hasMore}\n  <span class=\"comma operator\">,</span>\n  <span class=\"operator\">…</span>\n{/if}\n{#if postfix}<span class=\"operator\">{postfix}</span>{/if}\n\n<style>\n  .comma {\n    margin-left: -0.5em;\n    margin-right: 0.5em;\n  }\n</style>\n","<script >import JSONNested from './JSONNested.svelte';\nimport JSONNode from './JSONNode.svelte';\nimport PreviewList from './PreviewList.svelte';\nexport let value;\n$: keys = Object.getOwnPropertyNames(value);\n$: previewKeys = keys.slice(0, 5);\n</script>\n\n<JSONNested {keys}>\n  <svelte:fragment slot=\"summary\"><span class=\"label\">{'{…}'}</span></svelte:fragment>\n  <svelte:fragment slot=\"preview\">\n    <PreviewList list={previewKeys} hasMore={previewKeys.length < keys.length} prefix={'{'} postfix={'}'}>\n      <svelte:fragment slot=\"item\" let:item\n        ><span class=\"property\">{item}</span><span class=\"operator\">{': '}</span><JSONNode value={value[item]} /></svelte:fragment\n      >\n    </PreviewList>\n  </svelte:fragment>\n  <svelte:fragment slot=\"item_key\" let:key><span class=\"property\">{key}</span></svelte:fragment>\n  <svelte:fragment slot=\"item_value\" let:key><JSONNode value={value[key]} /></svelte:fragment>\n</JSONNested>\n","<script >import JSONNested from './JSONNested.svelte';\nimport JSONNode from './JSONNode.svelte';\nimport PreviewList from './PreviewList.svelte';\nexport let value;\n$: keys = Object.getOwnPropertyNames(value);\n$: preview = value.slice(0, 5);\n</script>\n\n<JSONNested {keys}>\n  <svelte:fragment slot=\"summary\"><span class=\"label\">Array({value.length})</span></svelte:fragment>\n  <svelte:fragment slot=\"preview\">\n    <PreviewList list={preview} hasMore={preview.length < value.length} label=\"({value.length}) \" prefix=\"[\" postfix=\"]\">\n      <svelte:fragment slot=\"item\" let:item>\n        <JSONNode value={item} />\n      </svelte:fragment>\n    </PreviewList>\n  </svelte:fragment>\n  <svelte:fragment slot=\"item_key\" let:key><span class=\"property\">{String(key)}</span></svelte:fragment>\n  <svelte:fragment slot=\"item_value\" let:key><JSONNode value={value[key]} /></svelte:fragment>\n</JSONNested>\n","<script >import JSONNested from './JSONNested.svelte';\nimport JSONNode from './JSONNode.svelte';\nimport PreviewList from './PreviewList.svelte';\nexport let value;\nexport let nodeType;\nlet indexes = [];\nlet items = [];\n$: {\n    let _indexes = [];\n    let _items = [];\n    let i = 0;\n    for (const entry of value) {\n        _indexes.push(i++);\n        _items.push(entry);\n    }\n    indexes = _indexes;\n    items = _items;\n}\n$: previewItems = items.slice(0, 5);\nconst ENTRIES = '[[Entries]]';\n</script>\n\n<JSONNested keys={[ENTRIES, 'size']} shouldShowColon={(key) => key !== ENTRIES}>\n  <svelte:fragment slot=\"summary\"><span class=\"label\">{nodeType}({indexes.length})</span></svelte:fragment>\n  <svelte:fragment slot=\"preview\">\n    <PreviewList list={previewItems} hasMore={previewItems.length < items.length} label={`${nodeType}(${indexes.length}) `} prefix={'{'} postfix=\"}\">\n      <svelte:fragment slot=\"item\" let:item>\n        <JSONNode value={item} />\n      </svelte:fragment>\n    </PreviewList>\n  </svelte:fragment>\n\n  <svelte:fragment slot=\"item_key\" let:key><span class={key === ENTRIES ? 'internal' : 'property'}>{key}</span></svelte:fragment>\n  <svelte:fragment slot=\"item_value\" let:key>\n    {#if key === ENTRIES}\n      <JSONNested keys={indexes} defaultExpanded>\n        <svelte:fragment slot=\"item_key\" let:key={index}><span class=\"property\">{index}</span></svelte:fragment>\n        <svelte:fragment slot=\"item_value\" let:key={index}><JSONNode value={items[index]} /></svelte:fragment>\n      </JSONNested>\n    {:else}\n      <JSONNode value={value[key]} />\n    {/if}\n  </svelte:fragment>\n</JSONNested>\n","<script >import { useState } from './utils/context';\nimport JSONNested from './JSONNested.svelte';\nimport JSONNode from './JSONNode.svelte';\nimport PreviewList from './PreviewList.svelte';\nexport let value;\nuseState();\nlet indexes = [];\nlet keys = [];\nlet values = [];\n$: {\n    let _indexes = [];\n    let _keys = [];\n    let _values = [];\n    let i = 0;\n    for (const entry of value) {\n        _indexes.push(i++);\n        _keys.push(entry[0]);\n        _values.push(entry[1]);\n    }\n    indexes = _indexes;\n    keys = _keys;\n    values = _values;\n}\n$: previewKeys = Array.from(value.keys()).slice(0, 5);\nconst ENTRIES = '[[Entries]]';\n</script>\n\n<JSONNested keys={[ENTRIES, 'size']} shouldShowColon={(key) => key !== ENTRIES}>\n  <svelte:fragment slot=\"summary\"><span color=\"label\">Map({keys.length})</span></svelte:fragment>\n  <svelte:fragment slot=\"preview\">\n    <PreviewList list={previewKeys} hasMore={previewKeys.length < value.size} label={`Map(${keys.length}) `} prefix={`{`} postfix=\"}\">\n      <svelte:fragment slot=\"item\" let:item>\n        <JSONNode value={item} /><span class=\"operator\">{' => '}</span><JSONNode value={value.get(item)} />\n      </svelte:fragment>\n    </PreviewList>\n  </svelte:fragment>\n\n  <svelte:fragment slot=\"item_key\" let:key><span class={key === ENTRIES ? 'internal' : 'property'}>{key}</span></svelte:fragment>\n  <svelte:fragment slot=\"item_value\" let:key>\n    {#if key === ENTRIES}<JSONNested keys={indexes} expandKey={(index) => keys[index]} defaultExpanded>\n        <svelte:fragment slot=\"item_key\" let:key={index}><span class=\"property\">{index}</span></svelte:fragment>\n        <svelte:fragment slot=\"item_value\" let:key={index}>\n          <JSONNested keys={['key', 'value']}>\n            <svelte:fragment slot=\"preview\"\n              ><span class=\"operator\">{'{ '}</span><JSONNode value={keys[index]} /><span class=\"operator\">{' => '}</span><JSONNode\n                value={values[index]}\n              /><span class=\"operator\">{' }'}</span></svelte:fragment\n            >\n            <svelte:fragment slot=\"item_key\" let:key={name}><span class=\"property\">{name}</span></svelte:fragment>\n            <svelte:fragment slot=\"item_value\" let:key={name}\n              ><JSONNode value={name === 'key' ? keys[index] : values[index]} /></svelte:fragment\n            >\n          </JSONNested>\n        </svelte:fragment>\n      </JSONNested>\n    {:else}\n      <JSONNode value={value[key]} />\n    {/if}\n  </svelte:fragment>\n</JSONNested>\n","<script >export let value, nodeType;\n</script>\n\n<span class={nodeType}>\n  {value}\n</span>\n\n<style>\n  .Date {\n    color: var(--date-color);\n  }\n  .BigInt {\n    color: var(--number-color);\n  }\n  .Number {\n    color: var(--number-color);\n  }\n  .Boolean {\n    color: var(--boolean-color);\n  }\n  .Null {\n    color: var(--null-color);\n  }\n  .Undefined {\n    color: var(--undefined-color);\n  }\n  .Symbol {\n    color: var(--symbol-color);\n  }\n</style>\n","<script >import JsonNode from './JSONNode.svelte';\nimport { useState } from './utils/context';\nexport let stack;\nconst { expanded, expandable } = useState();\n$expandable = true;\n</script>\n\n<span on:click={() => ($expanded = !$expanded)}>\n  {#if $expanded}\n    {#each stack as line, index}\n      {@const appendNewLine = index < stack.length - 1}\n      <span class:indent={index > 0}><JsonNode value={line + (appendNewLine ? '\\\\n' : '')} /><span class=\"operator\">{appendNewLine ? ' +' : ''}</span></span><br />\n    {/each}\n  {:else}\n    <span><JsonNode value={stack[0] + '…'} /></span>\n  {/if}\n</span>\n\n<style>\n  .indent {\n    padding-left: var(--li-identation);\n  }\n</style>\n","<script >import ErrorStack from './ErrorStack.svelte';\nimport JsonNested from './JSONNested.svelte';\nimport JSONNode from './JSONNode.svelte';\nexport let value;\n$: stack = value.stack.split('\\n');\n</script>\n\n<JsonNested keys={['message', 'stack']}>\n  <svelte:fragment slot=\"summary\"><span class=\"label\">Error: {String(value.message)}</span></svelte:fragment>\n  <svelte:fragment slot=\"preview\"><span class=\"label\">Error: {String(value.message)}</span></svelte:fragment>\n  <svelte:fragment slot=\"item_key\" let:key><span class=\"property\">{key}</span></svelte:fragment>\n  <svelte:fragment slot=\"item_value\" let:key>\n    {#if key === 'stack'}\n      <ErrorStack {stack} />\n    {:else}\n      <JSONNode value={value[key]} />\n    {/if}\n  </svelte:fragment>\n</JsonNested>\n","export default function objType(obj) {\n    const type = Object.prototype.toString.call(obj).slice(8, -1);\n    if (type === 'Object') {\n        if (typeof obj[Symbol.iterator] === 'function') {\n            return 'Iterable';\n        }\n        return obj.constructor.name;\n    }\n    return type;\n}\n","<script >import { useState } from './utils/context';\nexport let value;\nconst map = {\n    '\\n': '\\\\n',\n    '\\t': '\\\\t',\n    '\\r': '\\\\r',\n};\n$: serialised = value.replace(/[\\n\\t\\r]/g, (_) => map[_]);\nconst { displayMode } = useState();\n</script>\n\n{#if displayMode === 'summary'}\n  <span>\"{serialised.slice(0, 30) + (serialised.length > 30 ? '…' : '')}\"</span>\n{:else}\n  <span>\"{serialised}\"</span>\n{/if}\n\n<style>\n  span {\n    color: var(--string-color);\n    word-break: break-all;\n    word-wrap: break-word;\n  }\n</style>\n","<script >import JSONNested from './JSONNested.svelte';\nimport JSONNode from './JSONNode.svelte';\nimport JsonObjectNode from './JSONObjectNode.svelte';\nexport let value;\n$: str = toString(value);\n$: ctx = parseFunction(str);\nfunction parseFunction(str) {\n    const match = str.match(/^(?:(async)\\s+)?(?:function)?(\\*)?\\s*([^(]+)?(\\([^)]*\\))\\s*(=>)?/);\n    const isAsync = match?.[1];\n    const isGenerator = match?.[2];\n    const fnName = match?.[3];\n    const args = match?.[4];\n    const isArrow = match?.[5];\n    const classMatch = str.match(/^class\\s+([^\\s]+)/);\n    const isClass = classMatch?.[1];\n    return {\n        args,\n        isAsync,\n        isGenerator,\n        fnName,\n        isArrow,\n        isClass,\n    };\n}\nfunction getPreview1({ isGenerator, isAsync, isClass }) {\n    if (isClass)\n        return `class ${isClass}`;\n    return (isAsync ? 'async ' : '') + 'ƒ' + (isGenerator ? '*' : '');\n}\nfunction getPreview2({ isAsync, isArrow, fnName, args }) {\n    return (isArrow && isAsync ? 'async' : '') + ' ' + (fnName ?? '') + args + (isArrow ? ' => …' : '');\n}\nconst FUNCTION = '[[Function]]';\nconst PROTO = '[[Prototype]]';\nfunction getValue(key) {\n    if (key === PROTO)\n        return value.__proto__;\n    return value[key];\n}\nfunction filterKeys(key) {\n    if (key === FUNCTION)\n        return true;\n    return getValue(key);\n}\nfunction toString(value) {\n    try {\n        return value.toString();\n    }\n    catch {\n        switch (value.constructor.name) {\n            case 'AsyncFunction':\n                return 'async function () {}';\n            case 'AsyncGeneratorFunction':\n                return 'async function * () {}';\n            case 'GeneratorFunction:':\n                return 'function * () {}';\n            default:\n                return 'function () {}';\n        }\n    }\n}\n$: keys = ['length', 'name', 'prototype', FUNCTION, PROTO].filter(filterKeys);\n</script>\n\n<JSONNested {keys}>\n  <svelte:fragment slot=\"summary\"><span class=\"i\">ƒ</span></svelte:fragment>\n  <svelte:fragment slot=\"preview\"\n    >{#if !ctx.isArrow}<span class=\"fn i\">{getPreview1(ctx)}</span>{/if}{#if !ctx.isClass}<span class=\"i\">{getPreview2(ctx)}</span\n      >{/if}</svelte:fragment\n  >\n  <svelte:fragment slot=\"item_key\" let:key\n    ><span class={key === FUNCTION || key === PROTO ? 'internal' : 'property'}>{key}</span></svelte:fragment\n  >\n  <svelte:fragment slot=\"item_value\" let:key\n    >{#if key === FUNCTION}<span class=\"i\">{str}</span>{:else if key === 'prototype'}<JsonObjectNode\n        value={getValue(key)}\n      />{:else}<JSONNode value={getValue(key)} />{/if}</svelte:fragment\n  >\n</JSONNested>\n\n<style>\n  .i {\n    font-style: italic;\n  }\n  .fn,\n  .i {\n    color: var(--function-color);\n  }\n</style>\n","<script >import JSONNested from './JSONNested.svelte';\nimport JSONNode from './JSONNode.svelte';\nimport PreviewList from './PreviewList.svelte';\nexport let value;\nconst STORE_VALUE = '$value';\n$: objectKeys = Object.getOwnPropertyNames(value);\n$: keys = [STORE_VALUE, ...objectKeys];\n$: previewKeys = objectKeys.slice(0, 5);\n$: storeValue = $value;\n$: isWritableStore = typeof value.set === 'function';\nfunction getValue(key) {\n    if (key === STORE_VALUE)\n        return storeValue;\n    return value[key];\n}\n</script>\n\n<JSONNested {keys}>\n  <svelte:fragment slot=\"summary\"\n    ><span class=\"label\">{isWritableStore ? 'writable(' : 'readable('}<JSONNode value={storeValue} />{')'}</span></svelte:fragment\n  >\n  <svelte:fragment slot=\"preview\">\n    <PreviewList list={previewKeys} hasMore={previewKeys.length < objectKeys.length} prefix={'{'} postfix={'}'}>\n      <svelte:fragment slot=\"item\" let:item\n        ><span class=\"property\">{item}</span><span class=\"operator\">{': '}</span><JSONNode value={value[item]} /></svelte:fragment\n      >\n    </PreviewList>\n  </svelte:fragment>\n  <svelte:fragment slot=\"item_key\" let:key><span class={key === STORE_VALUE ? 'internal' : 'property'}>{key}</span></svelte:fragment>\n  <svelte:fragment slot=\"item_value\" let:key>\n    <JSONNode value={getValue(key)} />\n  </svelte:fragment>\n</JSONNested>\n","<script >import JSONNested from './JSONNested.svelte';\nimport JSONNode from './JSONNode.svelte';\nimport PreviewList from './PreviewList.svelte';\nexport let value;\nexport let nodeType;\nconst TO_STRING_TAG = 'Symbol(Symbol.toStringTag)';\nconst internalKeys = ['buffer', 'byteLength', 'byteOffset', 'length', TO_STRING_TAG];\n$: keys = [...Object.getOwnPropertyNames(value), ...internalKeys];\n$: preview = value.slice(0, 5);\nfunction getValue(key) {\n    if (key === TO_STRING_TAG) {\n        return value[Symbol.toStringTag];\n    }\n    return value[key];\n}\n</script>\n\n<JSONNested {keys}>\n  <svelte:fragment slot=\"summary\"><span class=\"label\">{nodeType}({value.length})</span></svelte:fragment>\n  <svelte:fragment slot=\"preview\">\n    <PreviewList list={preview} hasMore={preview.length < value.length} label=\"{nodeType}({value.length}) \" prefix=\"[\" postfix=\"]\">\n      <svelte:fragment slot=\"item\" let:item>\n        <JSONNode value={item} />\n      </svelte:fragment>\n    </PreviewList>\n  </svelte:fragment>\n  <svelte:fragment slot=\"item_key\" let:key\n    ><span class={internalKeys.includes(key) ? 'internal' : 'property'}>{String(key)}</span></svelte:fragment\n  >\n  <svelte:fragment slot=\"item_value\" let:key><JSONNode value={getValue(key)} /></svelte:fragment>\n</JSONNested>\n","<script >import JSONNested from './JSONNested.svelte';\nimport JSONNode from './JSONNode.svelte';\nexport let value;\n$: str = value.toString();\nconst keys = ['lastIndex', 'dotAll', 'flags', 'global', 'hasIndices', 'ignoreCase', 'multiline', 'source', 'sticky', 'unicode'];\n</script>\n\n<JSONNested {keys}>\n  <svelte:fragment slot=\"summary\"><span class=\"regex\">{str}</span></svelte:fragment>\n  <svelte:fragment slot=\"preview\"><span class=\"regex\">{str}</span></svelte:fragment>\n  <svelte:fragment slot=\"item_key\" let:key><span class=\"internal\">{String(key)}</span></svelte:fragment>\n  <svelte:fragment slot=\"item_value\" let:key><JSONNode value={value[key]} /></svelte:fragment>\n</JSONNested>\n\n<style>\n  .regex {\n    color: var(--regex-color);\n  }\n</style>\n","<script >import JSONObjectNode from './JSONObjectNode.svelte';\nimport JSONArrayNode from './JSONArrayNode.svelte';\nimport JSONIterableArrayNode from './JSONIterableArrayNode.svelte';\nimport JSONIterableMapNode from './JSONIterableMapNode.svelte';\nimport JSONValueNode from './JSONValueNode.svelte';\nimport ErrorNode from './ErrorNode.svelte';\nimport objType from './utils/objType';\nimport { writable } from 'svelte/store';\nimport JsonStringNode from './JSONStringNode.svelte';\nimport JsonFunctionNode from './JSONFunctionNode.svelte';\nimport JsonSvelteStoreNode from './JSONSvelteStoreNode.svelte';\nimport TypedArrayNode from './TypedArrayNode.svelte';\nimport RegExpNode from './RegExpNode.svelte';\nexport let value;\nconst nodeType = writable();\n$: $nodeType = objType(value);\n$: [componentType, props] = getComponentAndProps($nodeType, value);\nfunction getComponentAndProps(nodeType, value) {\n    switch (nodeType) {\n        case 'Object':\n            if (typeof value.subscribe === 'function')\n                return [JsonSvelteStoreNode];\n            return [JSONObjectNode];\n        case 'Error':\n            return [ErrorNode];\n        case 'Array':\n            return [JSONArrayNode];\n        case 'Map':\n            return [JSONIterableMapNode];\n        case 'Iterable':\n        case 'Set':\n            return [JSONIterableArrayNode, { nodeType }];\n        case 'Number':\n            return [JSONValueNode, { nodeType }];\n        case 'String':\n            return [JsonStringNode];\n        case 'Boolean':\n            return [JSONValueNode, { nodeType, value: value ? 'true' : 'false' }];\n        case 'Date':\n            return [JSONValueNode, { nodeType, value: value.toISOString() }];\n        case 'Null':\n            return [JSONValueNode, { nodeType, value: 'null' }];\n        case 'Undefined':\n            return [JSONValueNode, { nodeType, value: 'undefined' }];\n        case 'Function':\n        case 'AsyncFunction':\n        case 'AsyncGeneratorFunction':\n        case 'GeneratorFunction':\n            return [JsonFunctionNode];\n        case 'Symbol':\n            return [JSONValueNode, { nodeType, value: value.toString() }];\n        case 'BigInt':\n            return [JSONValueNode, { nodeType, value: String(value) + 'n' }];\n        case 'ArrayBuffer':\n            return [JSONValueNode, { nodeType, value: `ArrayBuffer(${value.byteLength})` }];\n        case 'BigInt64Array':\n        case 'BigUint64Array':\n        case 'Float32Array':\n        case 'Float64Array':\n        case 'Int8Array':\n        case 'Int16Array':\n        case 'Int32Array':\n        case 'Uint8Array':\n        case 'Uint8ClampedArray':\n        case 'Uint16Array':\n        case 'Uint32Array':\n            return [TypedArrayNode, { nodeType }];\n        case 'RegExp':\n            return [RegExpNode];\n        default:\n            return [JSONValueNode, { nodeType, value: `<${nodeType}>` }];\n    }\n}\n</script>\n\n<svelte:component this={componentType} {value} {...props} />\n","export function getShouldExpandNode({ defaultExpandedPaths, defaultExpandedLevel, }) {\n    const defaultExpandedPathsParts = defaultExpandedPaths.map(path => path.split('.'));\n    function matchPath(keyPath) {\n        outer: for (const parts of defaultExpandedPathsParts) {\n            if (keyPath.length > parts.length)\n                continue;\n            const length = Math.min(keyPath.length, parts.length);\n            for (let i = 0; i < length; i++) {\n                if (parts[i] !== '*' && parts[i] !== String(keyPath[i]))\n                    continue outer;\n            }\n            return true;\n        }\n        return false;\n    }\n    return function ({ keyPath, level }) {\n        return level <= defaultExpandedLevel || matchPath(keyPath);\n    };\n}\n","<script >import JSONNode from './JSONNode.svelte';\nimport { useState } from './utils/context';\nimport { readable, writable } from 'svelte/store';\nimport Expandable from './Expandable.svelte';\nimport { getShouldExpandNode } from './utils/expand';\nexport let value;\nexport let defaultExpandedPaths = [];\nexport let defaultExpandedLevel = 0;\n$: shouldExpandNode = getShouldExpandNode({ defaultExpandedPaths, defaultExpandedLevel });\nconst expanded = writable(true);\nuseState({\n    expanded,\n    isParentExpanded: readable(true),\n    root: true,\n    shouldExpandNode: (opts) => shouldExpandNode(opts),\n    level: 0,\n    keyPath: [],\n});\n</script>\n\n<ul>\n  <Expandable key=\"$\" {expanded}>\n    <JSONNode {value} />\n  </Expandable>\n</ul>\n\n<style>\n  ul {\n    --string-color: var(--json-tree-string-color, #cb3f41);\n    --symbol-color: var(--json-tree-symbol-color, #cb3f41);\n    --boolean-color: var(--json-tree-boolean-color, #112aa7);\n    --function-color: var(--json-tree-function-color, #112aa7);\n    --number-color: var(--json-tree-number-color, #3029cf);\n    --label-color: var(--json-tree-label-color, #871d8f);\n    --property-color: var(--json-tree-property-color, #000000);\n    --arrow-color: var(--json-tree-arrow-color, #727272);\n    --operator-color: var(--json-tree-operator-color, #727272);\n    --null-color: var(--json-tree-null-color, #8d8d8d);\n    --undefined-color: var(--json-tree-undefined-color, #8d8d8d);\n    --date-color: var(--json-tree-date-color, #8d8d8d);\n    --internal-color: var(--json-tree-internal-color, grey);\n    --regex-color: var(--json-tree-regex-color, var(--string-color));\n    --li-identation: var(--json-tree-li-indentation, 1em);\n    --li-line-height: var(--json-tree-li-line-height, 1.3);\n    font-size: var(--json-tree-font-size, 12px);\n    font-family: var(--json-tree-font-family, 'Courier New', Courier, monospace);\n  }\n  ul :global(li) {\n    line-height: var(--li-line-height);\n    display: var(--li-display, list-item);\n    list-style: none;\n  }\n  ul,\n  ul :global(ul) {\n    padding: 0;\n    margin: 0;\n  }\n\n  ul {\n    margin-left: var(--li-identation);\n  }\n  ul {\n    cursor: default;\n  }\n  ul :global(.label) {\n    color: var(--label-color);\n  }\n  ul :global(.property) {\n    color: var(--property-color);\n  }\n  ul :global(.internal) {\n    color: var(--internal-color);\n  }\n  ul :global(.operator) {\n    color: var(--operator-color);\n  }\n</style>\n","export { identity as linear } from '../internal/index.mjs';\n\n/*\nAdapted from https://github.com/mattdesl\nDistributed under MIT License https://github.com/mattdesl/eases/blob/master/LICENSE.md\n*/\nfunction backInOut(t) {\n    const s = 1.70158 * 1.525;\n    if ((t *= 2) < 1)\n        return 0.5 * (t * t * ((s + 1) * t - s));\n    return 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2);\n}\nfunction backIn(t) {\n    const s = 1.70158;\n    return t * t * ((s + 1) * t - s);\n}\nfunction backOut(t) {\n    const s = 1.70158;\n    return --t * t * ((s + 1) * t + s) + 1;\n}\nfunction bounceOut(t) {\n    const a = 4.0 / 11.0;\n    const b = 8.0 / 11.0;\n    const c = 9.0 / 10.0;\n    const ca = 4356.0 / 361.0;\n    const cb = 35442.0 / 1805.0;\n    const cc = 16061.0 / 1805.0;\n    const t2 = t * t;\n    return t < a\n        ? 7.5625 * t2\n        : t < b\n            ? 9.075 * t2 - 9.9 * t + 3.4\n            : t < c\n                ? ca * t2 - cb * t + cc\n                : 10.8 * t * t - 20.52 * t + 10.72;\n}\nfunction bounceInOut(t) {\n    return t < 0.5\n        ? 0.5 * (1.0 - bounceOut(1.0 - t * 2.0))\n        : 0.5 * bounceOut(t * 2.0 - 1.0) + 0.5;\n}\nfunction bounceIn(t) {\n    return 1.0 - bounceOut(1.0 - t);\n}\nfunction circInOut(t) {\n    if ((t *= 2) < 1)\n        return -0.5 * (Math.sqrt(1 - t * t) - 1);\n    return 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n}\nfunction circIn(t) {\n    return 1.0 - Math.sqrt(1.0 - t * t);\n}\nfunction circOut(t) {\n    return Math.sqrt(1 - --t * t);\n}\nfunction cubicInOut(t) {\n    return t < 0.5 ? 4.0 * t * t * t : 0.5 * Math.pow(2.0 * t - 2.0, 3.0) + 1.0;\n}\nfunction cubicIn(t) {\n    return t * t * t;\n}\nfunction cubicOut(t) {\n    const f = t - 1.0;\n    return f * f * f + 1.0;\n}\nfunction elasticInOut(t) {\n    return t < 0.5\n        ? 0.5 *\n            Math.sin(((+13.0 * Math.PI) / 2) * 2.0 * t) *\n            Math.pow(2.0, 10.0 * (2.0 * t - 1.0))\n        : 0.5 *\n            Math.sin(((-13.0 * Math.PI) / 2) * (2.0 * t - 1.0 + 1.0)) *\n            Math.pow(2.0, -10.0 * (2.0 * t - 1.0)) +\n            1.0;\n}\nfunction elasticIn(t) {\n    return Math.sin((13.0 * t * Math.PI) / 2) * Math.pow(2.0, 10.0 * (t - 1.0));\n}\nfunction elasticOut(t) {\n    return (Math.sin((-13.0 * (t + 1.0) * Math.PI) / 2) * Math.pow(2.0, -10.0 * t) + 1.0);\n}\nfunction expoInOut(t) {\n    return t === 0.0 || t === 1.0\n        ? t\n        : t < 0.5\n            ? +0.5 * Math.pow(2.0, 20.0 * t - 10.0)\n            : -0.5 * Math.pow(2.0, 10.0 - t * 20.0) + 1.0;\n}\nfunction expoIn(t) {\n    return t === 0.0 ? t : Math.pow(2.0, 10.0 * (t - 1.0));\n}\nfunction expoOut(t) {\n    return t === 1.0 ? t : 1.0 - Math.pow(2.0, -10.0 * t);\n}\nfunction quadInOut(t) {\n    t /= 0.5;\n    if (t < 1)\n        return 0.5 * t * t;\n    t--;\n    return -0.5 * (t * (t - 2) - 1);\n}\nfunction quadIn(t) {\n    return t * t;\n}\nfunction quadOut(t) {\n    return -t * (t - 2.0);\n}\nfunction quartInOut(t) {\n    return t < 0.5\n        ? +8.0 * Math.pow(t, 4.0)\n        : -8.0 * Math.pow(t - 1.0, 4.0) + 1.0;\n}\nfunction quartIn(t) {\n    return Math.pow(t, 4.0);\n}\nfunction quartOut(t) {\n    return Math.pow(t - 1.0, 3.0) * (1.0 - t) + 1.0;\n}\nfunction quintInOut(t) {\n    if ((t *= 2) < 1)\n        return 0.5 * t * t * t * t * t;\n    return 0.5 * ((t -= 2) * t * t * t * t + 2);\n}\nfunction quintIn(t) {\n    return t * t * t * t * t;\n}\nfunction quintOut(t) {\n    return --t * t * t * t * t + 1;\n}\nfunction sineInOut(t) {\n    return -0.5 * (Math.cos(Math.PI * t) - 1);\n}\nfunction sineIn(t) {\n    const v = Math.cos(t * Math.PI * 0.5);\n    if (Math.abs(v) < 1e-14)\n        return 1;\n    else\n        return 1 - v;\n}\nfunction sineOut(t) {\n    return Math.sin((t * Math.PI) / 2);\n}\n\nexport { backIn, backInOut, backOut, bounceIn, bounceInOut, bounceOut, circIn, circInOut, circOut, cubicIn, cubicInOut, cubicOut, elasticIn, elasticInOut, elasticOut, expoIn, expoInOut, expoOut, quadIn, quadInOut, quadOut, quartIn, quartInOut, quartOut, quintIn, quintInOut, quintOut, sineIn, sineInOut, sineOut };\n","import { cubicInOut, linear, cubicOut } from '../easing/index.mjs';\nimport { is_function, assign } from '../internal/index.mjs';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\n\nfunction blur(node, { delay = 0, duration = 400, easing = cubicInOut, amount = 5, opacity = 0 } = {}) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const f = style.filter === 'none' ? '' : style.filter;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (_t, u) => `opacity: ${target_opacity - (od * u)}; filter: ${f} blur(${u * amount}px);`\n    };\n}\nfunction fade(node, { delay = 0, duration = 400, easing = linear } = {}) {\n    const o = +getComputedStyle(node).opacity;\n    return {\n        delay,\n        duration,\n        easing,\n        css: t => `opacity: ${t * o}`\n    };\n}\nfunction fly(node, { delay = 0, duration = 400, easing = cubicOut, x = 0, y = 0, opacity = 0 } = {}) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (t, u) => `\n\t\t\ttransform: ${transform} translate(${(1 - t) * x}px, ${(1 - t) * y}px);\n\t\t\topacity: ${target_opacity - (od * u)}`\n    };\n}\nfunction slide(node, { delay = 0, duration = 400, easing = cubicOut } = {}) {\n    const style = getComputedStyle(node);\n    const opacity = +style.opacity;\n    const height = parseFloat(style.height);\n    const padding_top = parseFloat(style.paddingTop);\n    const padding_bottom = parseFloat(style.paddingBottom);\n    const margin_top = parseFloat(style.marginTop);\n    const margin_bottom = parseFloat(style.marginBottom);\n    const border_top_width = parseFloat(style.borderTopWidth);\n    const border_bottom_width = parseFloat(style.borderBottomWidth);\n    return {\n        delay,\n        duration,\n        easing,\n        css: t => 'overflow: hidden;' +\n            `opacity: ${Math.min(t * 20, 1) * opacity};` +\n            `height: ${t * height}px;` +\n            `padding-top: ${t * padding_top}px;` +\n            `padding-bottom: ${t * padding_bottom}px;` +\n            `margin-top: ${t * margin_top}px;` +\n            `margin-bottom: ${t * margin_bottom}px;` +\n            `border-top-width: ${t * border_top_width}px;` +\n            `border-bottom-width: ${t * border_bottom_width}px;`\n    };\n}\nfunction scale(node, { delay = 0, duration = 400, easing = cubicOut, start = 0, opacity = 0 } = {}) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const sd = 1 - start;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (_t, u) => `\n\t\t\ttransform: ${transform} scale(${1 - (sd * u)});\n\t\t\topacity: ${target_opacity - (od * u)}\n\t\t`\n    };\n}\nfunction draw(node, { delay = 0, speed, duration, easing = cubicInOut } = {}) {\n    let len = node.getTotalLength();\n    const style = getComputedStyle(node);\n    if (style.strokeLinecap !== 'butt') {\n        len += parseInt(style.strokeWidth);\n    }\n    if (duration === undefined) {\n        if (speed === undefined) {\n            duration = 800;\n        }\n        else {\n            duration = len / speed;\n        }\n    }\n    else if (typeof duration === 'function') {\n        duration = duration(len);\n    }\n    return {\n        delay,\n        duration,\n        easing,\n        css: (t, u) => `stroke-dasharray: ${t * len} ${u * len}`\n    };\n}\nfunction crossfade(_a) {\n    var { fallback } = _a, defaults = __rest(_a, [\"fallback\"]);\n    const to_receive = new Map();\n    const to_send = new Map();\n    function crossfade(from, node, params) {\n        const { delay = 0, duration = d => Math.sqrt(d) * 30, easing = cubicOut } = assign(assign({}, defaults), params);\n        const to = node.getBoundingClientRect();\n        const dx = from.left - to.left;\n        const dy = from.top - to.top;\n        const dw = from.width / to.width;\n        const dh = from.height / to.height;\n        const d = Math.sqrt(dx * dx + dy * dy);\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        const opacity = +style.opacity;\n        return {\n            delay,\n            duration: is_function(duration) ? duration(d) : duration,\n            easing,\n            css: (t, u) => `\n\t\t\t\topacity: ${t * opacity};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${transform} translate(${u * dx}px,${u * dy}px) scale(${t + (1 - t) * dw}, ${t + (1 - t) * dh});\n\t\t\t`\n        };\n    }\n    function transition(items, counterparts, intro) {\n        return (node, params) => {\n            items.set(params.key, {\n                rect: node.getBoundingClientRect()\n            });\n            return () => {\n                if (counterparts.has(params.key)) {\n                    const { rect } = counterparts.get(params.key);\n                    counterparts.delete(params.key);\n                    return crossfade(rect, node, params);\n                }\n                // if the node is disappearing altogether\n                // (i.e. wasn't claimed by the other list)\n                // then we need to supply an outro\n                items.delete(params.key);\n                return fallback && fallback(node, params, intro);\n            };\n        };\n    }\n    return [\n        transition(to_send, to_receive, false),\n        transition(to_receive, to_send, true)\n    ];\n}\n\nexport { blur, crossfade, draw, fade, fly, scale, slide };\n","<script>\r\n\t// @ts-nocheck\r\n\timport { fade } from 'svelte/transition';\r\n\r\n\texport let value = null;\r\n\r\n\tlet clip;\r\n\tlet copied;\r\n\tlet duration = 2000;\r\n\r\n\tasync function copy() {\r\n\t\tvar promise = navigator.clipboard.writeText(clip.innerHTML);\r\n\t\tawait promise;\r\n\t\tvalue = promise;\r\n\t\tcopied = true;\r\n\t\tsetTimeout(() => (copied = false), 1);\r\n\t}\r\n</script>\r\n\r\n<!-- Clipboard  -->\r\n<div class=\"Clipboard-Container\" on:click={copy} on:keypress={copy}>\r\n\t<div class=\"Clipboard\" bind:this={clip}>\r\n\t\t<slot {copy} />\r\n\t</div>\r\n\t{#if copied}\r\n\t\t<div out:fade={{ duration }}>✔️Copied</div>\r\n\t{:else}\r\n\t\t<span class=\"text-xl\" title=\"Copy to clipboard\">📋</span>\r\n\t\t<!-- <div in:fade={{ duration: 0, delay: duration }}>\r\n\t\t\t<svg\r\n\t\t\t\ton:click={copy}\r\n\t\t\t\tclass=\"octicon octicon-clippy\"\r\n\t\t\t\tviewBox=\"0 0 14 16\"\r\n\t\t\t\tversion=\"1.1\"\r\n\t\t\t\twidth=\"14\"\r\n\t\t\t\theight=\"16\"\r\n\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\tstroke=\"currentColor\"\r\n\t\t\t>\r\n\t\t\t\t<title>Copy to clipboard</title>\r\n\t\t\t\t<path\r\n\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\td=\"M2 13h4v1H2v-1zm5-6H2v1h5V7zm2 3V8l-3 3 3 3v-2h5v-2H9zM4.5 9H2v1h2.5V9zM2 12h2.5v-1H2v1zm9 1h1v2c-.02.28-.11.52-.3.7-.19.18-.42.28-.7.3H1c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h3c0-1.11.89-2 2-2 1.11 0 2 .89 2 2h3c.55 0 1 .45 1 1v5h-1V6H1v9h10v-2zM2 5h8c0-.55-.45-1-1-1H8c-.55 0-1-.45-1-1s-.45-1-1-1-1 .45-1 1-.45 1-1 1H3c-.55 0-1 .45-1 1z\"\r\n\t\t\t\t/>\r\n\t\t\t</svg>\r\n\t\t</div> -->\r\n\t{/if}\r\n</div>\r\n\r\n<style>\r\n\t.Clipboard {\r\n\t\tmargin: 0 0.5em;\r\n\t\tword-break: break-all;\r\n\t}\r\n\t.Clipboard-Container {\r\n\t\tdisplay: flex;\r\n\t}\r\n\t.Clipboard-Container {\r\n\t\tcursor: pointer;\r\n\t}\r\n</style>\r\n","<script>\r\n\t// @ts-nocheck\r\n\r\n\timport { onMount } from 'svelte';\r\n\timport { Resolver } from 'did-resolver';\r\n\timport JsonTree from 'svelte-json-tree';\r\n\timport { fly } from 'svelte/transition';\r\n\timport { quintOut } from 'svelte/easing';\r\n\timport Clipboard from './Clipboard.svelte';\r\n\r\n\texport let did;\r\n\r\n\tlet resolver;\r\n\tlet didDocument;\r\n\tlet isOpen = false;\r\n\r\n\tonMount(async () => {\r\n\t\tconst { didArResolver } = await import('.');\r\n\r\n\t\tconst arResolver = didArResolver.getResolver();\r\n\t\tresolver = new Resolver(arResolver);\r\n\t});\r\n\r\n\t$: if (resolver && did) resolve();\r\n\r\n\tasync function resolve() {\r\n\t\tconsole.log('resolving ', did);\r\n\t\tdidDocument = (await resolver.resolve(did)).didDocument;\r\n\r\n\t\t// if no Document after 5 secodns, try again for 2 minutes\r\n\t\tif (!didDocument) {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tresolve();\r\n\t\t\t}, 5000);\r\n\t\t}\r\n\r\n\t\treturn didDocument;\r\n\t}\r\n</script>\r\n\r\n<div class=\"m-4 p-4 border rounded-xl shadow-lg font-semibold\">\r\n\t<div class=\"flex flex-row m-4 p-4 bg-[#42b983] text-white font-normal rounded-lg\">\r\n\t\t<div class=\"flex-1 pr-4\">\r\n\t\t\t<Clipboard><slot /></Clipboard>\r\n\t\t</div>\r\n\t\t<div class=\"flex-0 pr-4\">\r\n\t\t\t<slot name=\"timestamp\" />\r\n\t\t</div>\r\n\t</div>\r\n\t{#if didDocument && didDocument?.verificationMethod?.length}\r\n\t\t<details class=\"cursor-pointer overflow-hidden\" bind:open={isOpen}>\r\n\t\t\t<summary\r\n\t\t\t\t>Full DID Document\r\n\t\t\t\t{#if !did.startsWith('did:arlocal')}\r\n\t\t\t\t\t<a\r\n\t\t\t\t\t\tclass=\"text-blue-700\"\r\n\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\thref=\"https://sonar.warp.cc/#/app/contract/{did.replace(/.*?:/g, '')}\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t🔗 View Blockchain Explorer</a\r\n\t\t\t\t\t>\r\n\t\t\t\t{/if}\r\n\t\t\t</summary>\r\n\t\t\t{#if isOpen}\r\n\t\t\t\t<div\r\n\t\t\t\t\ttransition:fly={{\r\n\t\t\t\t\t\tdelay: 0,\r\n\t\t\t\t\t\tduration: 300,\r\n\t\t\t\t\t\tx: 0,\r\n\t\t\t\t\t\ty: -100,\r\n\t\t\t\t\t\topacity: 0.25,\r\n\t\t\t\t\t\teasing: quintOut\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<JsonTree\r\n\t\t\t\t\t\tvalue={didDocument}\r\n\t\t\t\t\t\tdefaultExpandedLevel={1}\r\n\t\t\t\t\t\t--json-tree-font-size=\".8em\"\r\n\t\t\t\t\t\t--json-tree-string-color=\"#42b983\"\r\n\t\t\t\t\t\t--json-tree-label-color=\"#cfcfcf\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t{/if}\r\n\t\t</details>\r\n\t{/if}\r\n</div>\r\n","<script lang=\"ts\">\r\n\timport { onMount, createEventDispatcher } from 'svelte';\r\n\timport ResolveDID from './ResolveDID.svelte';\r\n\t// import Arweave from 'arweave';\r\n\r\n\texport let ownerAddress: string;\r\n\texport let local: boolean = false;\r\n\r\n\tconst dispatch = createEventDispatcher();\r\n\r\n\tlet allContracts: any[];\r\n\tlet makeDid: Function | null;\r\n\r\n\tonMount(async () => {\r\n\t\tconsole.log('Looking for DID contracts...', new Date().toLocaleTimeString());\r\n\t\tmakeDid = (contractTxId: string) =>\r\n\t\t\tlocal ? `did:arlocal:${contractTxId}` : `did:ar:${contractTxId}`;\r\n\r\n\t\tlet Arweave = await import('arweave');\r\n\t\tif (Arweave?.default) Arweave = Arweave.default;\r\n\t\tif (Arweave?.default) Arweave = Arweave.default;\r\n\r\n\t\tlet arweave = Arweave.init({\r\n\t\t\thost: 'arweave.net',\r\n\t\t\tport: 443,\r\n\t\t\tprotocol: 'https',\r\n\t\t\ttimeout: 20000,\r\n\t\t\tlogging: false\r\n\t\t});\r\n\r\n\t\tarweave\r\n\t\t\t.arql({\r\n\t\t\t\top: 'and',\r\n\t\t\t\texpr1: {\r\n\t\t\t\t\top: 'equals',\r\n\t\t\t\t\texpr1: 'App-Name',\r\n\t\t\t\t\texpr2: 'SmartWeaveContract'\r\n\t\t\t\t},\r\n\t\t\t\texpr2: {\r\n\t\t\t\t\top: 'equals',\r\n\t\t\t\t\texpr1: 'Uploader-Contract-Owner',\r\n\t\t\t\t\texpr2: ownerAddress\r\n\t\t\t\t},\r\n\t\t\t\texpr3: {\r\n\t\t\t\t\top: 'equals',\r\n\t\t\t\t\texpr1: 'Content-Type',\r\n\t\t\t\t\texpr2: 'application/json'\r\n\t\t\t\t},\r\n\t\t\t\texpr4: {\r\n\t\t\t\t\top: 'equals',\r\n\t\t\t\t\texpr1: 'DID-AR',\r\n\t\t\t\t\texpr2: 'true'\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then(async (txIds) => {\r\n\t\t\t\tconsole.log('txIds', txIds);\r\n\t\t\t\t// given a tx id, get the tags for the tx\r\n\t\t\t\t// make a query that looks up this txId\r\n\t\t\t\t// get the contract id from the tags\r\n\t\t\t\tconst query = `query {\r\n\t\t\t\t\t\t\t\ttransactions(ids: [\"${txIds.join('\",\"')}\"]) {\r\n\t\t\t\t\t\t\t\t\tedges {\r\n\t\t\t\t\t\t\t\t\t\tnode {\r\n\t\t\t\t\t\t\t\t\t\t\tblock {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttimestamp\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\ttags {\r\n\t\t\t\t\t\t\t\t\t\t\t\tname\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}`;\r\n\r\n\t\t\t\tconst res = await arweave.api.post(\r\n\t\t\t\t\t'graphql',\r\n\t\t\t\t\t{ query },\r\n\t\t\t\t\t{ headers: { 'content-type': 'application/json' } }\r\n\t\t\t\t);\r\n\r\n\t\t\t\t// for each of the edges, get the values of the array element with the name 'Contract' and return block timestamp toLocaleString\r\n\t\t\t\tallContracts = res.data.data.transactions.edges.map(\r\n\t\t\t\t\t(edge: { node: { tags: any[]; block: { timestamp: number } } }) => {\r\n\t\t\t\t\t\tconst contractId = edge.node.tags.find((tag) => tag.name === 'Uploader-Tx-Id').value;\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tid: contractId,\r\n\t\t\t\t\t\t\ttimestamp: new Date(edge.node?.block?.timestamp * 1000).toLocaleString() || null\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\r\n\t\t\t\tdispatch('searchComplete', allContracts);\r\n\t\t\t});\r\n\t});\r\n</script>\r\n\r\n{#if allContracts}\r\n\t{#each allContracts as contract}\r\n\t\t<!-- && contract?.verificationMethod?.length -->\r\n\t\t{#if makeDid && contract.id}\r\n\t\t\t<ResolveDID did={makeDid(contract.id)}\r\n\t\t\t\t>{makeDid(contract.id)}\r\n\t\t\t\t<div slot=\"timestamp\">{new Date(contract.timestamp * 1000).toLocaleString()}</div>\r\n\t\t\t</ResolveDID>\r\n\t\t{/if}\r\n\t{/each}\r\n{/if}\r\n","<script lang=\"ts\">\r\n\timport { onMount } from 'svelte';\r\n\t// @ts-ignore\r\n\timport type { handlers } from '@peerpiper/iframe-wallet-sdk';\r\n\r\n\timport ListDIDs from './ListDIDs.svelte';\r\n\timport Spinner from './Spinner.svelte';\r\n\r\n\texport let RSAPublicKey: { kty: string; n: string; e: string; kid?: string };\r\n\texport let Ed25519PublicKey: Uint8Array;\r\n\texport let wallet: handlers;\r\n\texport let srcTx: string | null;\r\n\r\n\tlet didar: DIDAr;\r\n\tlet did: string;\r\n\tlet local: boolean = false;\r\n\tlet existing: boolean = false;\r\n\tlet creating: boolean = false;\r\n\tlet ownerAddress: string;\r\n\r\n\tlet handleCreateDID: () => Promise<void>;\r\n\r\n\tonMount(async () => {\r\n\t\t// get location params, check to see if local is set to true\r\n\t\tconst urlParams = new URLSearchParams(window.location.search);\r\n\t\tlocal = urlParams.get('local') === 'true';\r\n\r\n\t\tconst { init } = await import('./didar');\r\n\t\tdidar = await init({ local });\r\n\r\n\t\tif (local) {\r\n\t\t\tconst { jwk, address } = await didar.warp.testing.generateWallet();\r\n\t\t\tdidar.wallet = jwk; // override 'use_wallet' and set to funded wallet for testing\r\n\t\t\townerAddress = address;\r\n\t\t\tconsole.log('test address', address);\r\n\t\t}\r\n\r\n\t\thandleCreateDID = async function () {\r\n\t\t\tcreating = true;\r\n\t\t\tdid = await didar.create({\r\n\t\t\t\tRSAPublicKey,\r\n\t\t\t\tEd25519PublicKey,\r\n\t\t\t\tsrcTx\r\n\t\t\t});\r\n\t\t\t// refresh did variable every second until searchComplete is non null\r\n\t\t\tconst interval = setInterval(async () => {\r\n\t\t\t\townerAddress = ownerAddress; // refresh ListDIDs\r\n\t\t\t\tif (existing) {\r\n\t\t\t\t\tclearInterval(interval);\r\n\t\t\t\t\tcreating = false;\r\n\t\t\t\t}\r\n\t\t\t}, 400);\r\n\t\t};\r\n\t});\r\n\r\n\t$: if (wallet) (async () => (ownerAddress = await wallet.arweaveWalletAPI.getActiveAddress()))();\r\n\r\n\tasync function searchComplete(e: CustomEvent) {\r\n\t\tconsole.log('searchComplete', e.detail);\r\n\t\texisting = e.detail.length;\r\n\t}\r\n</script>\r\n\r\n{#if wallet && didar && ownerAddress}\r\n\t{#key wallet}\r\n\t\t{#key did}\r\n\t\t\t<ListDIDs {ownerAddress} on:searchComplete={searchComplete} />\r\n\t\t{/key}\r\n\r\n\t\t{#if !creating && !existing && handleCreateDID}\r\n\t\t\t<div class=\"m-4 p-4\">\r\n\t\t\t\t{#if srcTx}\r\n\t\t\t\t\tUsing existing contract <span class=\"font-mono bg-gray-50 m-2 p-2 rounded\">\r\n\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\thref=\"https://sonar.warp.cc/#/app/source/{srcTx}#code\"\r\n\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\trel=\"noopener noreferrer\">{srcTx}🔗↗️</a\r\n\t\t\t\t\t\t></span\r\n\t\t\t\t\t>\r\n\t\t\t\t{:else}\r\n\t\t\t\t\tWe will deploy a new Smart Contract to manage your DID.\r\n\t\t\t\t{/if}\r\n\t\t\t</div>\r\n\r\n\t\t\t<div\r\n\t\t\t\tclass=\"bg-blue-600 hover:bg-blue-500 shadow rounded-lg m-4 p-4 w-fit text-white cursor-pointer\"\r\n\t\t\t\ton:click={handleCreateDID}\r\n\t\t\t\ton:keypress={handleCreateDID}\r\n\t\t\t>\r\n\t\t\t\tUse wallet keys to Create new Decentralized Identity, deployed on {local\r\n\t\t\t\t\t? 'local'\r\n\t\t\t\t\t: process.env.NODE_ENV}\r\n\t\t\t</div>\r\n\t\t{:else if creating}\r\n\t\t\t<Spinner>Creating DID...</Spinner>\r\n\t\t{/if}\r\n\t{/key}\r\n{:else}\r\n\tConnect with Wallet to create a Decentralized Identity\r\n{/if}\r\n\r\n<!-- <style lang=\"postcss\"></style> -->\r\n","// src/memoize.js\nfunction memoize(fn, options) {\n  var cache = options && options.cache ? options.cache : cacheDefault;\n  var serializer = options && options.serializer ? options.serializer : serializerDefault;\n  var strategy = options && options.strategy ? options.strategy : strategyDefault;\n  return strategy(fn, {\n    cache,\n    serializer\n  });\n}\nfunction isPrimitive(value) {\n  return value == null || typeof value === \"number\" || typeof value === \"boolean\";\n}\nfunction monadic(fn, cache, serializer, arg) {\n  var cacheKey = isPrimitive(arg) ? arg : serializer(arg);\n  var computedValue = cache.get(cacheKey);\n  if (typeof computedValue === \"undefined\") {\n    computedValue = fn.call(this, arg);\n    cache.set(cacheKey, computedValue);\n  }\n  return computedValue;\n}\nfunction variadic(fn, cache, serializer) {\n  var args = Array.prototype.slice.call(arguments, 3);\n  var cacheKey = serializer(args);\n  var computedValue = cache.get(cacheKey);\n  if (typeof computedValue === \"undefined\") {\n    computedValue = fn.apply(this, args);\n    cache.set(cacheKey, computedValue);\n  }\n  return computedValue;\n}\nfunction assemble(fn, context, strategy, cache, serialize) {\n  return strategy.bind(context, fn, cache, serialize);\n}\nfunction strategyDefault(fn, options) {\n  var strategy = fn.length === 1 ? monadic : variadic;\n  return assemble(fn, this, strategy, options.cache.create(), options.serializer);\n}\nfunction serializerDefault() {\n  return JSON.stringify(arguments);\n}\nfunction ObjectWithoutPrototypeCache() {\n  this.cache = /* @__PURE__ */ Object.create(null);\n}\nObjectWithoutPrototypeCache.prototype.has = function(key) {\n  return key in this.cache;\n};\nObjectWithoutPrototypeCache.prototype.get = function(key) {\n  return this.cache[key];\n};\nObjectWithoutPrototypeCache.prototype.set = function(key, value) {\n  this.cache[key] = value;\n};\nvar cacheDefault = {\n  create: function create() {\n    return new ObjectWithoutPrototypeCache();\n  }\n};\nvar memoize_default = memoize;\n\n// src/index.ts\nvar DEFAULT_CLASS = {\n  MAIN: \"svelte-draggable\",\n  DRAGGING: \"svelte-draggable-dragging\",\n  DRAGGED: \"svelte-draggable-dragged\"\n};\nvar draggable = (node, options = {}) => {\n  var _a, _b;\n  let {\n    bounds,\n    axis = \"both\",\n    gpuAcceleration = true,\n    applyUserSelectHack = true,\n    disabled = false,\n    ignoreMultitouch = false,\n    grid,\n    position,\n    cancel,\n    handle,\n    defaultClass = DEFAULT_CLASS.MAIN,\n    defaultClassDragging = DEFAULT_CLASS.DRAGGING,\n    defaultClassDragged = DEFAULT_CLASS.DRAGGED,\n    defaultPosition = { x: 0, y: 0 },\n    onDragStart,\n    onDrag,\n    onDragEnd\n  } = options;\n  const tick = new Promise(requestAnimationFrame);\n  let active = false;\n  let [translateX, translateY] = [0, 0];\n  let [initialX, initialY] = [0, 0];\n  let [clientToNodeOffsetX, clientToNodeOffsetY] = [0, 0];\n  let { x: xOffset, y: yOffset } = { x: (_a = position == null ? void 0 : position.x) != null ? _a : 0, y: (_b = position == null ? void 0 : position.y) != null ? _b : 0 };\n  setTranslate(xOffset, yOffset, node, gpuAcceleration);\n  let canMoveInX;\n  let canMoveInY;\n  let bodyOriginalUserSelectVal = \"\";\n  let computedBounds;\n  let nodeRect;\n  let dragEl;\n  let cancelEl;\n  let isControlled = !!position;\n  const getEventData = () => ({\n    offsetX: translateX,\n    offsetY: translateY,\n    domRect: node.getBoundingClientRect()\n  });\n  function fireSvelteDragStartEvent(node2) {\n    const data = getEventData();\n    node2.dispatchEvent(new CustomEvent(\"svelte-drag:start\", { detail: data }));\n    onDragStart == null ? void 0 : onDragStart(data);\n  }\n  function fireSvelteDragStopEvent(node2) {\n    const data = getEventData();\n    node2.dispatchEvent(new CustomEvent(\"svelte-drag:end\", { detail: data }));\n    onDragEnd == null ? void 0 : onDragEnd(data);\n  }\n  function fireSvelteDragEvent(node2, translateX2, translateY2) {\n    const data = getEventData();\n    node2.dispatchEvent(new CustomEvent(\"svelte-drag\", { detail: data }));\n    onDrag == null ? void 0 : onDrag(data);\n  }\n  const listen = addEventListener;\n  listen(\"touchstart\", dragStart, false);\n  listen(\"touchend\", dragEnd, false);\n  listen(\"touchmove\", drag, false);\n  listen(\"mousedown\", dragStart, false);\n  listen(\"mouseup\", dragEnd, false);\n  listen(\"mousemove\", drag, false);\n  node.style.touchAction = \"none\";\n  const calculateInverseScale = () => {\n    let inverseScale = node.offsetWidth / nodeRect.width;\n    if (isNaN(inverseScale))\n      inverseScale = 1;\n    return inverseScale;\n  };\n  function dragStart(e) {\n    if (disabled)\n      return;\n    if (ignoreMultitouch && e.type === \"touchstart\" && e.touches.length > 1)\n      return;\n    node.classList.add(defaultClass);\n    dragEl = getDragEl(handle, node);\n    cancelEl = getCancelElement(cancel, node);\n    canMoveInX = [\"both\", \"x\"].includes(axis);\n    canMoveInY = [\"both\", \"y\"].includes(axis);\n    if (typeof bounds !== \"undefined\") {\n      computedBounds = computeBoundRect(bounds, node);\n    }\n    nodeRect = node.getBoundingClientRect();\n    if (isString(handle) && isString(cancel) && handle === cancel)\n      throw new Error(\"`handle` selector can't be same as `cancel` selector\");\n    if (cancelEl == null ? void 0 : cancelEl.contains(dragEl))\n      throw new Error(\"Element being dragged can't be a child of the element on which `cancel` is applied\");\n    if (dragEl.contains(e.target) && !(cancelEl == null ? void 0 : cancelEl.contains(e.target)))\n      active = true;\n    if (!active)\n      return;\n    if (applyUserSelectHack) {\n      bodyOriginalUserSelectVal = document.body.style.userSelect;\n      document.body.style.userSelect = \"none\";\n    }\n    fireSvelteDragStartEvent(node);\n    const { clientX, clientY } = isTouchEvent(e) ? e.touches[0] : e;\n    const inverseScale = calculateInverseScale();\n    if (canMoveInX)\n      initialX = clientX - xOffset / inverseScale;\n    if (canMoveInY)\n      initialY = clientY - yOffset / inverseScale;\n    if (computedBounds) {\n      clientToNodeOffsetX = clientX - nodeRect.left;\n      clientToNodeOffsetY = clientY - nodeRect.top;\n    }\n  }\n  function dragEnd() {\n    if (!active)\n      return;\n    node.classList.remove(defaultClassDragging);\n    node.classList.add(defaultClassDragged);\n    if (applyUserSelectHack)\n      document.body.style.userSelect = bodyOriginalUserSelectVal;\n    fireSvelteDragStopEvent(node);\n    if (canMoveInX)\n      initialX = translateX;\n    if (canMoveInX)\n      initialY = translateY;\n    active = false;\n  }\n  function drag(e) {\n    if (!active)\n      return;\n    node.classList.add(defaultClassDragging);\n    e.preventDefault();\n    nodeRect = node.getBoundingClientRect();\n    const { clientX, clientY } = isTouchEvent(e) ? e.touches[0] : e;\n    let [finalX, finalY] = [clientX, clientY];\n    const inverseScale = calculateInverseScale();\n    if (computedBounds) {\n      const virtualClientBounds = {\n        left: computedBounds.left + clientToNodeOffsetX,\n        top: computedBounds.top + clientToNodeOffsetY,\n        right: computedBounds.right + clientToNodeOffsetX - nodeRect.width,\n        bottom: computedBounds.bottom + clientToNodeOffsetY - nodeRect.height\n      };\n      finalX = clamp(finalX, virtualClientBounds.left, virtualClientBounds.right);\n      finalY = clamp(finalY, virtualClientBounds.top, virtualClientBounds.bottom);\n    }\n    if (Array.isArray(grid)) {\n      let [xSnap, ySnap] = grid;\n      if (isNaN(+xSnap) || xSnap < 0)\n        throw new Error(\"1st argument of `grid` must be a valid positive number\");\n      if (isNaN(+ySnap) || ySnap < 0)\n        throw new Error(\"2nd argument of `grid` must be a valid positive number\");\n      let [deltaX, deltaY] = [finalX - initialX, finalY - initialY];\n      [deltaX, deltaY] = snapToGrid([Math.floor(xSnap / inverseScale), Math.floor(ySnap / inverseScale)], deltaX, deltaY);\n      [finalX, finalY] = [initialX + deltaX, initialY + deltaY];\n    }\n    if (canMoveInX)\n      translateX = (finalX - initialX) * inverseScale;\n    if (canMoveInY)\n      translateY = (finalY - initialY) * inverseScale;\n    [xOffset, yOffset] = [translateX, translateY];\n    fireSvelteDragEvent(node, translateX, translateY);\n    tick.then(() => setTranslate(translateX, translateY, node, gpuAcceleration));\n  }\n  return {\n    destroy: () => {\n      const unlisten = removeEventListener;\n      unlisten(\"touchstart\", dragStart, false);\n      unlisten(\"touchend\", dragEnd, false);\n      unlisten(\"touchmove\", drag, false);\n      unlisten(\"mousedown\", dragStart, false);\n      unlisten(\"mouseup\", dragEnd, false);\n      unlisten(\"mousemove\", drag, false);\n    },\n    update: (options2) => {\n      var _a2, _b2, _c, _d, _e, _f, _g, _h, _i, _j, _k;\n      axis = options2.axis || \"both\";\n      disabled = (_a2 = options2.disabled) != null ? _a2 : false;\n      ignoreMultitouch = (_b2 = options2.ignoreMultitouch) != null ? _b2 : false;\n      handle = options2.handle;\n      bounds = options2.bounds;\n      cancel = options2.cancel;\n      applyUserSelectHack = (_c = options2.applyUserSelectHack) != null ? _c : true;\n      grid = options2.grid;\n      gpuAcceleration = (_d = options2.gpuAcceleration) != null ? _d : true;\n      const dragged = node.classList.contains(defaultClassDragged);\n      node.classList.remove(defaultClass, defaultClassDragged);\n      defaultClass = (_e = options2.defaultClass) != null ? _e : DEFAULT_CLASS.MAIN;\n      defaultClassDragging = (_f = options2.defaultClassDragging) != null ? _f : DEFAULT_CLASS.DRAGGING;\n      defaultClassDragged = (_g = options2.defaultClassDragged) != null ? _g : DEFAULT_CLASS.DRAGGED;\n      node.classList.add(defaultClass);\n      if (dragged)\n        node.classList.add(defaultClassDragged);\n      if (isControlled) {\n        xOffset = translateX = (_i = (_h = options2.position) == null ? void 0 : _h.x) != null ? _i : translateX;\n        yOffset = translateY = (_k = (_j = options2.position) == null ? void 0 : _j.y) != null ? _k : translateY;\n        tick.then(() => setTranslate(translateX, translateY, node, gpuAcceleration));\n      }\n    }\n  };\n};\nfunction isTouchEvent(event) {\n  return Boolean(event.touches && event.touches.length);\n}\nfunction clamp(val, min, max) {\n  return Math.min(Math.max(val, min), max);\n}\nfunction isString(val) {\n  return typeof val === \"string\";\n}\nvar snapToGrid = memoize_default(([xSnap, ySnap], pendingX, pendingY) => {\n  const x = Math.round(pendingX / xSnap) * xSnap;\n  const y = Math.round(pendingY / ySnap) * ySnap;\n  return [x, y];\n});\nfunction getDragEl(handle, node) {\n  if (!handle)\n    return node;\n  const handleEl = node.querySelector(handle);\n  if (handleEl === null)\n    throw new Error(\"Selector passed for `handle` option should be child of the element on which the action is applied\");\n  return handleEl;\n}\nfunction getCancelElement(cancel, node) {\n  if (!cancel)\n    return;\n  const cancelEl = node.querySelector(cancel);\n  if (cancelEl === null)\n    throw new Error(\"Selector passed for `cancel` option should be child of the element on which the action is applied\");\n  return cancelEl;\n}\nfunction computeBoundRect(bounds, rootNode) {\n  if (typeof bounds === \"object\") {\n    const [windowWidth, windowHeight] = [window.innerWidth, window.innerHeight];\n    const { top = 0, left = 0, right = 0, bottom = 0 } = bounds;\n    const computedRight = windowWidth - right;\n    const computedBottom = windowHeight - bottom;\n    return { top, right: computedRight, bottom: computedBottom, left };\n  }\n  if (bounds === \"parent\") {\n    const boundRect = rootNode.parentNode.getBoundingClientRect();\n    return boundRect;\n  }\n  const node = document.querySelector(bounds);\n  if (node === null)\n    throw new Error(\"The selector provided for bound doesn't exists in the document.\");\n  const computedBounds = node.getBoundingClientRect();\n  return computedBounds;\n}\nfunction setTranslate(xPos, yPos, el, gpuAcceleration) {\n  el.style.transform = gpuAcceleration ? `translate3d(${+xPos}px, ${+yPos}px, 0)` : `translate(${+xPos}px, ${+yPos}px)`;\n}\nexport {\n  draggable\n};\n//# sourceMappingURL=index.js.map","<div>\r\n\t<svg\r\n\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\txmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n\t\tviewBox=\"0 0 1440 1440\"\r\n\t\twidth=\"100\"\r\n\t\theight=\"100\"\r\n\t>\r\n\t\t<defs />\r\n\t\t<defs>\r\n\t\t\t<path\r\n\t\t\t\tid=\"a\"\r\n\t\t\t\td=\"M258 1321c9-304 6-917 0-1191 52-161 1082-280 1083 330 1 609-618 545-701 538-2 67-2 208 0 422-222 56-349 23-382-99z\"\r\n\t\t\t/>\r\n\t\t\t<path\r\n\t\t\t\tid=\"c\"\r\n\t\t\t\td=\"M1122 560c-107 223-284 293-529 209l-38 79c-1 2-4 2-5-1l-99-287c-1-5 1-11 6-13l273-106c3-1 6 2 5 5l-36 75c70 126 211 139 423 39z\"\r\n\t\t\t/>\r\n\t\t\t<path\r\n\t\t\t\tid=\"d\"\r\n\t\t\t\td=\"M451 447c107-223 284-292 529-209l38-78c1-3 5-2 5 0l99 288c1 5-1 10-6 12L843 567c-3 1-6-3-5-6l37-75c-71-126-212-139-424-39z\"\r\n\t\t\t/>\r\n\t\t\t<radialGradient id=\"b\" cx=\"992.3\" cy=\"174.2\" r=\"1312.8\" gradientUnits=\"userSpaceOnUse\">\r\n\t\t\t\t<stop offset=\"0%\" stop-color=\"#69ed66\" />\r\n\t\t\t\t<stop offset=\"100%\" stop-color=\"#279c19\" />\r\n\t\t\t</radialGradient>\r\n\t\t</defs>\r\n\t\t<use fill=\"url(#b)\" xlink:href=\"#a\" />\r\n\t\t<use fill=\"#fff\" xlink:href=\"#c\" />\r\n\t\t<use fill=\"#fff\" xlink:href=\"#d\" />\r\n\t</svg>\r\n</div>\r\n\r\n<style>\r\n\tsvg {\r\n\t\twidth: auto;\r\n\t\theight: 2em;\r\n\t\tdisplay: block;\r\n\t}\r\n</style>\r\n","<script>\r\n\timport { draggable } from 'svelte-drag';\r\n\timport Logo from './assets/Logo.svelte'; // https://peerpiper.io\r\n\r\n\tlet navOpen = false;\r\n\r\n\tfunction handleNav() {\r\n\t\tnavOpen = !navOpen;\r\n\t}\r\n\r\n\tfunction onClickOutside(event) {\r\n\t\tnavOpen = false;\r\n\t}\r\n</script>\r\n\r\n<!-- Use Menu Icon to open the sidenav -->\r\n<div class=\"container\" class:change={navOpen} on:click={handleNav} use:draggable>\r\n\t<Logo />\r\n\t<div class=\"menu-icon\">\r\n\t\t<div class=\"bar1\" />\r\n\t\t<div class=\"bar2\" />\r\n\t\t<div class=\"bar3\" />\r\n\t</div>\r\n</div>\r\n\r\n<div class:mask={navOpen} on:click={onClickOutside} />\r\n<div class=\"sidenav\" class:open={navOpen}>\r\n\t<slot openNav={() => (navOpen = true)} hideNav={() => (navOpen = false)} />\r\n</div>\r\n\r\n<style>\r\n\t.container {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tposition: absolute;\r\n\t\ttop: 15px;\r\n\t\tright: 6px;\r\n\t\tz-index: 100;\r\n\t\tcursor: pointer;\r\n\t\t/* \tbackground-color: black; */\r\n\t\tmargin: 1.618em;\r\n\t\topacity: 0.95;\r\n\t\twidth: auto;\r\n\t}\r\n\r\n\t.menu-icon {\r\n\t\tdisplay: inline-block;\r\n\t}\r\n\t.bar1,\r\n\t.bar2,\r\n\t.bar3 {\r\n\t\twidth: 35px;\r\n\t\theight: 5px;\r\n\t\tbackground-color: #0bb113;\r\n\t\tmargin: 6px 0;\r\n\t\ttransition: 0.4s;\r\n\t}\r\n\r\n\t.change .bar1 {\r\n\t\t-webkit-transform: rotate(-45deg) translate(-9px, 6px);\r\n\t\ttransform: rotate(-45deg) translate(-9px, 6px);\r\n\t}\r\n\r\n\t.change .bar2 {\r\n\t\topacity: 0;\r\n\t}\r\n\r\n\t.change .bar3 {\r\n\t\t-webkit-transform: rotate(45deg) translate(-8px, -8px);\r\n\t\ttransform: rotate(45deg) translate(-8px, -8px);\r\n\t}\r\n\r\n\t/* The side navigation menu */\r\n\t.sidenav {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tright: 0;\r\n\t\theight: 15%;\r\n\t\twidth: 0; /* 0 width - change this with JavaScript */\r\n\t\tz-index: 50;\r\n\t\tbackground-color: #111;\r\n\t\toverflow-x: inherit; /* Disable horizontal scroll */\r\n\t\tpadding-top: 30px;\r\n\t\ttransition: 0.25s;\r\n\t}\r\n\r\n\t.open {\r\n\t\twidth: 80%;\r\n\t\theight: 100%;\r\n\t\toverflow-x: scroll;\r\n\t}\r\n\r\n\t.mask {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\topacity: 0.5;\r\n\t\tbackground-color: #444;\r\n\t\ttransition: 0.4s;\r\n\t}\r\n\r\n\t/* On smaller screens, where height is less than 450px, change the style of the sidenav (less padding and a smaller font size) */\r\n\t@media screen and (max-height: 450px) {\r\n\t\t.sidenav {\r\n\t\t\tpadding-top: 15px;\r\n\t\t}\r\n\t}\r\n</style>\r\n","export var MessageType;\n(function (MessageType) {\n    MessageType[\"Call\"] = \"call\";\n    MessageType[\"Reply\"] = \"reply\";\n    MessageType[\"Syn\"] = \"syn\";\n    MessageType[\"SynAck\"] = \"synAck\";\n    MessageType[\"Ack\"] = \"ack\";\n})(MessageType || (MessageType = {}));\nexport var Resolution;\n(function (Resolution) {\n    Resolution[\"Fulfilled\"] = \"fulfilled\";\n    Resolution[\"Rejected\"] = \"rejected\";\n})(Resolution || (Resolution = {}));\nexport var ErrorCode;\n(function (ErrorCode) {\n    ErrorCode[\"ConnectionDestroyed\"] = \"ConnectionDestroyed\";\n    ErrorCode[\"ConnectionTimeout\"] = \"ConnectionTimeout\";\n    ErrorCode[\"NoIframeSrc\"] = \"NoIframeSrc\";\n})(ErrorCode || (ErrorCode = {}));\nexport var NativeErrorName;\n(function (NativeErrorName) {\n    NativeErrorName[\"DataCloneError\"] = \"DataCloneError\";\n})(NativeErrorName || (NativeErrorName = {}));\nexport var NativeEventType;\n(function (NativeEventType) {\n    NativeEventType[\"Message\"] = \"message\";\n})(NativeEventType || (NativeEventType = {}));\n","export default (localName, log) => {\n    const callbacks = [];\n    let destroyed = false;\n    return {\n        destroy(error) {\n            if (!destroyed) {\n                destroyed = true;\n                log(`${localName}: Destroying connection`);\n                callbacks.forEach((callback) => {\n                    callback(error);\n                });\n            }\n        },\n        onDestroy(callback) {\n            destroyed ? callback() : callbacks.push(callback);\n        },\n    };\n};\n","export default (debug) => {\n    /**\n     * Logs a message if debug is enabled.\n     */\n    return (...args) => {\n        if (debug) {\n            console.log('[Penpal]', ...args); // eslint-disable-line no-console\n        }\n    };\n};\n","const DEFAULT_PORT_BY_PROTOCOL = {\n    'http:': '80',\n    'https:': '443',\n};\nconst URL_REGEX = /^(https?:)?\\/\\/([^/:]+)?(:(\\d+))?/;\nconst opaqueOriginSchemes = ['file:', 'data:'];\n/**\n * Converts a src value into an origin.\n */\nexport default (src) => {\n    if (src && opaqueOriginSchemes.find((scheme) => src.startsWith(scheme))) {\n        // The origin of the child document is an opaque origin and its\n        // serialization is \"null\"\n        // https://html.spec.whatwg.org/multipage/origin.html#origin\n        return 'null';\n    }\n    // Note that if src is undefined, then srcdoc is being used instead of src\n    // and we can follow this same logic below to get the origin of the parent,\n    // which is the origin that we will need to use.\n    const location = document.location;\n    const regexResult = URL_REGEX.exec(src);\n    let protocol;\n    let hostname;\n    let port;\n    if (regexResult) {\n        // It's an absolute URL. Use the parsed info.\n        // regexResult[1] will be undefined if the URL starts with //\n        protocol = regexResult[1] ? regexResult[1] : location.protocol;\n        hostname = regexResult[2];\n        port = regexResult[4];\n    }\n    else {\n        // It's a relative path. Use the current location's info.\n        protocol = location.protocol;\n        hostname = location.hostname;\n        port = location.port;\n    }\n    // If the port is the default for the protocol, we don't want to add it to the origin string\n    // or it won't match the message's event.origin.\n    const portSuffix = port && port !== DEFAULT_PORT_BY_PROTOCOL[protocol] ? `:${port}` : '';\n    return `${protocol}//${hostname}${portSuffix}`;\n};\n","/**\n * Converts an error object into a plain object.\n */\nexport const serializeError = ({ name, message, stack, }) => ({\n    name,\n    message,\n    stack,\n});\n/**\n * Converts a plain object into an error object.\n */\nexport const deserializeError = (obj) => {\n    const deserializedError = new Error();\n    // @ts-ignore\n    Object.keys(obj).forEach((key) => (deserializedError[key] = obj[key]));\n    return deserializedError;\n};\n","import { serializeError } from './errorSerialization';\nimport { MessageType, NativeEventType, NativeErrorName, Resolution, } from './enums';\n/**\n * Listens for \"call\" messages coming from the remote, executes the corresponding method, and\n * responds with the return value.\n */\nexport default (info, serializedMethods, log) => {\n    const { localName, local, remote, originForSending, originForReceiving, } = info;\n    let destroyed = false;\n    const handleMessageEvent = (event) => {\n        if (event.source !== remote || event.data.penpal !== MessageType.Call) {\n            return;\n        }\n        if (originForReceiving !== '*' && event.origin !== originForReceiving) {\n            log(`${localName} received message from origin ${event.origin} which did not match expected origin ${originForReceiving}`);\n            return;\n        }\n        const callMessage = event.data;\n        const { methodName, args, id } = callMessage;\n        log(`${localName}: Received ${methodName}() call`);\n        const createPromiseHandler = (resolution) => {\n            return (returnValue) => {\n                log(`${localName}: Sending ${methodName}() reply`);\n                if (destroyed) {\n                    // It's possible to throw an error here, but it would need to be thrown asynchronously\n                    // and would only be catchable using window.onerror. This is because the consumer\n                    // is merely returning a value from their method and not calling any function\n                    // that they could wrap in a try-catch. Even if the consumer were to catch the error,\n                    // the value of doing so is questionable. Instead, we'll just log a message.\n                    log(`${localName}: Unable to send ${methodName}() reply due to destroyed connection`);\n                    return;\n                }\n                const message = {\n                    penpal: MessageType.Reply,\n                    id,\n                    resolution,\n                    returnValue,\n                };\n                if (resolution === Resolution.Rejected &&\n                    returnValue instanceof Error) {\n                    message.returnValue = serializeError(returnValue);\n                    message.returnValueIsError = true;\n                }\n                try {\n                    remote.postMessage(message, originForSending);\n                }\n                catch (err) {\n                    // If a consumer attempts to send an object that's not cloneable (e.g., window),\n                    // we want to ensure the receiver's promise gets rejected.\n                    if (err.name === NativeErrorName.DataCloneError) {\n                        const errorReplyMessage = {\n                            penpal: MessageType.Reply,\n                            id,\n                            resolution: Resolution.Rejected,\n                            returnValue: serializeError(err),\n                            returnValueIsError: true,\n                        };\n                        remote.postMessage(errorReplyMessage, originForSending);\n                    }\n                    throw err;\n                }\n            };\n        };\n        new Promise((resolve) => resolve(serializedMethods[methodName].apply(serializedMethods, args))).then(createPromiseHandler(Resolution.Fulfilled), createPromiseHandler(Resolution.Rejected));\n    };\n    local.addEventListener(NativeEventType.Message, handleMessageEvent);\n    return () => {\n        destroyed = true;\n        local.removeEventListener(NativeEventType.Message, handleMessageEvent);\n    };\n};\n","let id = 0;\n/**\n * @return {number} A unique ID (not universally unique)\n */\nexport default () => ++id;\n","const KEY_PATH_DELIMITER = '.';\nconst keyPathToSegments = (keyPath) => keyPath ? keyPath.split(KEY_PATH_DELIMITER) : [];\nconst segmentsToKeyPath = (segments) => segments.join(KEY_PATH_DELIMITER);\nconst createKeyPath = (key, prefix) => {\n    const segments = keyPathToSegments(prefix || '');\n    segments.push(key);\n    return segmentsToKeyPath(segments);\n};\n/**\n * Given a `keyPath`, set it to be `value` on `subject`, creating any intermediate\n * objects along the way.\n *\n * @param {Object} subject The object on which to set value.\n * @param {string} keyPath The key path at which to set value.\n * @param {Object} value The value to store at the given key path.\n * @returns {Object} Updated subject.\n */\nexport const setAtKeyPath = (subject, keyPath, value) => {\n    const segments = keyPathToSegments(keyPath);\n    segments.reduce((prevSubject, key, idx) => {\n        if (typeof prevSubject[key] === 'undefined') {\n            prevSubject[key] = {};\n        }\n        if (idx === segments.length - 1) {\n            prevSubject[key] = value;\n        }\n        return prevSubject[key];\n    }, subject);\n    return subject;\n};\n/**\n * Given a dictionary of (nested) keys to function, flatten them to a map\n * from key path to function.\n *\n * @param {Object} methods The (potentially nested) object to serialize.\n * @param {string} prefix A string with which to prefix entries. Typically not intended to be used by consumers.\n * @returns {Object} An map from key path in `methods` to functions.\n */\nexport const serializeMethods = (methods, prefix) => {\n    const flattenedMethods = {};\n    Object.keys(methods).forEach((key) => {\n        const value = methods[key];\n        const keyPath = createKeyPath(key, prefix);\n        if (typeof value === 'object') {\n            // Recurse into any nested children.\n            Object.assign(flattenedMethods, serializeMethods(value, keyPath));\n        }\n        if (typeof value === 'function') {\n            // If we've found a method, expose it.\n            flattenedMethods[keyPath] = value;\n        }\n    });\n    return flattenedMethods;\n};\n/**\n * Given a map of key paths to functions, unpack the key paths to an object.\n *\n * @param {Object} flattenedMethods A map of key paths to functions to unpack.\n * @returns {Object} A (potentially nested) map of functions.\n */\nexport const deserializeMethods = (flattenedMethods) => {\n    const methods = {};\n    for (const keyPath in flattenedMethods) {\n        setAtKeyPath(methods, keyPath, flattenedMethods[keyPath]);\n    }\n    return methods;\n};\n","import generateId from './generateId';\nimport { deserializeError } from './errorSerialization';\nimport { deserializeMethods } from './methodSerialization';\nimport { ErrorCode, MessageType, NativeEventType, Resolution } from './enums';\n/**\n * Augments an object with methods that match those defined by the remote. When these methods are\n * called, a \"call\" message will be sent to the remote, the remote's corresponding method will be\n * executed, and the method's return value will be returned via a message.\n * @param {Object} callSender Sender object that should be augmented with methods.\n * @param {Object} info Information about the local and remote windows.\n * @param {Array} methodKeyPaths Key paths of methods available to be called on the remote.\n * @param {Promise} destructionPromise A promise resolved when destroy() is called on the penpal\n * connection.\n * @returns {Object} The call sender object with methods that may be called.\n */\nexport default (callSender, info, methodKeyPaths, destroyConnection, log) => {\n    const { localName, local, remote, originForSending, originForReceiving, } = info;\n    let destroyed = false;\n    log(`${localName}: Connecting call sender`);\n    const createMethodProxy = (methodName) => {\n        return (...args) => {\n            log(`${localName}: Sending ${methodName}() call`);\n            // This handles the case where the iframe has been removed from the DOM\n            // (and therefore its window closed), the consumer has not yet\n            // called destroy(), and the user calls a method exposed by\n            // the remote. We detect the iframe has been removed and force\n            // a destroy() immediately so that the consumer sees the error saying\n            // the connection has been destroyed. We wrap this check in a try catch\n            // because Edge throws an \"Object expected\" error when accessing\n            // contentWindow.closed on a contentWindow from an iframe that's been\n            // removed from the DOM.\n            let iframeRemoved;\n            try {\n                if (remote.closed) {\n                    iframeRemoved = true;\n                }\n            }\n            catch (e) {\n                iframeRemoved = true;\n            }\n            if (iframeRemoved) {\n                destroyConnection();\n            }\n            if (destroyed) {\n                const error = new Error(`Unable to send ${methodName}() call due ` + `to destroyed connection`);\n                error.code = ErrorCode.ConnectionDestroyed;\n                throw error;\n            }\n            return new Promise((resolve, reject) => {\n                const id = generateId();\n                const handleMessageEvent = (event) => {\n                    if (event.source !== remote ||\n                        event.data.penpal !== MessageType.Reply ||\n                        event.data.id !== id) {\n                        return;\n                    }\n                    if (originForReceiving !== '*' &&\n                        event.origin !== originForReceiving) {\n                        log(`${localName} received message from origin ${event.origin} which did not match expected origin ${originForReceiving}`);\n                        return;\n                    }\n                    const replyMessage = event.data;\n                    log(`${localName}: Received ${methodName}() reply`);\n                    local.removeEventListener(NativeEventType.Message, handleMessageEvent);\n                    let returnValue = replyMessage.returnValue;\n                    if (replyMessage.returnValueIsError) {\n                        returnValue = deserializeError(returnValue);\n                    }\n                    (replyMessage.resolution === Resolution.Fulfilled ? resolve : reject)(returnValue);\n                };\n                local.addEventListener(NativeEventType.Message, handleMessageEvent);\n                const callMessage = {\n                    penpal: MessageType.Call,\n                    id,\n                    methodName,\n                    args,\n                };\n                remote.postMessage(callMessage, originForSending);\n            });\n        };\n    };\n    // Wrap each method in a proxy which sends it to the corresponding receiver.\n    const flattenedMethods = methodKeyPaths.reduce((api, name) => {\n        api[name] = createMethodProxy(name);\n        return api;\n    }, {});\n    // Unpack the structure of the provided methods object onto the CallSender, exposing\n    // the methods in the same shape they were provided.\n    Object.assign(callSender, deserializeMethods(flattenedMethods));\n    return () => {\n        destroyed = true;\n    };\n};\n","import connectCallReceiver from '../connectCallReceiver';\nimport connectCallSender from '../connectCallSender';\n/**\n * Handles an ACK handshake message.\n */\nexport default (serializedMethods, childOrigin, originForSending, destructor, log) => {\n    const { destroy, onDestroy } = destructor;\n    let destroyCallReceiver;\n    let receiverMethodNames;\n    // We resolve the promise with the call sender. If the child reconnects\n    // (for example, after refreshing or navigating to another page that\n    // uses Penpal, we'll update the call sender with methods that match the\n    // latest provided by the child.\n    const callSender = {};\n    return (event) => {\n        if (childOrigin !== '*' && event.origin !== childOrigin) {\n            log(`Parent: Handshake - Received ACK message from origin ${event.origin} which did not match expected origin ${childOrigin}`);\n            return;\n        }\n        log('Parent: Handshake - Received ACK');\n        const info = {\n            localName: 'Parent',\n            local: window,\n            remote: event.source,\n            originForSending: originForSending,\n            originForReceiving: childOrigin,\n        };\n        // If the child reconnected, we need to destroy the prior call receiver\n        // before setting up a new one.\n        if (destroyCallReceiver) {\n            destroyCallReceiver();\n        }\n        destroyCallReceiver = connectCallReceiver(info, serializedMethods, log);\n        onDestroy(destroyCallReceiver);\n        // If the child reconnected, we need to remove the methods from the\n        // previous call receiver off the sender.\n        if (receiverMethodNames) {\n            receiverMethodNames.forEach((receiverMethodName) => {\n                delete callSender[receiverMethodName];\n            });\n        }\n        receiverMethodNames = event.data.methodNames;\n        const destroyCallSender = connectCallSender(callSender, info, receiverMethodNames, destroy, log);\n        onDestroy(destroyCallSender);\n        return callSender;\n    };\n};\n","import { MessageType } from '../enums';\n/**\n * Handles a SYN handshake message.\n */\nexport default (log, serializedMethods, childOrigin, originForSending) => {\n    return (event) => {\n        // Under specific timing circumstances, we can receive an event\n        // whose source is null. This seems to happen when the child iframe is\n        // removed from the DOM about the same time it has sent the SYN event.\n        // https://github.com/Aaronius/penpal/issues/85\n        if (!event.source) {\n            return;\n        }\n        if (childOrigin !== '*' && event.origin !== childOrigin) {\n            log(`Parent: Handshake - Received SYN message from origin ${event.origin} which did not match expected origin ${childOrigin}`);\n            return;\n        }\n        log('Parent: Handshake - Received SYN, responding with SYN-ACK');\n        const synAckMessage = {\n            penpal: MessageType.SynAck,\n            methodNames: Object.keys(serializedMethods),\n        };\n        event.source.postMessage(synAckMessage, originForSending);\n    };\n};\n","const CHECK_IFRAME_IN_DOC_INTERVAL = 60000;\n/**\n * Monitors for iframe removal and destroys connection if iframe\n * is found to have been removed from DOM. This is to prevent memory\n * leaks when the iframe is removed from the document and the consumer\n * hasn't called destroy(). Without this, event listeners attached to\n * the window would stick around and since the event handlers have a\n * reference to the iframe in their closures, the iframe would stick\n * around too.\n */\nexport default (iframe, destructor) => {\n    const { destroy, onDestroy } = destructor;\n    const checkIframeInDocIntervalId = setInterval(() => {\n        if (!iframe.isConnected) {\n            clearInterval(checkIframeInDocIntervalId);\n            destroy();\n        }\n    }, CHECK_IFRAME_IN_DOC_INTERVAL);\n    onDestroy(() => {\n        clearInterval(checkIframeInDocIntervalId);\n    });\n};\n","import { ErrorCode } from './enums';\n/**\n * Starts a timeout and calls the callback with an error\n * if the timeout completes before the stop function is called.\n */\nexport default (timeout, callback) => {\n    let timeoutId;\n    if (timeout !== undefined) {\n        timeoutId = window.setTimeout(() => {\n            const error = new Error(`Connection timed out after ${timeout}ms`);\n            error.code = ErrorCode.ConnectionTimeout;\n            callback(error);\n        }, timeout);\n    }\n    return () => {\n        clearTimeout(timeoutId);\n    };\n};\n","import { ErrorCode } from '../enums';\nexport default (iframe) => {\n    if (!iframe.src && !iframe.srcdoc) {\n        const error = new Error('Iframe must have src or srcdoc property defined.');\n        error.code = ErrorCode.NoIframeSrc;\n        throw error;\n    }\n};\n","import { MessageType, NativeEventType } from '../enums';\nimport createDestructor from '../createDestructor';\nimport createLogger from '../createLogger';\nimport getOriginFromSrc from './getOriginFromSrc';\nimport handleAckMessageFactory from './handleAckMessageFactory';\nimport handleSynMessageFactory from './handleSynMessageFactory';\nimport { serializeMethods } from '../methodSerialization';\nimport monitorIframeRemoval from './monitorIframeRemoval';\nimport startConnectionTimeout from '../startConnectionTimeout';\nimport validateIframeHasSrcOrSrcDoc from './validateIframeHasSrcOrSrcDoc';\n/**\n * Attempts to establish communication with an iframe.\n */\nexport default (options) => {\n    let { iframe, methods = {}, childOrigin, timeout, debug = false } = options;\n    const log = createLogger(debug);\n    const destructor = createDestructor('Parent', log);\n    const { onDestroy, destroy } = destructor;\n    if (!childOrigin) {\n        validateIframeHasSrcOrSrcDoc(iframe);\n        childOrigin = getOriginFromSrc(iframe.src);\n    }\n    // If event.origin is \"null\", the remote protocol is file: or data: and we\n    // must post messages with \"*\" as targetOrigin when sending messages.\n    // https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage#Using_window.postMessage_in_extensions\n    const originForSending = childOrigin === 'null' ? '*' : childOrigin;\n    const serializedMethods = serializeMethods(methods);\n    const handleSynMessage = handleSynMessageFactory(log, serializedMethods, childOrigin, originForSending);\n    const handleAckMessage = handleAckMessageFactory(serializedMethods, childOrigin, originForSending, destructor, log);\n    const promise = new Promise((resolve, reject) => {\n        const stopConnectionTimeout = startConnectionTimeout(timeout, destroy);\n        const handleMessage = (event) => {\n            if (event.source !== iframe.contentWindow || !event.data) {\n                return;\n            }\n            if (event.data.penpal === MessageType.Syn) {\n                handleSynMessage(event);\n                return;\n            }\n            if (event.data.penpal === MessageType.Ack) {\n                const callSender = handleAckMessage(event);\n                if (callSender) {\n                    stopConnectionTimeout();\n                    resolve(callSender);\n                }\n                return;\n            }\n        };\n        window.addEventListener(NativeEventType.Message, handleMessage);\n        log('Parent: Awaiting handshake');\n        monitorIframeRemoval(iframe, destructor);\n        onDestroy((error) => {\n            window.removeEventListener(NativeEventType.Message, handleMessage);\n            if (error) {\n                reject(error);\n            }\n        });\n    });\n    return {\n        promise,\n        destroy() {\n            // Don't allow consumer to pass an error into destroy.\n            destroy();\n        },\n    };\n};\n","<script >import { fade } from 'svelte/transition';\r\nimport { createEventDispatcher } from 'svelte';\r\nexport let icon; // props\r\nconst dispatch = createEventDispatcher();\r\n</script>\r\n\r\n<button on:click={() => dispatch('click', 'detail value')}>\r\n\t<div class=\"img-container\">\r\n\t\t{#if icon === 'close'}\r\n\t\t\t<div transition:fade={{ delay: 100, duration: 100 }}>\r\n\t\t\t\t<svg\r\n\t\t\t\t\tv-if=\"icon === 'close'\"\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tenable-background=\"new 0 0 24 24\"\r\n\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t><rect fill=\"none\" height=\"24\" width=\"24\" /><path\r\n\t\t\t\t\t\td=\"M3,3v18h18V3H3z M17,15.59L15.59,17L12,13.41L8.41,17L7,15.59L10.59,12L7,8.41L8.41,7L12,10.59L15.59,7L17,8.41L13.41,12 L17,15.59z\"\r\n\t\t\t\t\t/></svg\r\n\t\t\t\t>\r\n\t\t\t</div>\r\n\t\t{/if}\r\n\t\t{#if icon === 'launch'}\r\n\t\t\t<div transition:fade={{ delay: 100, duration: 100 }}>\r\n\t\t\t\t<svg\r\n\t\t\t\t\tv-else-if=\"icon === 'launch'\"\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t><path d=\"M0 0h24v24H0z\" fill=\"none\" /><path\r\n\t\t\t\t\t\td=\"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z\"\r\n\t\t\t\t\t/></svg\r\n\t\t\t\t>\r\n\t\t\t</div>\r\n\t\t{/if}\r\n\t\t{#if icon === 'plug'}\r\n\t\t\t<div transition:fade={{ delay: 100, duration: 100 }}>\r\n\t\t\t\t<svg\r\n\t\t\t\t\tv-else-if=\"icon === 'plug'\"\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t><path d=\"M0 0h24v24H0z\" fill=\"none\" /><path\r\n\t\t\t\t\t\td=\"M16.01 7L16 3h-2v4h-4V3H8v4h-.01C7 6.99 6 7.99 6 8.99v5.49L9.5 18v3h5v-3l3.5-3.51v-5.5c0-1-1-2-1.99-1.99z\"\r\n\t\t\t\t\t/></svg\r\n\t\t\t\t>\r\n\t\t\t</div>\r\n\t\t{/if}\r\n\t\t{#if icon === 'unplug'}\r\n\t\t\t<div transition:fade={{ delay: 100, duration: 100 }}>\r\n\t\t\t\t<svg\r\n\t\t\t\t\tv-else-if=\"icon === 'unplug'\"\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t><path d=\"M0 0h24v24H0V0z\" fill=\"none\" /><path\r\n\t\t\t\t\t\td=\"M18 14.49V9c0-1-1.01-2.01-2-2V3h-2v4h-4V3H8v2.48l9.51 9.5.49-.49zm-1.76 1.77L7.2 7.2l-.01.01L3.98 4 2.71 5.25l3.36 3.36C6.04 8.74 6 8.87 6 9v5.48L9.5 18v3h5v-3l.48-.48L19.45 22l1.26-1.28-4.47-4.46z\"\r\n\t\t\t\t\t/></svg\r\n\t\t\t\t>\r\n\t\t\t</div>\r\n\t\t{/if}\r\n\t</div>\r\n\t<slot />\r\n</button>\r\n\r\n<style>\r\n\tbutton {\r\n\t\tcursor: pointer;\r\n\t\tflex: 0 0 auto;\r\n\t\tposition: relative;\r\n\t\topacity: 0.8;\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\tbutton {\r\n\t\tcolor: inherit;\r\n\t\tbackground: none;\r\n\t\tborder: none;\r\n\t\tmargin: 0;\r\n\t\tpadding: 0;\r\n\t\tfont-size: 1em;\r\n\t\tcursor: pointer;\r\n\t}\r\n\r\n\t.img-container {\r\n\t\tmargin: calc(var(--spacing) / 2);\r\n\t\twidth: 1.6em;\r\n\t\theight: 1.6em;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\tsvg {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\ttop: 0;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tposition: absolute;\r\n\t}\r\n</style>\r\n","<script >// svelte stuff\r\nimport { onMount, createEventDispatcher } from 'svelte';\r\nimport { fade } from 'svelte/transition';\r\nimport { connectToChild } from 'penpal';\r\nimport IconButton from './components/WalletSelectorIcons.svelte';\r\nimport Logo from './assets/Logo.svelte';\r\nexport let wallet = null;\r\nexport let inputUrl = 'https://peerpiper.github.io/iframe-wallet-sdk/';\r\n// flex dimensions\r\nexport let topOffsetHeight = 0;\r\nexport let topOffsetWidth = 0;\r\nexport let iframeParentHeight = 0;\r\nexport let iframeParentWidth = 0;\r\nlet iframeOffsetWidth;\r\nexport let show;\r\nexport let hide;\r\nconst dispatch = createEventDispatcher();\r\nlet src;\r\nlet placeholder = 'Enter Wallet Url';\r\nlet iframe;\r\nlet focused;\r\nlet saveInputURL;\r\nlet timer;\r\nconst INPUT_URL = 'INPUT_URL';\r\nconst data = {\r\n    loading: true // load right away\r\n};\r\n// cache user's preferred wallet URL to their browser\r\nonMount(async () => {\r\n    const { ImmortalDB } = await import('immortal-db');\r\n    saveInputURL = async () => {\r\n        try {\r\n            await ImmortalDB.set(INPUT_URL, src);\r\n        }\r\n        catch (error) {\r\n            console.warn('Did not save', src, error);\r\n        }\r\n    };\r\n    // check for URL\r\n    try {\r\n        const storedValue = await ImmortalDB.get(INPUT_URL, null);\r\n        if (storedValue) {\r\n            inputUrl = storedValue;\r\n        }\r\n    }\r\n    catch (error) {\r\n        console.warn('Did not get', error);\r\n    }\r\n    connect();\r\n});\r\n$: src && saveInputURL && saveInputURL();\r\nasync function handleIframeLoad() {\r\n    // console.log('Iframe loaded');\r\n    data.loading = false;\r\n    let pending;\r\n    const connection = connectToChild({\r\n        // The iframe to which a connection should be made.\r\n        iframe,\r\n        // Methods the parent is exposing to the child.\r\n        methods: {\r\n            setIframeParentHeight(height) {\r\n                iframeParentHeight = height;\r\n            },\r\n            setIframeParentWidth(width) {\r\n                // console.log('Rx width', width);\r\n                iframeParentWidth = width;\r\n            },\r\n            show() {\r\n                show();\r\n            },\r\n            hide() {\r\n                hide();\r\n            },\r\n            walletReady() {\r\n                wallet = pending; // when using svelte bind:wallet\r\n                dispatch('walletReady', { wallet }); // when using vanilla JS\r\n                // overwrite any other arweave wallets on the window object\r\n                // @ts-ignore\r\n                window.arweaveWallet = wallet.arweaveWalletAPI;\r\n                return true;\r\n            }\r\n        }\r\n    });\r\n    pending = await connection.promise;\r\n    show();\r\n}\r\nconst connect = () => {\r\n    if (src === inputUrl)\r\n        return;\r\n    src = '';\r\n    src = inputUrl;\r\n    data.loading = true;\r\n};\r\nconst disconnect = () => wallet.disconnect();\r\nconst togglePopup = () => window.open(inputUrl);\r\nfunction handleKeydown(event) {\r\n    if (event.key === 'Enter' && focused)\r\n        connect();\r\n}\r\n$: iframe && iframe.addEventListener('load', handleIframeLoad);\r\n$: popupIcon = wallet?.keepPopup ? 'close' : 'launch';\r\n$: connectionIcon = wallet?.address ? 'unplug' : 'plug';\r\n$: iframeOffsetWidth && wallet && wallet?.setWidth(iframeOffsetWidth);\r\n</script>\r\n\r\n<svelte:window on:keydown={handleKeydown} />\r\n\r\n<div class=\"connector-container\">\r\n\t<div\r\n\t\tclass=\"top\"\r\n\t\tbind:offsetHeight={topOffsetHeight}\r\n\t\tbind:offsetWidth={topOffsetWidth}\r\n\t\tstyle=\"--topOffsetHeight: {topOffsetHeight};\"\r\n\t>\r\n\t\t<a href=\"https://PeerPiper.io\" target=\"_blank\" rel=\"noreferrer\">\r\n\t\t\t<div class=\"actions logo\">\r\n\t\t\t\t<Logo />\r\n\t\t\t</div></a\r\n\t\t>\r\n\t\t<div class=\"url-input-container\">\r\n\t\t\t<input\r\n\t\t\t\tclass=\"url\"\r\n\t\t\t\t{placeholder}\r\n\t\t\t\ton:focus={() => (focused = true)}\r\n\t\t\t\ton:blur={() => (focused = false)}\r\n\t\t\t\tbind:value={inputUrl}\r\n\t\t\t\ton:input={saveInputURL}\r\n\t\t\t/>\r\n\t\t\t<span class=\"green-line\" />\r\n\t\t</div>\r\n\t\t<div class=\"actions\">\r\n\t\t\t{#if wallet?.address || inputUrl}\r\n\t\t\t\t<div\r\n\t\t\t\t\ttransition:fade={{ delay: 100, duration: 100 }}\r\n\t\t\t\t\tclass={!wallet?.keepPopup ? 'action dim' : 'action'}\r\n\t\t\t\t>\r\n\t\t\t\t\t<IconButton icon={popupIcon} on:click={togglePopup} />\r\n\t\t\t\t</div>\r\n\t\t\t{/if}\r\n\r\n\t\t\t<div\r\n\t\t\t\tclass={data?.loading\r\n\t\t\t\t\t? 'action dim'\r\n\t\t\t\t\t: 'action' && wallet?.address\r\n\t\t\t\t\t? ' connected '\r\n\t\t\t\t\t: ' disconnected '}\r\n\t\t\t>\r\n\t\t\t\t<IconButton\r\n\t\t\t\t\ticon={connectionIcon}\r\n\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\twallet?.address ? disconnect() : connect();\r\n\t\t\t\t\t}}\r\n\t\t\t\t\t><span class={wallet?.address ? ' connected ' : ' disconnected '}>\r\n\t\t\t\t\t\t{data.loading || !src ? 'Loading...' : 'Load'}\r\n\t\t\t\t\t</span></IconButton\r\n\t\t\t\t>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div\r\n\t\tclass=\"iframe\"\r\n\t\tstyle=\"height: calc({iframeParentHeight}px + 18px)\"\r\n\t\tbind:offsetWidth={iframeOffsetWidth}\r\n\t>\r\n\t\t<iframe\r\n\t\t\ttitle=\"Web Wallet\"\r\n\t\t\tbind:this={iframe}\r\n\t\t\t{src}\r\n\t\t\tallow=\"clipboard-read 'self' 'src'; clipboard-write 'self' 'src';\"\r\n\t\t/>\r\n\t\t<!-- allow=\"clipboard-read 'self' 'src' {src}; clipboard-write 'self' 'src' {src};\" -->\r\n\t</div>\r\n</div>\r\n\r\n<style>\r\n\tdiv {\r\n\t\t--spacing: 1em;\r\n\t}\r\n\t.connector-container {\r\n\t\tpadding: 1.618em;\r\n\t}\r\n\tdiv {\r\n\t\t--background: #161616;\r\n\t}\r\n\t.top {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t}\r\n\tiframe {\r\n\t\tborder: none;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\t.iframe {\r\n\t\tdisplay: flex;\r\n\t\theight: 100%;\r\n\t}\r\n\t.logo {\r\n\t\tflex: 0 0 auto;\r\n\t\tposition: relative;\r\n\t\topacity: 1;\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tpadding: calc(var(--spacing) / 2);\r\n\t}\r\n\r\n\t.url {\r\n\t\tpadding: var(--spacing);\r\n\t\tpadding-right: 0;\r\n\t\tflex: 1 1 0;\r\n\t\tmin-width: 0;\r\n\t\toutline: none;\r\n\t\tbackground-color: var(--background);\r\n\t}\r\n\r\n\t.green-line {\r\n\t\tborder-bottom: 4px solid #0eff02;\r\n\t\tmargin-left: var(--spacing);\r\n\t\tflex: 1;\r\n\t\tposition: relative;\r\n\t\ttop: -8px;\r\n\t}\r\n\r\n\t.actions {\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.actions:last-child {\r\n\t\tpadding-right: calc(var(--spacing) / 2);\r\n\t}\r\n\r\n\t.action.dim {\r\n\t\topacity: 0.9;\r\n\t\tcolor: #e0f7fa;\r\n\t}\r\n\r\n\t.connected {\r\n\t\tcolor: greenyellow;\r\n\t\ttext-shadow: 1px 1px 3px black;\r\n\t}\r\n\r\n\t.disconnected {\r\n\t\tcolor: #e0f7fa;\r\n\t\ttext-shadow: 1px 1px 3px black;\r\n\t}\r\n\r\n\t.url-input-container {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\tinput {\r\n\t\tflex: 1 1 0;\r\n\t\tcolor: whitesmoke;\r\n\t\tbackground: none;\r\n\t\tborder: none;\r\n\t\tmargin: 0;\r\n\t\tpadding: 0;\r\n\t\tfont-size: 0.95em;\r\n\t\tmin-width: 15ch;\r\n\t}\r\n</style>\r\n","<script>\r\n\timport { onMount } from 'svelte';\r\n\timport MenuWrapper from './MenuWrapper.svelte';\r\n\timport ConnectorInside from './ConnectorInside.svelte';\r\n\r\n\texport let inputUrl;\r\n\texport let wallet = null;\r\n\r\n\tlet mounted;\r\n\r\n\tonMount(() => {\r\n\t\tmounted = true;\r\n\t});\r\n</script>\r\n\r\n{#if mounted}\r\n\t<MenuWrapper let:openNav let:hideNav>\r\n\t\t<ConnectorInside bind:wallet {inputUrl} show={openNav} hide={hideNav} on:walletReady />\r\n\t</MenuWrapper>\r\n{/if}\r\n","<script lang=\"ts\">\r\n\timport { onMount } from 'svelte';\r\n\timport { DIDAr } from '@peerpiper/did-ar';\r\n\timport { Web3WalletMenu } from '@peerpiper/web3-wallet-connector';\r\n\t// @ts-ignore\r\n\timport type { handlers } from '@peerpiper/iframe-wallet-sdk';\r\n\r\n\tlet wallet: handlers;\r\n\tlet RSAPublicKey: { kty: string; n: string; e: string; kid?: string };\r\n\tlet Ed25519PublicKey: Uint8Array;\r\n\tlet srcTx: string | null;\r\n\tlet ready: boolean;\r\n\r\n\tconst walletReady = async (e: CustomEvent) => {\r\n\t\twallet = e.detail.wallet;\r\n\t\tRSAPublicKey = await wallet.arweaveWalletAPI.getActivePublicKey();\r\n\t\tEd25519PublicKey = await wallet.proxcryptor.getPublicKey();\r\n\t};\r\n\r\n\tonMount(async () => {\r\n\t\t// check if localStorage has  srcTx, else leave as null\r\n\t\tsrcTx = localStorage.getItem('srcTx'); // || '0BkUeNAfOF6NzYmVJ__4eDdeKoFshJ5BzxOxOitJmXk'; // https://sonar.warp.cc/#/app/source/0BkUeNAfOF6NzYmVJ__4eDdeKoFshJ5BzxOxOitJmXk#code\r\n\t\tready = true;\r\n\t});\r\n\r\n\t$: if (srcTx) {\r\n\t\t// svae to localstorage\r\n\t\tlocalStorage.setItem('srcTx', srcTx);\r\n\t}\r\n</script>\r\n\r\n<Web3WalletMenu on:walletReady={walletReady} />\r\n\r\n<div class=\"flex flex-col items-center m-2 p-2\">\r\n\t{#if ready}\r\n\t\t<DIDAr {wallet} {RSAPublicKey} {Ed25519PublicKey} bind:srcTx />\r\n\t{/if}\r\n</div>\r\n"],"file":"_app/immutable/chunks/_page-38e943aa.js"}