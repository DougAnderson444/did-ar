import{S as pe,i as ve,s as me,k as P,q as Ne,a as G,e as De,l as M,m as A,r as Ve,h as g,c as Y,n as f,b as H,F as b,H as te,A as Re,o as Be,u as ct,I as O,J as z,K as Te,B as ft,v as se,w as ie,L as ke,x as oe,M as Mt,C as ut,D as dt,E as ht,f as C,t as W,y as ae,N as gt,O as Lt,g as ue,d as de,P as pt,Q as ge,R as x,T as Ie,p as Ue,U as Xe,V as $e,W as je,X as Ut,Y as Nt,Z as vt,_ as Vt,$ as Ot,a0 as zt}from"./index-356f8d2d.js";import{_ as mt}from"./preload-helper-aa6bc0ce.js";function qe(n){let e,t;return{c(){e=P("div"),t=Ne(n[0]),this.h()},l(r){e=M(r,"DIV",{class:!0});var s=A(e);t=Ve(s,n[0]),s.forEach(g),this.h()},h(){f(e,"class","bg-green-600 hover:bg-green-500 shadow rounded-lg m-4 p-4 w-fit text-white")},m(r,s){H(r,e,s),b(e,t)},p(r,s){s&1&&ct(t,r[0])},d(r){r&&g(e)}}}function Wt(n){let e,t,r="production",s,l,i,o,a,u=n[0]&&qe(n);return{c(){e=P("div"),t=Ne("Create Identity on "),s=Ne(r),l=G(),u&&u.c(),i=De(),this.h()},l(c){e=M(c,"DIV",{class:!0});var h=A(e);t=Ve(h,"Create Identity on "),s=Ve(h,r),h.forEach(g),l=Y(c),u&&u.l(c),i=De(),this.h()},h(){f(e,"class","bg-blue-600 hover:bg-blue-500 shadow rounded-lg m-4 p-4 w-fit text-white cursor-pointer")},m(c,h){H(c,e,h),b(e,t),b(e,s),H(c,l,h),u&&u.m(c,h),H(c,i,h),o||(a=te(e,"click",n[1]),o=!0)},p(c,[h]){c[0]?u?u.p(c,h):(u=qe(c),u.c(),u.m(i.parentNode,i)):u&&(u.d(1),u=null)},i:Re,o:Re,d(c){c&&g(e),c&&g(l),u&&u.d(c),c&&g(i),o=!1,a()}}}function Tt(n,e,t){let{RSAPublicKey:r}=e,{Ed25519PublicKey:s}=e,{wallet:l}=e,i,o,a;Be(async()=>{({createDid:i}=await mt(()=>import("./didar-eaf0aa0d.js"),["didar-eaf0aa0d.js","preload-helper-aa6bc0ce.js"],import.meta.url))});async function u(){a=await l.arweaveWalletAPI.getActiveAddress(),t(0,o=await i({RSAPublicKey:r,Ed25519PublicKey:s,options:{walletAddress:a}}))}return n.$$set=c=>{"RSAPublicKey"in c&&t(2,r=c.RSAPublicKey),"Ed25519PublicKey"in c&&t(3,s=c.Ed25519PublicKey),"wallet"in c&&t(4,l=c.wallet)},[o,u,r,s,l]}class Ht extends pe{constructor(e){super(),ve(this,e,Tt,Wt,me,{RSAPublicKey:2,Ed25519PublicKey:3,wallet:4})}}function Kt(n,e){if(n.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var s=0;s<n.length;s++){var l=n.charAt(s),i=l.charCodeAt(0);if(t[i]!==255)throw new TypeError(l+" is ambiguous");t[i]=s}var o=n.length,a=n.charAt(0),u=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function h(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var v=0,m=0,k=0,y=p.length;k!==y&&p[k]===0;)k++,v++;for(var d=(y-k)*c+1>>>0,E=new Uint8Array(d);k!==y;){for(var I=p[k],U=0,R=d-1;(I!==0||U<m)&&R!==-1;R--,U++)I+=256*E[R]>>>0,E[R]=I%o>>>0,I=I/o>>>0;if(I!==0)throw new Error("Non-zero carry");m=U,k++}for(var V=d-m;V!==d&&E[V]===0;)V++;for(var X=a.repeat(v);V<d;++V)X+=n.charAt(E[V]);return X}function w(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var v=0;if(p[v]!==" "){for(var m=0,k=0;p[v]===a;)m++,v++;for(var y=(p.length-v)*u+1>>>0,d=new Uint8Array(y);p[v];){var E=t[p.charCodeAt(v)];if(E===255)return;for(var I=0,U=y-1;(E!==0||I<k)&&U!==-1;U--,I++)E+=o*d[U]>>>0,d[U]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");k=I,v++}if(p[v]!==" "){for(var R=y-k;R!==y&&d[R]===0;)R++;for(var V=new Uint8Array(m+(y-R)),X=m;R!==y;)V[X++]=d[R++];return V}}}function _(p){var v=w(p);if(v)return v;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:w,decode:_}}var Bt=Kt,Ft=Bt;const Gt=n=>{if(n instanceof Uint8Array&&n.constructor.name==="Uint8Array")return n;if(n instanceof ArrayBuffer)return new Uint8Array(n);if(ArrayBuffer.isView(n))return new Uint8Array(n.buffer,n.byteOffset,n.byteLength);throw new Error("Unknown type, must be binary type")};class Yt{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Xt{constructor(e,t,r){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return _t(this,e)}}class $t{constructor(e){this.decoders=e}or(e){return _t(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const _t=(n,e)=>new $t({...n.decoders||{[n.prefix]:n},...e.decoders||{[e.prefix]:e}});class jt{constructor(e,t,r,s){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=s,this.encoder=new Yt(e,t,r),this.decoder=new Xt(e,t,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const wt=({name:n,prefix:e,encode:t,decode:r})=>new jt(n,e,t,r),yt=({prefix:n,name:e,alphabet:t})=>{const{encode:r,decode:s}=Ft(t,e);return wt({prefix:n,name:e,encode:r,decode:l=>Gt(s(l))})},qt=(n,e,t,r)=>{const s={};for(let c=0;c<e.length;++c)s[e[c]]=c;let l=n.length;for(;n[l-1]==="=";)--l;const i=new Uint8Array(l*t/8|0);let o=0,a=0,u=0;for(let c=0;c<l;++c){const h=s[n[c]];if(h===void 0)throw new SyntaxError(`Non-${r} character`);a=a<<t|h,o+=t,o>=8&&(o-=8,i[u++]=255&a>>o)}if(o>=t||255&a<<8-o)throw new SyntaxError("Unexpected end of data");return i},Jt=(n,e,t)=>{const r=e[e.length-1]==="=",s=(1<<t)-1;let l="",i=0,o=0;for(let a=0;a<n.length;++a)for(o=o<<8|n[a],i+=8;i>t;)i-=t,l+=e[s&o>>i];if(i&&(l+=e[s&o<<t-i]),r)for(;l.length*t&7;)l+="=";return l},Oe=({name:n,prefix:e,bitsPerChar:t,alphabet:r})=>wt({prefix:e,name:n,encode(s){return Jt(s,r,t)},decode(s){return qt(s,r,t,n)}});yt({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});yt({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});Oe({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6});Oe({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});const tr=Oe({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6});Oe({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});function Zt(n,e){var t=e&&e.cache?e.cache:ln,r=e&&e.serializer?e.serializer:rn,s=e&&e.strategy?e.strategy:nn;return s(n,{cache:t,serializer:r})}function Qt(n){return n==null||typeof n=="number"||typeof n=="boolean"}function xt(n,e,t,r){var s=Qt(r)?r:t(r),l=e.get(s);return typeof l>"u"&&(l=n.call(this,r),e.set(s,l)),l}function en(n,e,t){var r=Array.prototype.slice.call(arguments,3),s=t(r),l=e.get(s);return typeof l>"u"&&(l=n.apply(this,r),e.set(s,l)),l}function tn(n,e,t,r,s){return t.bind(e,n,r,s)}function nn(n,e){var t=n.length===1?xt:en;return tn(n,this,t,e.cache.create(),e.serializer)}function rn(){return JSON.stringify(arguments)}function ze(){this.cache=Object.create(null)}ze.prototype.has=function(n){return n in this.cache};ze.prototype.get=function(n){return this.cache[n]};ze.prototype.set=function(n,e){this.cache[n]=e};var ln={create:function(){return new ze}},sn=Zt,Ae={MAIN:"svelte-draggable",DRAGGING:"svelte-draggable-dragging",DRAGGED:"svelte-draggable-dragged"},on=(n,e={})=>{var t,r;let{bounds:s,axis:l="both",gpuAcceleration:i=!0,applyUserSelectHack:o=!0,disabled:a=!1,ignoreMultitouch:u=!1,grid:c,position:h,cancel:w,handle:_,defaultClass:p=Ae.MAIN,defaultClassDragging:v=Ae.DRAGGING,defaultClassDragged:m=Ae.DRAGGED,defaultPosition:k={x:0,y:0},onDragStart:y,onDrag:d,onDragEnd:E}=e;const I=new Promise(requestAnimationFrame);let U=!1,[R,V]=[0,0],[X,L]=[0,0],[ne,T]=[0,0],{x:N,y:B}={x:(t=h==null?void 0:h.x)!=null?t:0,y:(r=h==null?void 0:h.y)!=null?r:0};He(N,B,n,i);let q,S,K="",F,Z,_e,Se,It=!!h;const We=()=>({offsetX:R,offsetY:V,domRect:n.getBoundingClientRect()});function St(D){const $=We();D.dispatchEvent(new CustomEvent("svelte-drag:start",{detail:$})),y==null||y($)}function Rt(D){const $=We();D.dispatchEvent(new CustomEvent("svelte-drag:end",{detail:$})),E==null||E($)}function Ct(D,$,re){const j=We();D.dispatchEvent(new CustomEvent("svelte-drag",{detail:j})),d==null||d(j)}const we=addEventListener;we("touchstart",Pe,!1),we("touchend",Me,!1),we("touchmove",Le,!1),we("mousedown",Pe,!1),we("mouseup",Me,!1),we("mousemove",Le,!1),n.style.touchAction="none";const Fe=()=>{let D=n.offsetWidth/Z.width;return isNaN(D)&&(D=1),D};function Pe(D){if(a||u&&D.type==="touchstart"&&D.touches.length>1)return;if(n.classList.add(p),_e=cn(_,n),Se=fn(w,n),q=["both","x"].includes(l),S=["both","y"].includes(l),typeof s<"u"&&(F=un(s,n)),Z=n.getBoundingClientRect(),Qe(_)&&Qe(w)&&_===w)throw new Error("`handle` selector can't be same as `cancel` selector");if(Se!=null&&Se.contains(_e))throw new Error("Element being dragged can't be a child of the element on which `cancel` is applied");if(_e.contains(D.target)&&!(Se!=null&&Se.contains(D.target))&&(U=!0),!U)return;o&&(K=document.body.style.userSelect,document.body.style.userSelect="none"),St(n);const{clientX:$,clientY:re}=Je(D)?D.touches[0]:D,j=Fe();q&&(X=$-N/j),S&&(L=re-B/j),F&&(ne=$-Z.left,T=re-Z.top)}function Me(){!U||(n.classList.remove(v),n.classList.add(m),o&&(document.body.style.userSelect=K),Rt(n),q&&(X=R),q&&(L=V),U=!1)}function Le(D){if(!U)return;n.classList.add(v),D.preventDefault(),Z=n.getBoundingClientRect();const{clientX:$,clientY:re}=Je(D)?D.touches[0]:D;let[j,le]=[$,re];const fe=Fe();if(F){const J={left:F.left+ne,top:F.top+T,right:F.right+ne-Z.width,bottom:F.bottom+T-Z.height};j=Ze(j,J.left,J.right),le=Ze(le,J.top,J.bottom)}if(Array.isArray(c)){let[J,ye]=c;if(isNaN(+J)||J<0)throw new Error("1st argument of `grid` must be a valid positive number");if(isNaN(+ye)||ye<0)throw new Error("2nd argument of `grid` must be a valid positive number");let[be,Ee]=[j-X,le-L];[be,Ee]=an([Math.floor(J/fe),Math.floor(ye/fe)],be,Ee),[j,le]=[X+be,L+Ee]}q&&(R=(j-X)*fe),S&&(V=(le-L)*fe),[N,B]=[R,V],Ct(n),I.then(()=>He(R,V,n,i))}return{destroy:()=>{const D=removeEventListener;D("touchstart",Pe,!1),D("touchend",Me,!1),D("touchmove",Le,!1),D("mousedown",Pe,!1),D("mouseup",Me,!1),D("mousemove",Le,!1)},update:D=>{var $,re,j,le,fe,J,ye,be,Ee,Ge,Ye;l=D.axis||"both",a=($=D.disabled)!=null?$:!1,u=(re=D.ignoreMultitouch)!=null?re:!1,_=D.handle,s=D.bounds,w=D.cancel,o=(j=D.applyUserSelectHack)!=null?j:!0,c=D.grid,i=(le=D.gpuAcceleration)!=null?le:!0;const Pt=n.classList.contains(m);n.classList.remove(p,m),p=(fe=D.defaultClass)!=null?fe:Ae.MAIN,v=(J=D.defaultClassDragging)!=null?J:Ae.DRAGGING,m=(ye=D.defaultClassDragged)!=null?ye:Ae.DRAGGED,n.classList.add(p),Pt&&n.classList.add(m),It&&(N=R=(Ee=(be=D.position)==null?void 0:be.x)!=null?Ee:R,B=V=(Ye=(Ge=D.position)==null?void 0:Ge.y)!=null?Ye:V,I.then(()=>He(R,V,n,i)))}}};function Je(n){return Boolean(n.touches&&n.touches.length)}function Ze(n,e,t){return Math.min(Math.max(n,e),t)}function Qe(n){return typeof n=="string"}var an=sn(([n,e],t,r)=>{const s=Math.round(t/n)*n,l=Math.round(r/e)*e;return[s,l]});function cn(n,e){if(!n)return e;const t=e.querySelector(n);if(t===null)throw new Error("Selector passed for `handle` option should be child of the element on which the action is applied");return t}function fn(n,e){if(!n)return;const t=e.querySelector(n);if(t===null)throw new Error("Selector passed for `cancel` option should be child of the element on which the action is applied");return t}function un(n,e){if(typeof n=="object"){const[s,l]=[window.innerWidth,window.innerHeight],{top:i=0,left:o=0,right:a=0,bottom:u=0}=n,c=s-a,h=l-u;return{top:i,right:c,bottom:h,left:o}}if(n==="parent")return e.parentNode.getBoundingClientRect();const t=document.querySelector(n);if(t===null)throw new Error("The selector provided for bound doesn't exists in the document.");return t.getBoundingClientRect()}function He(n,e,t,r){t.style.transform=r?`translate3d(${+n}px, ${+e}px, 0)`:`translate(${+n}px, ${+e}px)`}function dn(n){let e,t,r,s,l,i,o,a,u,c,h,w,_;return{c(){e=P("div"),t=O("svg"),r=O("defs"),s=O("defs"),l=O("path"),i=O("path"),o=O("path"),a=O("radialGradient"),u=O("stop"),c=O("stop"),h=O("use"),w=O("use"),_=O("use"),this.h()},l(p){e=M(p,"DIV",{});var v=A(e);t=z(v,"svg",{xmlns:!0,"xmlns:xlink":!0,viewBox:!0,width:!0,height:!0,class:!0});var m=A(t);r=z(m,"defs",{}),A(r).forEach(g),s=z(m,"defs",{});var k=A(s);l=z(k,"path",{id:!0,d:!0}),A(l).forEach(g),i=z(k,"path",{id:!0,d:!0}),A(i).forEach(g),o=z(k,"path",{id:!0,d:!0}),A(o).forEach(g),a=z(k,"radialGradient",{id:!0,cx:!0,cy:!0,r:!0,gradientUnits:!0});var y=A(a);u=z(y,"stop",{offset:!0,"stop-color":!0}),A(u).forEach(g),c=z(y,"stop",{offset:!0,"stop-color":!0}),A(c).forEach(g),y.forEach(g),k.forEach(g),h=z(m,"use",{fill:!0,"xlink:href":!0}),A(h).forEach(g),w=z(m,"use",{fill:!0,"xlink:href":!0}),A(w).forEach(g),_=z(m,"use",{fill:!0,"xlink:href":!0}),A(_).forEach(g),m.forEach(g),v.forEach(g),this.h()},h(){f(l,"id","a"),f(l,"d","M258 1321c9-304 6-917 0-1191 52-161 1082-280 1083 330 1 609-618 545-701 538-2 67-2 208 0 422-222 56-349 23-382-99z"),f(i,"id","c"),f(i,"d","M1122 560c-107 223-284 293-529 209l-38 79c-1 2-4 2-5-1l-99-287c-1-5 1-11 6-13l273-106c3-1 6 2 5 5l-36 75c70 126 211 139 423 39z"),f(o,"id","d"),f(o,"d","M451 447c107-223 284-292 529-209l38-78c1-3 5-2 5 0l99 288c1 5-1 10-6 12L843 567c-3 1-6-3-5-6l37-75c-71-126-212-139-424-39z"),f(u,"offset","0%"),f(u,"stop-color","#69ed66"),f(c,"offset","100%"),f(c,"stop-color","#279c19"),f(a,"id","b"),f(a,"cx","992.3"),f(a,"cy","174.2"),f(a,"r","1312.8"),f(a,"gradientUnits","userSpaceOnUse"),f(h,"fill","url(#b)"),Te(h,"xlink:href","#a"),f(w,"fill","#fff"),Te(w,"xlink:href","#c"),f(_,"fill","#fff"),Te(_,"xlink:href","#d"),f(t,"xmlns","http://www.w3.org/2000/svg"),f(t,"xmlns:xlink","http://www.w3.org/1999/xlink"),f(t,"viewBox","0 0 1440 1440"),f(t,"width","100"),f(t,"height","100"),f(t,"class","svelte-189qcdl")},m(p,v){H(p,e,v),b(e,t),b(t,r),b(t,s),b(s,l),b(s,i),b(s,o),b(s,a),b(a,u),b(a,c),b(t,h),b(t,w),b(t,_)},p:Re,i:Re,o:Re,d(p){p&&g(e)}}}class bt extends pe{constructor(e){super(),ve(this,e,null,dn,me,{})}}const hn=n=>({openNav:n&1,hideNav:n&1}),xe=n=>({openNav:n[5],hideNav:n[6]});function gn(n){let e,t,r,s,l,i,o,a,u,c,h,w,_,p,v,m;t=new bt({});const k=n[4].default,y=ft(k,n,n[3],xe);return{c(){e=P("div"),se(t.$$.fragment),r=G(),s=P("div"),l=P("div"),i=G(),o=P("div"),a=G(),u=P("div"),c=G(),h=P("div"),w=G(),_=P("div"),y&&y.c(),this.h()},l(d){e=M(d,"DIV",{class:!0});var E=A(e);ie(t.$$.fragment,E),r=Y(E),s=M(E,"DIV",{class:!0});var I=A(s);l=M(I,"DIV",{class:!0}),A(l).forEach(g),i=Y(I),o=M(I,"DIV",{class:!0}),A(o).forEach(g),a=Y(I),u=M(I,"DIV",{class:!0}),A(u).forEach(g),I.forEach(g),E.forEach(g),c=Y(d),h=M(d,"DIV",{class:!0}),A(h).forEach(g),w=Y(d),_=M(d,"DIV",{class:!0});var U=A(_);y&&y.l(U),U.forEach(g),this.h()},h(){f(l,"class","bar1 svelte-17gml3n"),f(o,"class","bar2 svelte-17gml3n"),f(u,"class","bar3 svelte-17gml3n"),f(s,"class","menu-icon svelte-17gml3n"),f(e,"class","container svelte-17gml3n"),ke(e,"change",n[0]),f(h,"class","svelte-17gml3n"),ke(h,"mask",n[0]),f(_,"class","sidenav svelte-17gml3n"),ke(_,"open",n[0])},m(d,E){H(d,e,E),oe(t,e,null),b(e,r),b(e,s),b(s,l),b(s,i),b(s,o),b(s,a),b(s,u),H(d,c,E),H(d,h,E),H(d,w,E),H(d,_,E),y&&y.m(_,null),p=!0,v||(m=[te(e,"click",n[1]),Mt(on.call(null,e)),te(h,"click",n[2])],v=!0)},p(d,[E]){(!p||E&1)&&ke(e,"change",d[0]),(!p||E&1)&&ke(h,"mask",d[0]),y&&y.p&&(!p||E&9)&&ut(y,k,d,d[3],p?ht(k,d[3],E,hn):dt(d[3]),xe),(!p||E&1)&&ke(_,"open",d[0])},i(d){p||(C(t.$$.fragment,d),C(y,d),p=!0)},o(d){W(t.$$.fragment,d),W(y,d),p=!1},d(d){d&&g(e),ae(t),d&&g(c),d&&g(h),d&&g(w),d&&g(_),y&&y.d(d),v=!1,gt(m)}}}function pn(n,e,t){let{$$slots:r={},$$scope:s}=e,l=!1;function i(){t(0,l=!l)}function o(c){t(0,l=!1)}const a=()=>t(0,l=!0),u=()=>t(0,l=!1);return n.$$set=c=>{"$$scope"in c&&t(3,s=c.$$scope)},[l,i,o,s,r,a,u]}class vn extends pe{constructor(e){super(),ve(this,e,pn,gn,me,{})}}function ee(n,{delay:e=0,duration:t=400,easing:r=Lt}={}){const s=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:r,css:l=>`opacity: ${l*s}`}}var Q;(function(n){n.Call="call",n.Reply="reply",n.Syn="syn",n.SynAck="synAck",n.Ack="ack"})(Q||(Q={}));var he;(function(n){n.Fulfilled="fulfilled",n.Rejected="rejected"})(he||(he={}));var Ce;(function(n){n.ConnectionDestroyed="ConnectionDestroyed",n.ConnectionTimeout="ConnectionTimeout",n.NoIframeSrc="NoIframeSrc"})(Ce||(Ce={}));var Ke;(function(n){n.DataCloneError="DataCloneError"})(Ke||(Ke={}));var ce;(function(n){n.Message="message"})(ce||(ce={}));const mn=(n,e)=>{const t=[];let r=!1;return{destroy(s){r||(r=!0,e(`${n}: Destroying connection`),t.forEach(l=>{l(s)}))},onDestroy(s){r?s():t.push(s)}}},_n=n=>(...e)=>{n&&console.log("[Penpal]",...e)},wn={"http:":"80","https:":"443"},yn=/^(https?:)?\/\/([^/:]+)?(:(\d+))?/,bn=["file:","data:"],En=n=>{if(n&&bn.find(o=>n.startsWith(o)))return"null";const e=document.location,t=yn.exec(n);let r,s,l;t?(r=t[1]?t[1]:e.protocol,s=t[2],l=t[4]):(r=e.protocol,s=e.hostname,l=e.port);const i=l&&l!==wn[r]?`:${l}`:"";return`${r}//${s}${i}`},et=({name:n,message:e,stack:t})=>({name:n,message:e,stack:t}),kn=n=>{const e=new Error;return Object.keys(n).forEach(t=>e[t]=n[t]),e},An=(n,e,t)=>{const{localName:r,local:s,remote:l,originForSending:i,originForReceiving:o}=n;let a=!1;const u=c=>{if(c.source!==l||c.data.penpal!==Q.Call)return;if(o!=="*"&&c.origin!==o){t(`${r} received message from origin ${c.origin} which did not match expected origin ${o}`);return}const h=c.data,{methodName:w,args:_,id:p}=h;t(`${r}: Received ${w}() call`);const v=m=>k=>{if(t(`${r}: Sending ${w}() reply`),a){t(`${r}: Unable to send ${w}() reply due to destroyed connection`);return}const y={penpal:Q.Reply,id:p,resolution:m,returnValue:k};m===he.Rejected&&k instanceof Error&&(y.returnValue=et(k),y.returnValueIsError=!0);try{l.postMessage(y,i)}catch(d){if(d.name===Ke.DataCloneError){const E={penpal:Q.Reply,id:p,resolution:he.Rejected,returnValue:et(d),returnValueIsError:!0};l.postMessage(E,i)}throw d}};new Promise(m=>m(e[w].apply(e,_))).then(v(he.Fulfilled),v(he.Rejected))};return s.addEventListener(ce.Message,u),()=>{a=!0,s.removeEventListener(ce.Message,u)}};let Dn=0;const In=()=>++Dn,Et=".",kt=n=>n?n.split(Et):[],Sn=n=>n.join(Et),Rn=(n,e)=>{const t=kt(e||"");return t.push(n),Sn(t)},Cn=(n,e,t)=>{const r=kt(e);return r.reduce((s,l,i)=>(typeof s[l]>"u"&&(s[l]={}),i===r.length-1&&(s[l]=t),s[l]),n),n},At=(n,e)=>{const t={};return Object.keys(n).forEach(r=>{const s=n[r],l=Rn(r,e);typeof s=="object"&&Object.assign(t,At(s,l)),typeof s=="function"&&(t[l]=s)}),t},Pn=n=>{const e={};for(const t in n)Cn(e,t,n[t]);return e},Mn=(n,e,t,r,s)=>{const{localName:l,local:i,remote:o,originForSending:a,originForReceiving:u}=e;let c=!1;s(`${l}: Connecting call sender`);const h=_=>(...p)=>{s(`${l}: Sending ${_}() call`);let v;try{o.closed&&(v=!0)}catch{v=!0}if(v&&r(),c){const m=new Error(`Unable to send ${_}() call due to destroyed connection`);throw m.code=Ce.ConnectionDestroyed,m}return new Promise((m,k)=>{const y=In(),d=I=>{if(I.source!==o||I.data.penpal!==Q.Reply||I.data.id!==y)return;if(u!=="*"&&I.origin!==u){s(`${l} received message from origin ${I.origin} which did not match expected origin ${u}`);return}const U=I.data;s(`${l}: Received ${_}() reply`),i.removeEventListener(ce.Message,d);let R=U.returnValue;U.returnValueIsError&&(R=kn(R)),(U.resolution===he.Fulfilled?m:k)(R)};i.addEventListener(ce.Message,d);const E={penpal:Q.Call,id:y,methodName:_,args:p};o.postMessage(E,a)})},w=t.reduce((_,p)=>(_[p]=h(p),_),{});return Object.assign(n,Pn(w)),()=>{c=!0}},Ln=(n,e,t,r,s)=>{const{destroy:l,onDestroy:i}=r;let o,a;const u={};return c=>{if(e!=="*"&&c.origin!==e){s(`Parent: Handshake - Received ACK message from origin ${c.origin} which did not match expected origin ${e}`);return}s("Parent: Handshake - Received ACK");const h={localName:"Parent",local:window,remote:c.source,originForSending:t,originForReceiving:e};o&&o(),o=An(h,n,s),i(o),a&&a.forEach(_=>{delete u[_]}),a=c.data.methodNames;const w=Mn(u,h,a,l,s);return i(w),u}},Un=(n,e,t,r)=>s=>{if(!s.source)return;if(t!=="*"&&s.origin!==t){n(`Parent: Handshake - Received SYN message from origin ${s.origin} which did not match expected origin ${t}`);return}n("Parent: Handshake - Received SYN, responding with SYN-ACK");const l={penpal:Q.SynAck,methodNames:Object.keys(e)};s.source.postMessage(l,r)},Nn=6e4,Vn=(n,e)=>{const{destroy:t,onDestroy:r}=e,s=setInterval(()=>{n.isConnected||(clearInterval(s),t())},Nn);r(()=>{clearInterval(s)})},On=(n,e)=>{let t;return n!==void 0&&(t=window.setTimeout(()=>{const r=new Error(`Connection timed out after ${n}ms`);r.code=Ce.ConnectionTimeout,e(r)},n)),()=>{clearTimeout(t)}},zn=n=>{if(!n.src&&!n.srcdoc){const e=new Error("Iframe must have src or srcdoc property defined.");throw e.code=Ce.NoIframeSrc,e}},Wn=n=>{let{iframe:e,methods:t={},childOrigin:r,timeout:s,debug:l=!1}=n;const i=_n(l),o=mn("Parent",i),{onDestroy:a,destroy:u}=o;r||(zn(e),r=En(e.src));const c=r==="null"?"*":r,h=At(t),w=Un(i,h,r,c),_=Ln(h,r,c,o,i);return{promise:new Promise((v,m)=>{const k=On(s,u),y=d=>{if(!(d.source!==e.contentWindow||!d.data)){if(d.data.penpal===Q.Syn){w(d);return}if(d.data.penpal===Q.Ack){const E=_(d);E&&(k(),v(E));return}}};window.addEventListener(ce.Message,y),i("Parent: Awaiting handshake"),Vn(e,o),a(d=>{window.removeEventListener(ce.Message,y),d&&m(d)})}),destroy(){u()}}};function tt(n){let e,t,r,s,l,i;return{c(){e=P("div"),t=O("svg"),r=O("rect"),s=O("path"),this.h()},l(o){e=M(o,"DIV",{});var a=A(e);t=z(a,"svg",{"v-if":!0,xmlns:!0,"enable-background":!0,viewBox:!0,fill:!0,class:!0});var u=A(t);r=z(u,"rect",{fill:!0,height:!0,width:!0}),A(r).forEach(g),s=z(u,"path",{d:!0}),A(s).forEach(g),u.forEach(g),a.forEach(g),this.h()},h(){f(r,"fill","none"),f(r,"height","24"),f(r,"width","24"),f(s,"d","M3,3v18h18V3H3z M17,15.59L15.59,17L12,13.41L8.41,17L7,15.59L10.59,12L7,8.41L8.41,7L12,10.59L15.59,7L17,8.41L13.41,12 L17,15.59z"),f(t,"v-if","icon === 'close'"),f(t,"xmlns","http://www.w3.org/2000/svg"),f(t,"enable-background","new 0 0 24 24"),f(t,"viewBox","0 0 24 24"),f(t,"fill","currentColor"),f(t,"class","svelte-1c05l0n")},m(o,a){H(o,e,a),b(e,t),b(t,r),b(t,s),i=!0},i(o){i||(ge(()=>{l||(l=x(e,ee,{delay:100,duration:100},!0)),l.run(1)}),i=!0)},o(o){l||(l=x(e,ee,{delay:100,duration:100},!1)),l.run(0),i=!1},d(o){o&&g(e),o&&l&&l.end()}}}function nt(n){let e,t,r,s,l,i;return{c(){e=P("div"),t=O("svg"),r=O("path"),s=O("path"),this.h()},l(o){e=M(o,"DIV",{});var a=A(e);t=z(a,"svg",{"v-else-if":!0,xmlns:!0,viewBox:!0,fill:!0,class:!0});var u=A(t);r=z(u,"path",{d:!0,fill:!0}),A(r).forEach(g),s=z(u,"path",{d:!0}),A(s).forEach(g),u.forEach(g),a.forEach(g),this.h()},h(){f(r,"d","M0 0h24v24H0z"),f(r,"fill","none"),f(s,"d","M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"),f(t,"v-else-if","icon === 'launch'"),f(t,"xmlns","http://www.w3.org/2000/svg"),f(t,"viewBox","0 0 24 24"),f(t,"fill","currentColor"),f(t,"class","svelte-1c05l0n")},m(o,a){H(o,e,a),b(e,t),b(t,r),b(t,s),i=!0},i(o){i||(ge(()=>{l||(l=x(e,ee,{delay:100,duration:100},!0)),l.run(1)}),i=!0)},o(o){l||(l=x(e,ee,{delay:100,duration:100},!1)),l.run(0),i=!1},d(o){o&&g(e),o&&l&&l.end()}}}function rt(n){let e,t,r,s,l,i;return{c(){e=P("div"),t=O("svg"),r=O("path"),s=O("path"),this.h()},l(o){e=M(o,"DIV",{});var a=A(e);t=z(a,"svg",{"v-else-if":!0,xmlns:!0,viewBox:!0,fill:!0,class:!0});var u=A(t);r=z(u,"path",{d:!0,fill:!0}),A(r).forEach(g),s=z(u,"path",{d:!0}),A(s).forEach(g),u.forEach(g),a.forEach(g),this.h()},h(){f(r,"d","M0 0h24v24H0z"),f(r,"fill","none"),f(s,"d","M16.01 7L16 3h-2v4h-4V3H8v4h-.01C7 6.99 6 7.99 6 8.99v5.49L9.5 18v3h5v-3l3.5-3.51v-5.5c0-1-1-2-1.99-1.99z"),f(t,"v-else-if","icon === 'plug'"),f(t,"xmlns","http://www.w3.org/2000/svg"),f(t,"viewBox","0 0 24 24"),f(t,"fill","currentColor"),f(t,"class","svelte-1c05l0n")},m(o,a){H(o,e,a),b(e,t),b(t,r),b(t,s),i=!0},i(o){i||(ge(()=>{l||(l=x(e,ee,{delay:100,duration:100},!0)),l.run(1)}),i=!0)},o(o){l||(l=x(e,ee,{delay:100,duration:100},!1)),l.run(0),i=!1},d(o){o&&g(e),o&&l&&l.end()}}}function lt(n){let e,t,r,s,l,i;return{c(){e=P("div"),t=O("svg"),r=O("path"),s=O("path"),this.h()},l(o){e=M(o,"DIV",{});var a=A(e);t=z(a,"svg",{"v-else-if":!0,xmlns:!0,viewBox:!0,fill:!0,class:!0});var u=A(t);r=z(u,"path",{d:!0,fill:!0}),A(r).forEach(g),s=z(u,"path",{d:!0}),A(s).forEach(g),u.forEach(g),a.forEach(g),this.h()},h(){f(r,"d","M0 0h24v24H0V0z"),f(r,"fill","none"),f(s,"d","M18 14.49V9c0-1-1.01-2.01-2-2V3h-2v4h-4V3H8v2.48l9.51 9.5.49-.49zm-1.76 1.77L7.2 7.2l-.01.01L3.98 4 2.71 5.25l3.36 3.36C6.04 8.74 6 8.87 6 9v5.48L9.5 18v3h5v-3l.48-.48L19.45 22l1.26-1.28-4.47-4.46z"),f(t,"v-else-if","icon === 'unplug'"),f(t,"xmlns","http://www.w3.org/2000/svg"),f(t,"viewBox","0 0 24 24"),f(t,"fill","currentColor"),f(t,"class","svelte-1c05l0n")},m(o,a){H(o,e,a),b(e,t),b(t,r),b(t,s),i=!0},i(o){i||(ge(()=>{l||(l=x(e,ee,{delay:100,duration:100},!0)),l.run(1)}),i=!0)},o(o){l||(l=x(e,ee,{delay:100,duration:100},!1)),l.run(0),i=!1},d(o){o&&g(e),o&&l&&l.end()}}}function Tn(n){let e,t,r,s,l,i,o,a,u,c=n[0]==="close"&&tt(),h=n[0]==="launch"&&nt(),w=n[0]==="plug"&&rt(),_=n[0]==="unplug"&&lt();const p=n[3].default,v=ft(p,n,n[2],null);return{c(){e=P("button"),t=P("div"),c&&c.c(),r=G(),h&&h.c(),s=G(),w&&w.c(),l=G(),_&&_.c(),i=G(),v&&v.c(),this.h()},l(m){e=M(m,"BUTTON",{class:!0});var k=A(e);t=M(k,"DIV",{class:!0});var y=A(t);c&&c.l(y),r=Y(y),h&&h.l(y),s=Y(y),w&&w.l(y),l=Y(y),_&&_.l(y),y.forEach(g),i=Y(k),v&&v.l(k),k.forEach(g),this.h()},h(){f(t,"class","img-container svelte-1c05l0n"),f(e,"class","svelte-1c05l0n")},m(m,k){H(m,e,k),b(e,t),c&&c.m(t,null),b(t,r),h&&h.m(t,null),b(t,s),w&&w.m(t,null),b(t,l),_&&_.m(t,null),b(e,i),v&&v.m(e,null),o=!0,a||(u=te(e,"click",n[4]),a=!0)},p(m,[k]){m[0]==="close"?c?k&1&&C(c,1):(c=tt(),c.c(),C(c,1),c.m(t,r)):c&&(ue(),W(c,1,1,()=>{c=null}),de()),m[0]==="launch"?h?k&1&&C(h,1):(h=nt(),h.c(),C(h,1),h.m(t,s)):h&&(ue(),W(h,1,1,()=>{h=null}),de()),m[0]==="plug"?w?k&1&&C(w,1):(w=rt(),w.c(),C(w,1),w.m(t,l)):w&&(ue(),W(w,1,1,()=>{w=null}),de()),m[0]==="unplug"?_?k&1&&C(_,1):(_=lt(),_.c(),C(_,1),_.m(t,null)):_&&(ue(),W(_,1,1,()=>{_=null}),de()),v&&v.p&&(!o||k&4)&&ut(v,p,m,m[2],o?ht(p,m[2],k,null):dt(m[2]),null)},i(m){o||(C(c),C(h),C(w),C(_),C(v,m),o=!0)},o(m){W(c),W(h),W(w),W(_),W(v,m),o=!1},d(m){m&&g(e),c&&c.d(),h&&h.d(),w&&w.d(),_&&_.d(),v&&v.d(m),a=!1,u()}}}function Hn(n,e,t){let{$$slots:r={},$$scope:s}=e,{icon:l}=e;const i=pt(),o=()=>i("click","detail value");return n.$$set=a=>{"icon"in a&&t(0,l=a.icon),"$$scope"in a&&t(2,s=a.$$scope)},[l,i,s,r,o]}class Dt extends pe{constructor(e){super(),ve(this,e,Hn,Tn,me,{icon:0})}}const{window:Kn}=Nt;function st(n){let e,t,r,s,l;return t=new Dt({props:{icon:n[12]}}),t.$on("click",n[15]),{c(){e=P("div"),se(t.$$.fragment),this.h()},l(i){e=M(i,"DIV",{class:!0});var o=A(e);ie(t.$$.fragment,o),o.forEach(g),this.h()},h(){var i;f(e,"class",r=Ie((i=n[0])!=null&&i.keepPopup?"action":"action dim")+" svelte-fpee2k")},m(i,o){H(i,e,o),oe(t,e,null),l=!0},p(i,o){var u;const a={};o&4096&&(a.icon=i[12]),t.$set(a),(!l||o&1&&r!==(r=Ie((u=i[0])!=null&&u.keepPopup?"action":"action dim")+" svelte-fpee2k"))&&f(e,"class",r)},i(i){l||(C(t.$$.fragment,i),ge(()=>{s||(s=x(e,ee,{delay:100,duration:100},!0)),s.run(1)}),l=!0)},o(i){W(t.$$.fragment,i),s||(s=x(e,ee,{delay:100,duration:100},!1)),s.run(0),l=!1},d(i){i&&g(e),ae(t),i&&s&&s.end()}}}function Bn(n){let e,t=n[10].loading||!n[6]?"Loading...":"Load",r,s;return{c(){e=P("span"),r=Ne(t),this.h()},l(l){e=M(l,"SPAN",{class:!0});var i=A(e);r=Ve(i,t),i.forEach(g),this.h()},h(){var l;f(e,"class",s=Ie((l=n[0])!=null&&l.address?" connected ":" disconnected ")+" svelte-fpee2k")},m(l,i){H(l,e,i),b(e,r)},p(l,i){var o;i&1088&&t!==(t=l[10].loading||!l[6]?"Loading...":"Load")&&ct(r,t),i&1&&s!==(s=Ie((o=l[0])!=null&&o.address?" connected ":" disconnected ")+" svelte-fpee2k")&&f(e,"class",s)},d(l){l&&g(e)}}}function Fn(n){var ne;let e,t,r,s,l,i,o,a,u,c,h,w,_,p,v,m,k,y,d,E,I,U,R,V,X;l=new bt({});let L=(((ne=n[0])==null?void 0:ne.address)||n[1])&&st(n);return v=new Dt({props:{icon:n[11],$$slots:{default:[Bn]},$$scope:{ctx:n}}}),v.$on("click",n[23]),{c(){e=P("div"),t=P("div"),r=P("a"),s=P("div"),se(l.$$.fragment),i=G(),o=P("div"),a=P("input"),u=G(),c=P("span"),h=G(),w=P("div"),L&&L.c(),_=G(),p=P("div"),se(v.$$.fragment),y=G(),d=P("div"),E=P("iframe"),this.h()},l(T){e=M(T,"DIV",{class:!0});var N=A(e);t=M(N,"DIV",{class:!0,style:!0});var B=A(t);r=M(B,"A",{href:!0,target:!0,rel:!0});var q=A(r);s=M(q,"DIV",{class:!0});var S=A(s);ie(l.$$.fragment,S),S.forEach(g),q.forEach(g),i=Y(B),o=M(B,"DIV",{class:!0});var K=A(o);a=M(K,"INPUT",{class:!0,placeholder:!0}),u=Y(K),c=M(K,"SPAN",{class:!0}),A(c).forEach(g),K.forEach(g),h=Y(B),w=M(B,"DIV",{class:!0});var F=A(w);L&&L.l(F),_=Y(F),p=M(F,"DIV",{class:!0});var Z=A(p);ie(v.$$.fragment,Z),Z.forEach(g),F.forEach(g),B.forEach(g),y=Y(N),d=M(N,"DIV",{class:!0,style:!0});var _e=A(d);E=M(_e,"IFRAME",{title:!0,src:!0,allow:!0,class:!0}),A(E).forEach(g),_e.forEach(g),N.forEach(g),this.h()},h(){var T,N;f(s,"class","actions logo svelte-fpee2k"),f(r,"href","https://PeerPiper.io"),f(r,"target","_blank"),f(r,"rel","noreferrer"),f(a,"class","url svelte-fpee2k"),f(a,"placeholder",Gn),f(c,"class","green-line svelte-fpee2k"),f(o,"class","url-input-container svelte-fpee2k"),f(p,"class",m=Ie((T=n[10])!=null&&T.loading?"action dim":(N=n[0])!=null&&N.address?" connected ":" disconnected ")+" svelte-fpee2k"),f(w,"class","actions svelte-fpee2k"),f(t,"class","top svelte-fpee2k"),Ue(t,"--topOffsetHeight",n[2]),ge(()=>n[24].call(t)),f(E,"title","Web Wallet"),Xe(E.src,I=n[6])||f(E,"src",I),f(E,"allow","clipboard-read 'self' 'src'; clipboard-write 'self' 'src';"),f(E,"class","svelte-fpee2k"),f(d,"class","iframe svelte-fpee2k"),Ue(d,"height","calc("+n[4]+"px + 18px)"),ge(()=>n[26].call(d)),f(e,"class","connector-container svelte-fpee2k")},m(T,N){H(T,e,N),b(e,t),b(t,r),b(r,s),oe(l,s,null),b(t,i),b(t,o),b(o,a),$e(a,n[1]),b(o,u),b(o,c),b(t,h),b(t,w),L&&L.m(w,null),b(w,_),b(w,p),oe(v,p,null),k=je(t,n[24].bind(t)),b(e,y),b(e,d),b(d,E),n[25](E),U=je(d,n[26].bind(d)),R=!0,V||(X=[te(Kn,"keydown",n[16]),te(a,"focus",n[20]),te(a,"blur",n[21]),te(a,"input",n[22]),te(a,"input",function(){Ut(n[8])&&n[8].apply(this,arguments)})],V=!0)},p(T,[N]){var q,S,K;n=T,N&2&&a.value!==n[1]&&$e(a,n[1]),((q=n[0])==null?void 0:q.address)||n[1]?L?(L.p(n,N),N&3&&C(L,1)):(L=st(n),L.c(),C(L,1),L.m(w,_)):L&&(ue(),W(L,1,1,()=>{L=null}),de());const B={};N&2048&&(B.icon=n[11]),N&1073742913&&(B.$$scope={dirty:N,ctx:n}),v.$set(B),(!R||N&1025&&m!==(m=Ie((S=n[10])!=null&&S.loading?"action dim":(K=n[0])!=null&&K.address?" connected ":" disconnected ")+" svelte-fpee2k"))&&f(p,"class",m),(!R||N&4)&&Ue(t,"--topOffsetHeight",n[2]),(!R||N&64&&!Xe(E.src,I=n[6]))&&f(E,"src",I),(!R||N&16)&&Ue(d,"height","calc("+n[4]+"px + 18px)")},i(T){R||(C(l.$$.fragment,T),C(L),C(v.$$.fragment,T),R=!0)},o(T){W(l.$$.fragment,T),W(L),W(v.$$.fragment,T),R=!1},d(T){T&&g(e),ae(l),L&&L.d(),ae(v),k(),n[25](null),U(),V=!1,gt(X)}}}let Gn="Enter Wallet Url";const it="INPUT_URL";function Yn(n,e,t){let r,s,{wallet:l=null}=e,{inputUrl:i="https://peerpiper.github.io/iframe-wallet-sdk/"}=e,{topOffsetHeight:o=0}=e,{topOffsetWidth:a=0}=e,{iframeParentHeight:u=0}=e,{iframeParentWidth:c=0}=e,h,{show:w}=e,{hide:_}=e;const p=pt();let v,m,k,y;const d={loading:!0};Be(async()=>{const{ImmortalDB:S}=await mt(()=>import("./index-f3824ee7.js"),[],import.meta.url);t(8,y=async()=>{try{await S.set(it,v)}catch(K){console.warn("Did not save",v,K)}});try{const K=await S.get(it,null);K&&t(1,i=K)}catch(K){console.warn("Did not get",K)}I()});async function E(){t(10,d.loading=!1,d);let S;S=await Wn({iframe:m,methods:{setIframeParentHeight(F){t(4,u=F)},setIframeParentWidth(F){t(17,c=F)},show(){w()},hide(){_()},walletReady(){return t(0,l=S),p("walletReady",{wallet:l}),window.arweaveWallet=l.arweaveWalletAPI,!0}}}).promise,w()}const I=()=>{v!==i&&(t(6,v=""),t(6,v=i),t(10,d.loading=!0,d))},U=()=>l.disconnect(),R=()=>window.open(i);function V(S){S.key==="Enter"&&k&&I()}const X=()=>t(9,k=!0),L=()=>t(9,k=!1);function ne(){i=this.value,t(1,i)}const T=()=>{l!=null&&l.address?U():I()};function N(){o=this.offsetHeight,a=this.offsetWidth,t(2,o),t(3,a)}function B(S){vt[S?"unshift":"push"](()=>{m=S,t(7,m)})}function q(){h=this.offsetWidth,t(5,h)}return n.$$set=S=>{"wallet"in S&&t(0,l=S.wallet),"inputUrl"in S&&t(1,i=S.inputUrl),"topOffsetHeight"in S&&t(2,o=S.topOffsetHeight),"topOffsetWidth"in S&&t(3,a=S.topOffsetWidth),"iframeParentHeight"in S&&t(4,u=S.iframeParentHeight),"iframeParentWidth"in S&&t(17,c=S.iframeParentWidth),"show"in S&&t(18,w=S.show),"hide"in S&&t(19,_=S.hide)},n.$$.update=()=>{n.$$.dirty&320&&v&&y&&y(),n.$$.dirty&128&&m&&m.addEventListener("load",E),n.$$.dirty&1&&t(12,r=l!=null&&l.keepPopup?"close":"launch"),n.$$.dirty&1&&t(11,s=l!=null&&l.address?"unplug":"plug"),n.$$.dirty&33&&h&&l&&(l==null||l.setWidth(h))},[l,i,o,a,u,h,v,m,y,k,d,s,r,I,U,R,V,c,w,_,X,L,ne,T,N,B,q]}class Xn extends pe{constructor(e){super(),ve(this,e,Yn,Fn,me,{wallet:0,inputUrl:1,topOffsetHeight:2,topOffsetWidth:3,iframeParentHeight:4,iframeParentWidth:17,show:18,hide:19})}}function ot(n){let e,t;return e=new vn({props:{$$slots:{default:[$n,({openNav:r,hideNav:s})=>({5:r,6:s}),({openNav:r,hideNav:s})=>(r?32:0)|(s?64:0)]},$$scope:{ctx:n}}}),{c(){se(e.$$.fragment)},l(r){ie(e.$$.fragment,r)},m(r,s){oe(e,r,s),t=!0},p(r,s){const l={};s&227&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){t||(C(e.$$.fragment,r),t=!0)},o(r){W(e.$$.fragment,r),t=!1},d(r){ae(e,r)}}}function $n(n){let e,t,r;function s(i){n[3](i)}let l={inputUrl:n[1],show:n[5],hide:n[6]};return n[0]!==void 0&&(l.wallet=n[0]),e=new Xn({props:l}),vt.push(()=>Vt(e,"wallet",s)),e.$on("walletReady",n[4]),{c(){se(e.$$.fragment)},l(i){ie(e.$$.fragment,i)},m(i,o){oe(e,i,o),r=!0},p(i,o){const a={};o&2&&(a.inputUrl=i[1]),o&32&&(a.show=i[5]),o&64&&(a.hide=i[6]),!t&&o&1&&(t=!0,a.wallet=i[0],Ot(()=>t=!1)),e.$set(a)},i(i){r||(C(e.$$.fragment,i),r=!0)},o(i){W(e.$$.fragment,i),r=!1},d(i){ae(e,i)}}}function jn(n){let e,t,r=n[2]&&ot(n);return{c(){r&&r.c(),e=De()},l(s){r&&r.l(s),e=De()},m(s,l){r&&r.m(s,l),H(s,e,l),t=!0},p(s,[l]){s[2]?r?(r.p(s,l),l&4&&C(r,1)):(r=ot(s),r.c(),C(r,1),r.m(e.parentNode,e)):r&&(ue(),W(r,1,1,()=>{r=null}),de())},i(s){t||(C(r),t=!0)},o(s){W(r),t=!1},d(s){r&&r.d(s),s&&g(e)}}}function qn(n,e,t){let{inputUrl:r}=e,{wallet:s=null}=e,l;Be(()=>{t(2,l=!0)});function i(a){s=a,t(0,s)}function o(a){zt.call(this,n,a)}return n.$$set=a=>{"inputUrl"in a&&t(1,r=a.inputUrl),"wallet"in a&&t(0,s=a.wallet)},[s,r,l,i,o]}class Jn extends pe{constructor(e){super(),ve(this,e,qn,jn,me,{inputUrl:1,wallet:0})}}function at(n){let e,t;return e=new Ht({props:{wallet:n[0],RSAPublicKey:n[1],Ed25519PublicKey:n[2]}}),{c(){se(e.$$.fragment)},l(r){ie(e.$$.fragment,r)},m(r,s){oe(e,r,s),t=!0},p(r,s){const l={};s&1&&(l.wallet=r[0]),s&2&&(l.RSAPublicKey=r[1]),s&4&&(l.Ed25519PublicKey=r[2]),e.$set(l)},i(r){t||(C(e.$$.fragment,r),t=!0)},o(r){W(e.$$.fragment,r),t=!1},d(r){ae(e,r)}}}function Zn(n){let e,t,r,s;e=new Jn({}),e.$on("walletReady",n[3]);let l=n[0]&&n[1]&&n[2]&&at(n);return{c(){se(e.$$.fragment),t=G(),l&&l.c(),r=De()},l(i){ie(e.$$.fragment,i),t=Y(i),l&&l.l(i),r=De()},m(i,o){oe(e,i,o),H(i,t,o),l&&l.m(i,o),H(i,r,o),s=!0},p(i,[o]){i[0]&&i[1]&&i[2]?l?(l.p(i,o),o&7&&C(l,1)):(l=at(i),l.c(),C(l,1),l.m(r.parentNode,r)):l&&(ue(),W(l,1,1,()=>{l=null}),de())},i(i){s||(C(e.$$.fragment,i),C(l),s=!0)},o(i){W(e.$$.fragment,i),W(l),s=!1},d(i){ae(e,i),i&&g(t),l&&l.d(i),i&&g(r)}}}function Qn(n,e,t){let r,s,l;return[r,s,l,async o=>{t(0,r=o.detail.wallet),t(1,s=await r.arweaveWalletAPI.getActivePublicKey()),t(2,l=await r.proxcryptor.getPublicKey())}]}class nr extends pe{constructor(e){super(),ve(this,e,Qn,Zn,me,{})}}export{nr as P,tr as b};
